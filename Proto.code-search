# Query: **
# Flags: IgnoreExcludeSettings
# Including: semantic-search-aws-docs/**/*.md
# Excluding: build/**
# ContextLines: 1

20010 results - 511 files
The result set only contains a subset of all matches. Be more specific in your search to narrow down the results.

proj.aws-docs • semantic-search-aws-docs/CONTRIBUTING.md:
  53  ## Security issue notifications
  54: If you discover a potential security issue in this project we ask that you notify AWS/Amazon Security via our [vulnerability reporting page](http://aws.amazon.com/security/vulnerability-reporting/). Please do **not** create a public github issue.
  55  

proj.aws-docs • semantic-search-aws-docs/README.md:
   54  * git clone this repository
   55: * **Configure**
   56  Configure and change the infrastructure region, subnets, availability zones in the `infrastructure/terraform.tfvars` file as needed
   57: * **Initialize**  
   58  In this example the Terrform state is stored remotely and managed through a backend using S3 and a dynamodb table to acquire the state lock. This allows collaboration on the same Terraform infrastructure from different machines.

   83  
   84: * **Deploy**  
   85  Run terraform deploy and approve changes by typing yes.

   88      ```    
   89:     ***Please note:*** _deployment can take a long time to push the container depending on the upload bandwidth of your machine.  
   90      For faster deployment you can run the terraform deployment from a development environment hosted inside the same AWS region, for example by using the [AWS Cloud9](https://aws.amazon.com/cloud9/) IDE._
   91: * **Use**  
   92  Once deployment is completed, browse to the output URL (`loadbalancer_url`) from the Terraform output to see the appliction.   
   93  However, searches won't return any results until you ingest any documents.
   94: * **Clean up**  
   95    To remove all created resources of the applications infrastructure again use

  126      ```   
  127:     ***Please note:*** _deployment can take a long time to push the container depending on the upload bandwidth of your machine. For faster deployment you can build and push the container in AWS, for example by using the [AWS Cloud9](https://aws.amazon.com/cloud9/) IDE._
  128  * Once the previous step finsihes, the ECS ingestion task is started. You can check its progress in the AWS console, for example in Amazon CloudWatch under the log group name `semantic-search` and checking `ingestion-job`. After the task finsihed successfully, the ingested documents are searchable via the application.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide/CONTRIBUTING.md:
  20  
  21: **Note:** We all write differently, and you might not like how we've written or organized something currently. We want that feedback. But please be sure that your request for a rewrite is supported by the previous criteria. If it isn't, we might decline to merge it.
  22  

  27  1. [Fork the repository](https://help.github.com/articles/fork-a-repo/).
  28: 2. In your fork, make your change in a branch that's based on this repo's **master** branch.
  29  3. Commit the change to your fork, using a clear and descriptive commit message.

  33  
  34: 1. You're working from the latest source on the **master** branch.
  35  2. You check [existing open](https://github.com/awsdocs/amazon-ec2-user-guide/pulls), and [recently closed](https://github.com/awsdocs/amazon-ec2-user-guide/pulls?q=is%3Apr+is%3Aclosed), pull requests to be sure that someone else hasn't already addressed the problem.

  51  
  52: If you discover a potential security issue, please notify AWS Security via our [vulnerability reporting page](http://aws.amazon.com/security/vulnerability-reporting/). Please do **not** create a public issue on GitHub.
  53  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide/doc_source/burstable-performance-instances-standard-mode-concepts.md:
  36  
  37: **Tip**  
  38  To ensure that your workloads always get the performance they need, switch to [Unlimited mode for burstable performance instances](burstable-performance-instances-unlimited-mode.md) or consider using a larger instance size\.

  46  | --- | --- | --- | 
  47: |  **Credit earn rate**  |  T2 Standard instances get 30 launch credits per vCPU at launch or start\. If a T2 instance is switched from `unlimited` to `standard`, it does not get launch credits at the time of switching\.  |  Each T2 instance continuously earns \(at a millisecond\-level resolution\) a set rate of CPU credits per hour, depending on the instance size\. For more information about the number of CPU credits earned per instance size, see the [credit table](burstable-credits-baseline-concepts.md#burstable-performance-instances-credit-table)\.  | 
  48: |  **Credit earn limit**  |  The limit for receiving launch credits is 100 launches or starts of all T2 Standard instances combined per account, per Region, per rolling 24\-hour period\. New accounts may have a lower limit, which increases over time based on your usage\.  |  A T2 instance cannot accrue more credits than the CPU credit balance limit\. If the CPU credit balance has reached its limit, any credits that are earned after the limit is reached are discarded\. Launch credits do not count towards the limit\. For more information about the CPU credit balance limit for each T2 instance size, see the [credit table](burstable-credits-baseline-concepts.md#burstable-performance-instances-credit-table)\.  | 
  49: |  **Credit use**  |  Launch credits are spent first, before earned credits\.  |  Earned credits are spent only after all launch credits are spent\.  | 
  50: |  **Credit expiration**  |  When a T2 Standard instance is running, launch credits do not expire\. When a T2 Standard instance stops or is switched to T2 Unlimited, all launch credits are lost\.  |  When a T2 instance is running, earned credits that have accrued do not expire\. When the T2 instance stops, all accrued earned credits are lost\.  | 
  51  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/CONTRIBUTING.md:
  20  
  21: **Note:** We all write differently, and you might not like how we've written or organized something currently. We want that feedback. But please be sure that your request for a rewrite is supported by the previous criteria. If it isn't, we might decline to merge it.
  22  

  27  1. [Fork the repository](https://help.github.com/articles/fork-a-repo/).
  28: 2. In your fork, make your change in a branch that's based on this repo's **master** branch.
  29  3. Commit the change to your fork, using a clear and descriptive commit message.

  33  
  34: 1. You're working from the latest source on the **master** branch.
  35  2. You check [existing open](https://github.com/awsdocs/amazon-ec2-user-guide-windows/pulls), and [recently closed](https://github.com/awsdocs/amazon-ec2-user-guide-windows/pulls?q=is%3Apr+is%3Aclosed), pull requests to be sure that someone else hasn't already addressed the problem.

  51  
  52: If you discover a potential security issue, please notify AWS Security via our [vulnerability reporting page](http://aws.amazon.com/security/vulnerability-reporting/). Please do **not** create a public issue on GitHub.
  53  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/add-instance-store-volumes.md:
   18  
   19: **Topics**
   20  + [Add instance store volumes to an AMI](#adding-instance-storage-ami)

   27  
   28: **Considerations**
   29  + For M3 instances, specify instance store volumes in the block device mapping of the instance, not the AMI\. Amazon EC2 might ignore instance store volumes that are specified only in the block device mapping of the AMI\.

   34  
   35: **To add instance store volumes to an Amazon EBS\-backed AMI using the console**
   36  

   38  
   39: 1. In the navigation pane, choose **Instances** and select the instance\.
   40  
   41: 1. Choose **Actions**, **Image and templates**, **Create image**\.
   42  
   43: 1. On the **Create image** page, enter a meaningful name and description for your image\.
   44  
   45: 1. For each instance store volume to add, choose **Add volume**, from **Volume type** select an instance store volume, and from **Device** select a device name\. \(For more information, see [Device names on Windows instances](device_naming.md)\.\) The number of available instance store volumes depends on the instance type\. For instances with NVMe instance store volumes, the device mapping of these volumes depends on the order in which the operating system enumerates the volumes\.
   46  
   47: 1. Choose **Create image**\.
   48  

   51  
   52: **To add instance store volumes to an Amazon EBS\-backed AMI using the console**
   53  

   55  
   56: 1. In the navigation pane, choose **Instances** and select the instance\.
   57  
   58: 1. Choose **Actions**, **Image**, **Create Image**\.
   59  
   60: 1. In the **Create Image** dialog box, type a meaningful name and description for your image\.
   61  
   62: 1. For each instance store volume to add, choose **Add New Volume**, from **Volume Type** select an instance store volume, and from **Device** select a device name\. \(For more information, see [Device names on Windows instances](device_naming.md)\.\) The number of available instance store volumes depends on the instance type\. For instances with NVMe instance store volumes, the device mapping of these volumes depends on the order in which the operating system enumerates the volumes\.
   63  
   64: 1. Choose **Create Image**\.
   65  

   67  
   68: **To add instance store volumes to an AMI using the command line**
   69  

   77  
   78: **Considerations**
   79  + For M3 instances, you might receive instance store volumes even if you do not specify them in the block device mapping for the instance\.

   81  
   82: **To update the block device mapping for an instance using the console**
   83  

   85  
   86: 1. From the dashboard, choose **Launch instance**\.
   87  
   88: 1. In **Step 1: Choose an Amazon Machine Image \(AMI\)**, select the AMI to use and choose **Select**\.
   89  
   90: 1. Follow the wizard to complete **Step 1: Choose an Amazon Machine Image \(AMI\)**, **Step 2: Choose an Instance Type**, and **Step 3: Configure Instance Details**\.
   91  
   92: 1. In **Step 4: Add Storage**, modify the existing entries as needed\. For each instance store volume to add, choose **Add New Volume**, from **Volume Type** select an instance store volume, and from **Device** select a device name\. The number of available instance store volumes depends on the instance type\.
   93  

   97  
   98: **To update the block device mapping for an instance using the command line**
   99  

  113  
  114: **To manually mount an instance store volume**
  115  
  116: 1. Choose **Start**, enter **Computer Management**, and then press **Enter**\.
  117  
  118: 1. In left\-hand panel, choose **Disk Management**\.
  119  
  120: 1. If you are prompted to initialize the volume, choose the volume to initialize, select the required partition type depending on your use case, and then choose **OK**\.
  121  
  122: 1. In the list of volumes, right\-click the volume to mount, and then choose **New Simple Volume**\.
  123  
  124: 1. On the wizard, choose **Next**\.
  125  
  126: 1. On the Specify Volume Size screen, choose **Next** to use the maximum volume size\. Alternatively, choose a volume size that is between the minimum and maximum disk space\.
  127  
  128: 1. On the Assign a Drive Letter or Path screen, do one of the following, and choose **Next**\.
  129:    + To mount the volume with a drive letter, choose **Assign the following drive letter** and then choose the drive letter to use\.
  130:    + To mount the volume as a folder, choose **Mount in the following empty NTFS folder** and then choose **Browse** to create or select the folder to use\.
  131:    + To mount the volume without a drive letter or path, choose **Do not assign a drive letter or drive path**\.
  132  

  134  
  135: 1. Choose **Next**, **Finish**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/AmazonEFS.md:
  4  
  5: **Important**  
  6  Amazon EFS is not supported on Windows instances\. To use Amazon EFS with a Linux instance, see [Amazon Elastic File System \(Amazon EFS\)](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEFS.html) in the *Amazon EC2 User Guide for Linux Instances*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/AmazonS3.md:
  18  
  19: **AWS Tools for Windows PowerShell**  
  20  Windows instances have the benefit of a graphical browser that you can use to access the Amazon S3 console directly; however, for scripting purposes, Windows users can also use the [AWS Tools for Windows PowerShell](https://aws.amazon.com/powershell) to move objects to and from Amazon S3\.

  27  
  28: **AWS Command Line Interface**  
  29  The AWS Command Line Interface \(AWS CLI\) is a unified tool to manage your AWS services\. The AWS CLI enables users to authenticate themselves and download restricted items from Amazon S3 and also to upload items\. For more information, such as how to install and configure the tools, see the [AWS Command Line Interface detail page](https://aws.amazon.com/cli/)\.

  52  
  53: **Amazon S3 API**  
  54  If you are a developer, you can use an API to access data in Amazon S3\. For more information, see the [Amazon Simple Storage Service User Guide](https://docs.aws.amazon.com/AmazonS3/latest/dev/)\. You can use this API and its examples to help develop your application and integrate it with other APIs and SDKs, such as the boto Python interface\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-billing-info.md:
   5  Here are two examples of how researching your AMI in advance can help you choose the AMI that best suits your needs:
   6: + For Spot Instances, you can use the AMI **Platform details** to confirm that the AMI is supported for Spot Instances\.
   7: + When purchasing a Reserved Instance, you can make sure that you select the operating system platform \(**Platform**\) that maps to the AMI **Platform details**\.
   8  

  10  
  11: **Topics**
  12  + [AMI billing information fields](billing-info-fields.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-boot-mode.md:
   6  
   7: **To determine the boot mode parameter of an AMI \(console\)**
   8  

  10  
  11: 1. In the navigation pane, choose **AMIs**, and then select the AMI\.
  12  
  13: 1. On the **Details** tab, inspect the **Boot mode** field\.
  14  
  15: **To determine the boot mode parameter of an AMI when launching an instance \(console\)**  
  16: When launching an instance using the launch instance wizard, at the step to select an AMI, inspect the **Boot mode** field\. For more information, see [Application and OS Images \(Amazon Machine Image\)](ec2-launch-instance-wizard.md#liw-ami)\.
  17  
  18: **To determine the boot mode parameter of an AMI \(AWS CLI\)**  
  19  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) command to determine the boot mode of an AMI\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-boot.md:
   6  
   7: **Possible boot mode parameters on an AMI**  
   8  An AMI can have one of the following boot mode parameter values: `uefi`, `legacy-bios`, or `uefi-preferred`\. The AMI boot mode parameter is optional\. For AMIs with no boot mode parameter, the instances launched from these AMIs use the default boot mode value of the instance type\.
   9  
  10: **Purpose of the AMI boot mode parameter**  
  11  The AMI boot mode parameter signals to Amazon EC2 which boot mode to use when launching an instance\. When the boot mode parameter is set to `uefi`, EC2 attempts to launch the instance on UEFI\. If the operating system is not configured to support UEFI, the instance launch will be unsuccessful\.
  12  
  13: **UEFI Preferred boot mode parameter**  
  14  You can create AMIs that support both UEFI and Legacy BIOS by using the `uefi-preferred` boot mode parameter\. When the boot mode parameter is set to `uefi-preferred`, and if the instance type supports UEFI, the instance is launched on UEFI\. If the instance type does not support UEFI, the instance is launched on Legacy BIOS\.
  15  
  16: **Warning**  
  17  Some features, like UEFI Secure Boot, are only available on instances that boot on UEFI\. When you use the `uefi-preferred` AMI boot mode parameter with an instance type that does not support UEFI, the instance will launch as Legacy BIOS and the UEFI\-dependent feature will be disabled\. If you rely on the availability of a UEFI\-dependent feature, set your AMI boot mode parameter to `uefi`\.
  18  
  19: **Default boot modes for instance types**
  20  + Graviton instance types: UEFI

  22  
  23: **Running Intel and AMD instances types on UEFI**  
  24  [Most Intel and AMD instance types](launch-instance-boot-mode.md#UEFI-supported-types) can run on both UEFI and Legacy BIOS\. To use UEFI, you must select an AMI with the boot mode parameter set either to `uefi` or `uefi-preferred`, and the operating system contained in the AMI must be configured to support UEFI\.
  25  
  26: **Topics**
  27  + [Launch an instance](launch-instance-boot-mode.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-deprecate.md:
   15  
   16: **Note**  
   17  By default, the deprecation date of all public AMIs is set to two years from the AMI creation date\. You can set the deprecation date to earlier than two years\. To cancel the deprecation date, or to move the deprecation to a later date, you must make the AMI private by only [sharing it with specific AWS accounts](sharingamis-explicit.md)\.
   18  
   19: **Topics**
   20  + [Costs](#ami-deprecate-costs)

   39  
   40: **To deprecate an AMI on a specific date**
   41  

   43  
   44: 1. In the left navigator, choose **AMIs**\.
   45  
   46: 1. From the filter bar, choose **Owned by me**\.
   47  
   48: 1. Select the AMI, and then choose **Actions**, **Manage AMI Deprecation**\. You can select multiple AMIs to set the same deprecation date of several AMIs at once\.
   49  
   50: 1. Select the **Enable** check box, and then enter the deprecation date and time\. 
   51  

   53  
   54: 1. Choose **Save**\.
   55  

   58  
   59: **To deprecate an AMI on a specific date**  
   60  Use the [enable\-image\-deprecation](https://docs.aws.amazon.com/cli/latest/reference/ec2/enable-image-deprecation.html) command\. Specify the ID of the AMI and the date and time on which to deprecate the AMI\. If you specify a value for seconds, Amazon EC2 rounds the seconds to the nearest minute\.

   83  
   84: **Note**  
   85  When an AMI is used to launch an instance, there is a 24\-hour delay before that usage is reported\. 

   90  
   91: **To view the last launched time of an AMI**
   92  

   94  
   95: 1. In the left navigator, choose **AMIs**\.
   96  
   97: 1. From the filter bar, choose **Owned by me**\.
   98  
   99: 1. Select the AMI, and then check the **Last launched time** field \(if you selected the check box next to the AMI, it's located on the **Details** tab\)\. The field shows the date and time when the AMI was last used to launch an instance\.
  100  

  103  
  104: **To view the last launched time of an AMI**  
  105  Run the [describe\-image\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-image-attribute.html) command and specify `--attribute lastLaunchedTime`\. You must be the AMI owner to run this command\.

  132  
  133: **To view the deprecation date of an AMI**
  134  

  136  
  137: 1. In the left navigator, choose **AMIs**, and then select the AMI\.
  138  
  139: 1. Check the **Deprecation time** field \(if you selected the check box next to the AMI, it's located on the **Details** tab\)\. The field shows the deprecation date and time of the AMI\. If the field is empty, the AMI is not deprecated\.
  140  
  141: **To filter AMIs by deprecation date**
  142  

  144  
  145: 1. In the left navigator, choose **AMIs**\.
  146  
  147: 1. From the filter bar, choose **Owned by me** or **Private images** \(private images include AMIs that are shared with you as well as owned by you\)\.
  148  
  149: 1. In the Search bar, enter **Deprecation time** \(as you enter the letters, the **Deprecation time** filter appears\), and then choose an operator and a date and time\.
  150  

  163  
  164: **Note**  
  165  A deprecated AMI is an AMI whose deprecation date is in the past\. If you have set the deprecation date to a date in the future, the AMI is not yet deprecated\.
  166  
  167: **To include all deprecated AMIs when describing all AMIs**  
  168  Use the [describe\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) command and specify the `--include-deprecated` parameter to include all deprecated AMIs that are not owned by you in the results\.

  176  
  177: **To describe the deprecation date of an AMI**  
  178  Use the [describe\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) command and specify the ID of the AMI\.

  235  
  236: You can cancel the deprecation of an AMI, which removes the date and time from the **Deprecation time** field \(console\) or the `DeprecationTime` field from the [describe\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) output \(AWS CLI\)\. You must be the AMI owner to perform this procedure\.
  237  

  240  
  241: **To cancel the deprecation of an AMI**
  242  

  244  
  245: 1. In the left navigator, choose **AMIs**\.
  246  
  247: 1. From the filter bar, choose **Owned by me**\.
  248  
  249: 1. Select the AMI, and then choose **Actions**, **Manage AMI Deprecation**\. You can select multiple AMIs to cancel the deprecation of several AMIs at once\.
  250  
  251: 1. Clear the **Enable** check box, and then choose **Save**\.
  252  

  255  
  256: **To cancel the deprecation of an AMI**  
  257  Use the [disable\-image\-deprecation](https://docs.aws.amazon.com/cli/latest/reference/ec2/disable-image-deprecation.html) command and specify the ID of the AMI\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-policy.md:
    4  
    5: **Topics**
    6  + [Create an AMI lifecycle policy](#create-ami-policy)

   16  
   17: **To create an AMI policy**
   18  

   20  
   21: 1. In the navigation pane, choose **Elastic Block Store**, **Lifecycle Manager**, and then choose **Create lifecycle policy**\.
   22  
   23: 1. On the **Select policy type** screen, choose **EBS\-backed AMI policy**, and then choose **Next**\.
   24  
   25: 1. In the **Target resources** section, for **Target resource tags**, choose the resource tags that identify the volumes or instances to back up\. The policy backs up only the resources that have the specified tag key and value pairs\.
   26  
   27: 1. For **Description**, enter a brief description for the policy\.
   28  
   29: 1. For **IAM role**, choose the IAM role that has permissions to manage AMIs and snapshot and to describe instances\. To use the default role provided by Amazon Data Lifecycle Manager, choose **Default role**\. Alternatively, to use a custom IAM role that you previously created, choose **Choose another role**, and then select the role to use\.
   30  
   31: 1. For **Policy tags**, add the tags to apply to the lifecycle policy\. You can use these tags to identify and categorize your policies\.
   32  
   33: 1. For **Policy status after creation**, choose **Enable policy** to start running the policy at the next scheduled time, or **Disable policy** to prevent the policy from running\. If you do not enable the policy now, it will not start creating AMIs until you manually enable it after creation\.
   34  
   35: 1. In the **Instance reboot** section, indicate whether instances should be rebooted before AMI creation\. To prevent the targeted instances from being rebooted, choose **No**\. Choosing **No** could cause data consistency issues\. To reboot instances before AMI creation, choose **Yes**\. Choosing this ensures data consistency, but could result in multiple targeted instances rebooting simultaneously\.
   36  
   37: 1. Choose **Next**\.
   38  
   39: 1. On the **Configure schedule** screen, configure the policy schedules\. A policy can have up to four schedules\. Schedule 1 is mandatory\. Schedules 2, 3, and 4 are optional\. For each policy schedule that you add, do the following:
   40  
   41:    1. In the **Schedule details** section do the following:
   42  
   43:       1. For **Schedule name**, specify a descriptive name for the schedule\.
   44  
   45:       1. For **Frequency** and the related fields, configure the interval between policy runs\. You can configure policy runs on a daily, weekly, monthly, or yearly schedule\. Alternatively, choose **Custom cron expression** to specify an interval of up to one year\. For more information, see [Cron expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#CronExpressions) in the *Amazon CloudWatch Events User Guide*\.
   46  
   47:       1. For **Starting at**, specify the time to start the policy runs\. The first policy run starts within an hour after the time that you schedule\. You must enter the time in the `hh:mm` UTC format\.
   48  
   49:       1. For **Retention type**, specify the retention policy for AMIs created by the schedule\. You can retain AMIs based on either their total count or their age\.
   50  

   53           For age\-based retention, the range is `1` day to `100` years\. After the retention period of each AMI expires, it is deregistered\.
   54: **Note**  
   55  All schedules must have the same retention type\. You can specify the retention type for Schedule 1 only\. Schedules 2, 3, and 4 inherit the retention type from Schedule 1\. Each schedule can have its own retention count or period\.
   56  
   57:    1. In the **Tagging** section, do the following:
   58  
   59:       1. To copy all of the user\-defined tags from the source instance to the AMIs created by the schedule, select **Copy tags from source**\.
   60  
   61:       1. By default, AMIs created by the schedule are automatically tagged with the ID of the source instance\. To prevent this automatic tagging from happening, for **Variable tags**, remove the `instance-id:$(instance-id)` tile\.
   62  
   63:       1. To specify additional tags to assign to AMIs created by this schedule, choose **Add tags**\.
   64  
   65:    1. To deprecate AMIs when they should no longer be used, in the **AMI deprecation** section, select **Enable AMI deprecation for this schedule** and then specify the AMI deprecation rule\. The AMI deprecation rule specifies when AMIs are to be deprecated\.
   66  

   70  
   71:    1. To copy AMIs created by the schedule to different Regions, in the **Cross\-Region copy** section, select **Enable cross\-Region copy**\. You can copy AMIs to up to three additional Regions in your account\. You must specify a separate cross\-Region copy rule for each destination Region\.
   72  

   77        + Whether to copy all tags or no tags from the source AMI\.
   78: **Note**  
   79  Do not exceed the number of concurrent AMI copies per Region\.
   80  
   81:    1. To add additional schedules, choose **Add another schedule**, which is located at the top of the screen\. For each additional schedule, complete the fields as described previously in this topic\.
   82  
   83:    1. After you have added the required schedules, choose **Review policy**\.
   84  
   85: 1. Review the policy summary, and then choose **Create policy**\.
   86  

   91  
   92: **Note**  
   93  To simplify the syntax, the following examples use a JSON file, `policyDetails.json`, that includes the policy details\.
   94  
   95: **Example 1: Age\-based retention and AMI deprecation**  
   96  This example creates an AMI lifecycle policy that creates AMIs of all instances that have a tag key of `purpose` with a value of `production` without rebooting the targeted instances\. The policy includes one schedule that creates an AMI every day at `01:00` UTC\. The policy retains AMIs for `2` days and deprecates them after `1` day\. It also copies the tags from the source instance to the AMIs that it creates\.

  155  
  156: **Example 2: Count\-based retention and AMI deprecation with cross\-Region copy**  
  157  This example creates an AMI lifecycle policy that creates AMIs of all instances that have a tag key of `purpose` with a value of `production` and reboots the target instances\. The policy includes one schedule that creates an AMI every `6` hours starting at `17:30` UTC\. The policy retains `3` AMIs and automatically deprecates the `2` oldest AMIs\. It also has a cross\-Region copy rule that copies AMIs to `us-east-1`, retains `2` AMI copies, and automatically deprecates the oldest AMI\.

  216  
  217: The following **general considerations** apply to creating AMI lifecycle policies:
  218  + AMI lifecycle policies target only instances that are in the same Region as the policy\.

  229  
  230: The following considerations apply to **terminating instances targeted by a policy:**
  231  + If you terminate an instance that was targeted by a policy with a count\-based retention schedule, the policy no longer manages the AMIs that it previously created from the terminated instance\. You must manually deregister those earlier AMIs if they are no longer needed\.

  233  
  234: The following considerations apply to AMI policies and **AMI deprecation:**
  235  + If you increase the AMI deprecation count for a schedule with count\-based retention, the change is applied to all AMIs \(existing and new\) created by the schedule\.

  243  
  244: The following considerations apply to AMI lifecycle policies that are in the **error** state:
  245  + For policies with age\-based retention schedules, AMIs that are set to expire while the policy is in the `error` state are retained indefinitely\. You must deregister the AMIs manually\. When you re\-enable the policy, Amazon Data Lifecycle Manager resumes deregistering AMIs as their retention periods expire\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-store-restore.md:
   10  
   11: **Warning**  
   12  Ensure that you comply with all applicable laws and business requirements when moving data between AWS partitions or AWS Regions, including, but not limited to, any applicable government regulations and data residency requirements\.
   13  
   14: **Topics**
   15  + [Use cases](#use-cases)

   24  
   25: **Topics**
   26  + [Copy an AMI from one AWS partition to another AWS partition](#copy-to-partition)

   36  + Copy the stored AMI object to an S3 bucket in the target partition using a procedure of your choice\. In this example, the S3 bucket is located in `us-gov-east-1`\.
   37: **Note**  
   38  Because you need different AWS credentials for each partition, you can’t copy an S3 object directly from one partition to another\. The process for copying an S3 object across partitions is outside the scope of this documentation\. We provide the following copy processes as examples, but you must use the copy process that meets your security requirements\.  

   56  
   57: **Topics**
   58  + [CreateStoreImageTask](#CreateStoreImageTask)

  134  
  135: **Note**  
  136  If the snapshots that make up the AMI are encrypted, or if your account is enabled for encryption by default, your IAM principal must have permission to use the KMS key\. For more information, see [Permissions to use AWS KMS keys](ebsapi-permissions.md#ebsapi-kms-permissions)\.

  170  
  171: **Topics**
  172  + [Store an AMI in an S3 bucket](#store-ami)

  177  
  178: **To store an AMI \(AWS CLI\)**  
  179  Use the [create\-store\-image\-task](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-store-image-task.html) command\. Specify the ID of the AMI and the name of the S3 bucket in which to store the AMI\.

  196  
  197: **To describe the progress of an AMI store task \(AWS CLI\)**  
  198  Use the [describe\-store\-image\-tasks](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-store-image-tasks.html) command\.

  219  
  220: **To restore an AMI \(AWS CLI\)**  
  221  Use the [create\-restore\-image\-task](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-restore-image-task.html) command\. Using the values for `S3ObjectKey` and `Bucket` from the `describe-store-image-tasks` output, specify the object key of the AMI and the name of the S3 bucket to which the AMI was copied\. Also specify a name for the restored AMI\. The name must be unique for AMIs in the Region for this account\.
  222  
  223: **Note**  
  224  The restored AMI gets a new AMI ID\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-windows-specialized.md:
  4  
  5: **Topics**
  6  + [SQL Server AMIs provided by AWS](ami-windows-sql.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ami-windows-stig.md:
   3  Security Technical Implementation Guides \(STIGs\) are the configuration standards created by the Defense Information Systems Agency \(DISA\) to secure information systems and software\. DISA documents three levels of compliance risk, known as categories:
   4: + **Category I** — The highest level of risk\. It covers the most severe risks, and includes any vulnerability that can result in a loss of confidentiality, availability, or integrity\.
   5: + **Category II** — Medium risk\.
   6: + **Category III** — Low risk\.
   7  

  15  
  16: **Note**  
  17  The date suffix for the AMI \(*YYYY\.MM\.DD*\) is the date when the latest version was created\. You can search for the version without the date suffix\.

  26  
  27: **Topics**
  28  + [Core and base operating systems](#base-os-stig)

  65  
  66: **\.NET Framework on Windows Server 2019, 2016, and 2012 R2 MS**  
  67  V\-225238

  74  
  75: **Windows Firewall on Windows Server 2019, 2016, and 2012 R2 MS**  
  76  V\-241989, V\-241990, V\-241991, V\-241992, V\-241993, V\-241994, V\-241995, V\-241996, V\-241997, V\-241998, V\-241999, V\-242000, V\-242001, V\-242002, V\-242003, V\-242004, V\-242005, V\-242006, V\-242007, and V\-242008

  83  
  84: **IE 11 on Windows Server 2019, 2016, and 2012 R2 MS**  
  85  V\-46473, V\-46475, V\-46477, V\-46481, V\-46483, V\-46501, V\-46507, V\-46509, V\-46511, V\-46513, V\-46515, V\-46517, V\-46521, V\-46523, V\-46525, V\-46543, V\-46545, V\-46547, V\-46549, V\-46553, V\-46555, V\-46573, V\-46575, V\-46577, V\-46579, V\-46581, V\-46583, V\-46587, V\-46589, V\-46591, V\-46593, V\-46597, V\-46599, V\-46601, V\-46603, V\-46605, V\-46607, V\-46609, V\-46615, V\-46617, V\-46619, V\-46621, V\-46625, V\-46629, V\-46633, V\-46635, V\-46637, V\-46639, V\-46641, V\-46643, V\-46645, V\-46647, V\-46649, V\-46653, V\-46663, V\-46665, V\-46669, V\-46681, V\-46685, V\-46689, V\-46691, V\-46693, V\-46695, V\-46701, V\-46705, V\-46709, V\-46711, V\-46713, V\-46715, V\-46717, V\-46719, V\-46721, V\-46723, V\-46725, V\-46727, V\-46729, V\-46731, V\-46733, V\-46779, V\-46781, V\-46787, V\-46789, V\-46791, V\-46797, V\-46799, V\-46801, V\-46807, V\-46811, V\-46815, V\-46819, V\-46829, V\-46841, V\-46847, V\-46849, V\-46853, V\-46857, V\-46859, V\-46861, V\-46865, V\-46869, V\-46879, V\-46883, V\-46885, V\-46889, V\-46893, V\-46895, V\-46897, V\-46903, V\-46907, V\-46921, V\-46927, V\-46939, V\-46975, V\-46981, V\-46987, V\-46995, V\-46997, V\-46999, V\-47003, V\-47005, V\-47009, V\-64711, V\-64713, V\-64715, V\-64717, V\-64719, V\-64721, V\-64723, V\-64725, V\-64729, V\-72757, V\-72759, V\-72761, V\-72763, V\-75169, V\-75171, and V\-97527

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/AMIs.md:
   9  
  10: **Topics**
  11  + [Boot modes](ami-boot.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/application-consistent-snapshots-restore.md:
   9  
  10: **Important**  
  11  The following script detaches all volumes attached to an instance, and then creates new volumes from a snapshot\. Make sure that you have properly backed\-up the instance\. The old volumes are not deleted\. If you want, you can edit the script to delete the old volumes\.

  14  
  15: **To restore volumes from VSS\-enabled EBS snapshots**
  16  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/application-consistent-snapshots.md:
   6  
   7: **Topics**
   8  + [How it works](#application-consistent-snapshots-how)

  30  
  31: 1. The system adds all newly\-created snapshots to the list of EBS snapshots\. The system tags all VSS\-enabled EBS snapshots successfully created by this process with **AppConsistent:true**\. This tag helps you identify snapshots created by this process, as opposed to other processes\. If the system encounters an error, the snapshot created by this process does not include the **AppConsistent:true** tag\.
  32  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/apply_ri.md:
    8  
    9: **Topics**
   10  + [How zonal Reserved Instances are applied](#apply-zonal-ri)

  106  
  107: **Topics**
  108  + [Scenario 1: Reserved Instances in a single account](#ri-usage-ex1)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/archiving-guidelines.md:
   4  
   5: **Topics**
   6  + [Archiving the only snapshot of a volume](#guidelines-single-snapshot)

  20  
  21: When you archive an incremental snapshot, the snapshot is converted to a full snapshot and it is moved to the archive tier\. For example, in the following image, if you archive **Snap B**, the snapshot is converted to a full snapshot that is 10 GiB in size and moved to the archive tier\. Similarly, if you archive **Snap C**, the size of the full snapshot in the archive tier is 14 GiB\.
  22  

  26  
  27: **Note**  
  28  You should not archive the last snapshot in a set of incremental snapshots\. The last snapshot is the most recent snapshot taken of a volume\. You will need this snapshot in the standard tier if you want to create volumes from it in the case of a volume corruption or loss\.
  29  
  30: If you archive a snapshot that contains data that is referenced by a later snapshot in the lineage, the data storage and storage costs associated with the referenced data are allocated to the later snapshot in the lineage\. In this case, archiving the snapshot will not reduce data storage or storage costs\. For example, in the preceding image, if you archive **Snap B**, its 4 GiB of data is attributed to **Snap C**\. In this case, your overall storage costs will increase because you incur storage costs for the full version of **Snap B** in the archive tier, and your storage costs for the standard tier remain unchanged\.
  31  
  32: If you archive **Snap C**, your standard tier storage will decrease by 4 GiB because the data is not referenced by any other snapshots later in the lineage\. And your archive tier storage will increase by 14 GiB because the snapshot is converted to a full snapshot\.
  33  

  41  
  42: **Important**  
  43  The API responses are data accurate at the point\-in\-time when the APIs are called\. API responses can differ as the data associated with a snapshot changes as a result of changes in the snapshot lineage\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/aws-sql-clustering.md:
    4  
    5: **Note**  
    6  When nodes are deployed in different Availability Zones, or in different subnets within the same zone, they should be treated as a multi\-subnet cluster\. Keep this in mind as you apply best practices and when you address possible failure scenarios\.
    7  
    8: **Topics**
    9  + [Assign IP addresses](#sql-ip-assignment)

   30  
   31: ⟪ 350 characters skipped ⟫r the cluster IP and Availability Group will be handled virtually in the Failover Cluster Manager\. The NIC can be configured for a static IP as long as it is configured to only use the primary IP of **eth0**\. If the other IPs are assigned to the NIC, it can cause network drops for the instance during failover events\.
   32  

   64  
   65: ⟪ 314 characters skipped ⟫tion errors due to attempts to connect to each individual node and failing on the inactive ones\. To prevent these problems, the Cluster Resource parameter `RegisterAllProvidersIp` must be changed to **0**\. For more information, see [RegisterAllProvidersIP Setting](https://msdn.microsoft.com/en-us/library/hh213080.aspx#RegisterAllProvidersIP) and [Multi\-subnet Clustered SQL \+ RegisterAllProvidersIP \+ SharePoint 2013](https://blogs.msdn.microsoft.com/sambetts/2014/02/04/multi-subnet-clustered-sql-registerallprovidersip-sharepoint-2013/)\.
   66  

   77  
   78: In addition to setting the Cluster Resource parameter to **0**, you must ensure that the cluster has permissions to modify the DNS entry for your cluster name\. 
   79  

   83  
   84: 1. Right\-click the `A` record and choose **Properties**\.
   85  
   86: 1. Choose **Security**\.
   87  
   88: 1. Choose **Add**\.
   89  
   90: 1. Choose **Object Types\.\.\.**, select the box for **Computers**, and choose **OK**\.
   91  
   92: 1. Enter the name of the cluster resource object and choose **Check name** and **OK if resolve**\.
   93  
   94: 1. Select the check box for **Full Control**\.
   95  
   96: 1. Choose **OK**\.
   97  

  145  
  146: Set the host record TTL to **300** seconds instead of the default 20 minutes \(1200 seconds\)\. For legacy client comparability, set `RegisterAllProvidersIP` to **0** for SQL Availability Group Listeners\. This is not required in all environments\. These settings are important because some legacy client applications cannot use `MultiSubnetFailover` in their connection strings\. See [HostRecordTTL Setting](https://docs.microsoft.com/en-us/sql/database-engine/availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server?view=sql-server-2017#HostRecordTTL) for more information\. When you change these settings, the Cluster Resource must be restarted\. The Cluster Group for the listener stops when the Cluster Resource is restarted, so it must be started\. If you do not start the Cluster Group, the Availability Group remains offline in a `RESOLVING` state\. The following are example PowerShell scripts for changing the TTL and `RegisterAllProvidersIP` settings\.
  147  

  169  
  170: The default logging level for the cluster log is **3**\. To increase the detail of log information, set the logging level to **5**\. See [Set\-ClusterLog](https://docs.microsoft.com/en-us/powershell/module/failoverclusters/set-clusterlog?view=win10-ps) for more information about the PowerShell cmdlet\.
  171  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/benchmark_procedures.md:
  18  
  19: **Important**  
  20  Some of the procedures result in the destruction of existing data on the EBS volumes you benchmark\. The benchmarking procedures are intended for use on volumes specially created for testing purposes, not production volumes\.

  25  
  26: To create an EBS\-optimized instance, choose **Launch as an EBS\-Optimized instance** when launching the instance using the Amazon EC2 console, or specify \-\-ebs\-optimized when using the command line\. Be sure that you launch a current\-generation instance that supports this option\. For more information, see [Amazon EBS–optimized instances](ebs-optimized.md)\.
  27  

  29  
  30: To create Provisioned IOPS SSD \(`io1` and `io2`\) or General Purpose SSD \(`gp2` and `gp3`\) volumes using the Amazon EC2 console, for **Volume type**, choose **Provisioned IOPS SSD \(io1\)**, **Provisioned IOPS SSD \(io2\)**, **General Purpose SSD \(gp2\)**, or **General Purpose SSD \(gp3\)**\. At the command line, specify `io1`, `io2`, `gp2`, or `gp3` for the \-\-volume\-type parameter\. For `io1`, `io2`, and `gp3` volumes, specify the number of I/O operations per second \(IOPS\) for the \-\-iops parameter\. For more information, see [Amazon EBS volume types](ebs-volume-types.md) and [Create an Amazon EBS volume](ebs-creating-volume.md)\.
  31  

  33  
  34: To create an `st1` volume, choose **Throughput Optimized HDD** when creating the volume using the Amazon EC2 console, or specify \-\-type `st1` when using the command line\. To create an `sc1` volume, choose Cold HDD when creating the volume using the Amazon EC2 console, or specify \-\-type `sc1` when using the command line\. For information about creating EBS volumes, see [Create an Amazon EBS volume](ebs-creating-volume.md)\. For information about attaching these volumes to your instance, see [Attach an Amazon EBS volume to an instance](ebs-attaching-volume.md)\.
  35  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/billing-info-fields.md:
   8  Usage operation  
   9: The operation of the Amazon EC2 instance and the billing code that is associated with the AMI\. For example, `RunInstances:0010`\. **Usage operation** corresponds to the [lineitem/Operation](https://docs.aws.amazon.com/cur/latest/userguide/Lineitem-columns.html#Lineitem-details-O-Operation) column on your AWS Cost and Usage Report \(CUR\) and in the [AWS Price List API](https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/price-changes.html)\.
  10  
  11: You can view these fields on the **Instances** or **AMIs** page in the Amazon EC2 console, or in the response that is returned by the [describe\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) command\.
  12  

  14  
  15: The following table lists some of the platform details and usage operation values that can be displayed on the **Instances** or **AMIs** pages in the Amazon EC2 console, or in the response that is returned by the [describe\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) command\.
  16  

  38  
  39: \* If two software licenses are associated with an AMI, the **Platform details** field shows both\.
  40  
  41: \*\* If you are running Spot Instances, the `[lineitem/Operation](https://docs.aws.amazon.com/cur/latest/userguide/Lineitem-columns.html#Lineitem-details-O-Operation)` on your AWS Cost and Usage Report might be different from the **Usage operation** value that is listed here\. For example, if `[lineitem/Operation](https://docs.aws.amazon.com/cur/latest/userguide/Lineitem-columns.html#Lineitem-details-O-Operation)` displays `RunInstances:0010:SV006`, it means that Amazon EC2 is running Red Hat Enterprise Linux Spot Instance\-hour in US East \(Virginia\) in VPC Zone \#6\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/burstable-credits-baseline-concepts.md:
   15  
   16: **Contents**
   17  + [Key concepts and definitions](#key-concepts)

   27  
   28: **CPU utilization**  
   29  CPU utilization is the percentage of allocated EC2 compute units that are currently in use on the instance\. This metric measures the percentage of allocated CPU cycles that are being utilized on an instance\. The CPU Utilization CloudWatch metric shows CPU usage per instance and not CPU usage per core\. The baseline CPU specification of an instance is also based on the CPU usage per instance\. To measure CPU utilization using the AWS Management Console or the AWS CLI, see [Get statistics for a specific instance](US_SingleMetricPerInstance.md)\.
   30  
   31: **CPU credit**  
   32  A unit of vCPU\-time\.  

   37  
   38: **Baseline utilization**  
   39  The baseline utilization is the level at which the CPU can be utilized for a net credit balance of zero, when the number of CPU credits being earned matches the number of CPU credits being used\. Baseline utilization is also known as the baseline\. Baseline utilization is expressed as a percentage of vCPU utilization, which is calculated as follows: Baseline utilization % = \(number of credits earned/number of vCPUs\)/60 minutes\.  

   41  
   42: **Earned credits**  
   43  Credits earned continuously by an instance when it is running\.  

   48  
   49: **Spent or used credits**  
   50  Credits used continuously by an instance when it is running\.  

   52  
   53: **Accrued credits**  
   54  Unspent CPU credits when an instance uses fewer credits than is required for baseline utilization\. In other words, accrued credits = \(Earned credits – Used credits\) below baseline\.  

   58  
   59: **Credit accrual limit**  
   60  Depends on the instance size but in general is equal to the number of maximum credits earned in 24 hours\.  

   63  
   64: **Launch credits**  
   65  Only applicable for T2 instances configured for Standard mode\. Launch credits are a limited number of CPU credits that are allocated to a new T2 instance so that, when launched in Standard mode, it can burst above the baseline\.
   66  
   67: **Surplus credits**  
   68  Credits that are spent by an instance after it depletes its accrued credit balance\. The surplus credits are designed for burstable instances to sustain high performance for an extended period of time, and are only used in Unlimited mode\. The surplus credits balance is used to determine how many credits were used by the instance for bursting in Unlimited mode\.
   69  
   70: **Standard mode**  
   71  Credit configuration mode, which allows an instance to burst above the baseline by spending credits it has accrued in its credit balance\.
   72  
   73: **Unlimited mode**  
   74  Credit configuration mode, which allows an instance to burst above the baseline by sustaining high CPU utilization for any period of time whenever required\. The hourly instance price automatically covers all CPU usage spikes if the average CPU utilization of the instance is at or below the baseline over a rolling 24\-hour period or the instance lifetime, whichever is shorter\. If the instance runs at higher CPU utilization for a prolonged period, it can do so for a [flat additional rate](https://aws.amazon.com/ec2/pricing/on-demand/#T2.2FT3.2FT4g_Unlimited_Mode_Pricing) per vCPU\-hour\.

   78  
   79: ****  
   80  

   89  
   90: **Note**  
   91  Unlimited mode is not supported for T3 instances that are launched on a Dedicated Host\.

  103  | --- | --- | --- | --- | --- | 
  104: |  **T2**  |    |    |    |    | 
  105  | t2\.nano |  3  |  72  |  1  |  5%  | 

  111  | t2\.2xlarge |  81\.6  |  1958\.4  |  8  |  17%\*\*  | 
  112: |  **T3**  |    |    |    |    | 
  113  | t3\.nano |  6  |  144  |  2  |  5%\*\*  | 

  119  | t3\.2xlarge |  192  |  4608  |  8  |  40%\*\*  | 
  120: |  **T3a**  |    |    |    |    | 
  121  | t3a\.nano |  6  |  144  |  2  |  5%\*\*  | 

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/burstable-performance-instances-monitoring-cpu-credits.md:
   4  
   5: **Topics**
   6  + [Additional CloudWatch metrics for burstable performance instances](#burstable-performance-instances-cw-metrics)

  40  
  41: **Example**  
  42  

  48  
  49: **Example**  
  50  This example uses a `t3.nano` instance\. To calculate the `CPUCreditBalance` value of the instance, use the preceding equation as follows:

  58  
  59: **Example**  
  60  

  70  
  71: **Example**  
  72  

  80  
  81: **Example**  
  82  

  89  
  90: **Example**  
  91  

  98  
  99: **Example**  
  100  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/burstable-performance-instances-standard-mode.md:
  4  
  5: **Contents**
  6  + [Standard mode concepts](burstable-performance-instances-standard-mode-concepts.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/burstable-performance-instances-unlimited-mode.md:
  10  
  11: **Note**  
  12  T3 instances launched on a Dedicated Host launch as `standard` by default; `unlimited` mode is not supported for T3 instances on a Dedicated Host\.
  13  
  14: **Contents**
  15  + [Unlimited mode concepts](burstable-performance-instances-unlimited-mode-concepts.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/burstable-performance-instances.md:
  10  
  11: **Note**  
  12  This topic describes burstable CPU\. For information about burstable network performance, see [Amazon EC2 instance network bandwidth](ec2-instance-network-bandwidth.md)\. 

  22  
  23: ****  
  24  

  37  
  38: **Supported purchasing options for T instances**
  39  + On\-Demand Instances

  46  
  47: **Topics**
  48  + [EC2 burstable instance types](#burstable-instance-types)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/cancel-sharing-an-AMI.md:
   6  
   7: **Topics**
   8  + [Limitations](#cancel-sharing-an-AMI-limitations)

  19  
  20: **Note**  
  21  After you cancel having an AMI shared with your account, you can't undo it\. To regain access to the AMI, the AMI owner must share it with your account\.
  22  
  23: **To cancel having an AMI shared with your AWS account**  
  24  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/cancel-image-launch-permission.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/cancel-image-launch-permission.html) command and specify the AMI ID\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/capacity-reservation-cw-metrics.md:
   8  
   9: **Topics**
  10  + [Capacity Reservation usage metrics](#capacity-reservation-usage-metrics)

  38  
  39: **To view Capacity Reservation metrics using the CloudWatch console**
  40  

  44  
  45: 1. In the navigation pane, choose **Metrics**\.
  46  
  47: 1. For **All metrics**, choose **EC2 Capacity Reservations**\.
  48  
  49: 1. Choose the metric dimension **By Capacity Reservation**\. Metrics will be grouped by `CapacityReservationId`\.
  50  

  52  
  53: **To view Capacity Reservation metrics \(AWS CLI\)**  
  54  Use the following [list\-metrics](https://docs.aws.amazon.com/cli/latest/reference/cloudwatch/list-metrics.html) command:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/compliance-validation.md:
   9  + [Architecting for HIPAA Security and Compliance on Amazon Web Services](https://docs.aws.amazon.com/whitepapers/latest/architecting-hipaa-security-and-compliance-on-aws/welcome.html) – This whitepaper describes how companies can use AWS to create HIPAA\-eligible applications\.
  10: **Note**  
  11  Not all AWS services are HIPAA eligible\. For more information, see the [HIPAA Eligible Services Reference](https://aws.amazon.com/compliance/hipaa-eligible-services-reference/)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/compute-optimized-instances.md:
    4  
    5: **C5 and C5n instances**
    6  

   19  
   20: **C6i and C6id instances**
   21  

   29  
   30: **C6in instances**
   31  

   40  
   41: **Topics**
   42  + [Hardware specifications](#compute-instances-hardware)

  152  
  153: **AMD processors**
  154: + **2nd generation AMD EPYC processors \(AMD EPYC 7R32\)**: C5a, C5ad
  155: + **3rd generation AMD EPYC processors \(AMD EPYC 7R13\)**: C6a
  156  
  157: **Intel processors**
  158: + **Intel Xeon Scalable processors \(Haswell E5\-2666 v3\)**: C4
  159: + **Intel Xeon Scalable processors \(Skylake 8124\)**: C5n
  160: + **Intel Xeon Scalable processors \(Skylake 8124M or Cascade Lake 8223CL\)**: Smaller C5 and C5d
  161: + **2nd generation Intel Xeon Scalable processors \(Cascade Lake 8275CL\)**: Larger C5 and C5d
  162: + **3rd generation Intel Xeon Scalable processors \(Ice Lake 8375C\)**: C6i, C6id
  163  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/configuring-IMDS-existing-instances.md:
   9  
  10: **Note**  
  11  You can't use the Amazon EC2 console for modifying instance metadata options\. Currently only the AWS CLI and AWS SDK support modifying the instance metadata options on existing instances\.
  12  
  13: **To require the use of IMDSv2**  
  14  You can require that IMDSv2 is used when requesting instance metadata\. Use the [modify\-instance\-metadata\-options](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-metadata-options.html) CLI command and set the `http-tokens` parameter to `required`\. When you specify a value for `http-tokens`, you must also set `http-endpoint` to `enabled`\.

  22  
  23: **To change the PUT response hop limit**  
  24  For existing instances, you can change the settings of the `PUT` response hop limit\. Use the [modify\-instance\-metadata\-options](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-metadata-options.html) CLI command and set the `http-put-response-hop-limit` parameter to the required number of hops\. In the following example, the hop limit is set to `3`\. Note that when specifying a value for `http-put-response-hop-limit`, you must also set `http-endpoint` to `enabled`\.

  32  
  33: **To restore the use of IMDSv1 on an instance using IMDSv2**  
  34  You can use the [modify\-instance\-metadata\-options](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-metadata-options.html) CLI command with `http-tokens` set to `optional` to restore the use of IMDSv1 when requesting instance metadata\.

  42  
  43: **To turn on the IPv6 endpoint for your instance**  
  44  By default, the IPv6 endpoint is disabled\. This is true even if you have launched an instance into an IPv6\-only subnet\. The IPv6 endpoint for the instance metadata service is only accessible on [Instances built on the Nitro System](instance-types.md#ec2-nitro-instances)\.

  54  
  55: **To turn off access to instance metadata**  
  56  You can turn off access to your instance metadata by disabling the HTTP endpoint of the instance metadata service, regardless of which version of the instance metadata service you are using\. You can reverse this change at any time by enabling the HTTP endpoint\.\.

  65  
  66: **To control the use of modify\-instance\-metadata\-options**  
  67  To control which users can modify the instance metadata options, specify a policy that prevents all users other than users with a specified role to use the [ModifyInstanceMetadataOptions](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_ModifyInstanceMetadataOptions.html) API\. For the example IAM policy, see [Work with instance metadata](ExamplePolicies_EC2.md#iam-example-instance-metadata)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/configuring-instance-metadata-options.md:
  12  
  13: **Note**  
  14  If your PowerShell version is earlier than 4\.0, you must [update to Windows Management Framework 4\.0](https://devblogs.microsoft.com/powershell/windows-management-framework-wmf-4-0-update-now-available-for-windows-server-2012-windows-server-2008-r2-sp1-and-windows-7-sp1/) to require the use of IMDSv2\.
  15  
  16: **Note**  
  17  You should proceed cautiously and conduct careful testing before making any changes\. Take note of the following:  

  21  
  22: **Topics**
  23  + [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/configuring-instance-metadata-service.md:
   12  
   13: **Note**  
   14  The examples in this section use the IPv4 address of the instance metadata service: `169.254.169.254`\. If you are retrieving instance metadata for EC2 instances over the IPv6 address, ensure that you enable and use the IPv6 address instead: `fd00:ec2::254`\. The IPv6 address of the instance metadata service is compatible with IMDSv2 commands\. The IPv6 address is only accessible on [Instances built on the Nitro System](instance-types.md#ec2-nitro-instances)\.

   57  
   58: **Tools for helping with the transition to IMDSv2**
   59  

   61  
   62: **AWS software**  
   63  The latest versions of the AWS CLI and AWS SDKs support IMDSv2\. To use IMDSv2, make sure that your EC2 instances have the latest versions of the CLI and SDKs\. For information about updating the CLI, see [Installing, updating, and uninstalling the AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html) in the *AWS Command Line Interface User Guide*\.  

   66  
   67: **CloudWatch**  
   68  IMDSv2 uses token\-backed sessions, while IMDSv1 does not\. The `MetadataNoToken` CloudWatch metric tracks the number of calls to the instance metadata service that are using IMDSv1\. By tracking this metric to zero, you can determine if and when all of your software has been upgraded to use IMDSv2\. For more information, see [Instance metrics](viewing_metrics_with_cloudwatch.md#ec2-cloudwatch-metrics)\.
   69  
   70: **Updates to EC2 APIs and CLIs**  
   71  For existing instances, you can use the [modify\-instance\-metadata\-options](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-metadata-options.html) CLI command \(or the [ModifyInstanceMetadataOptions](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_ModifyInstanceMetadataOptions.html) API\) to require the use of IMDSv2\. For new instances, you can use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) CLI command \(or the [RunInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) API\) and the `metadata-options` parameter to launch new instances that require the use of IMDSv2\.  

   74  
   75: **Use an AMI that configures IMDSv2 by default**  
   76  When you launch an instance, you can automatically configure it to use IMDSv2 by default \(the `HttpTokens` parameter is set to `required`\) by launching it with an AMI that is configured with the `ImdsSupport` parameter set to `v2.0`\. You set the `ImdsSupport` parameter to `v2.0` when you register the AMI using the [register\-image](https://docs.aws.amazon.com/cli/latest/reference/ec2/register-image.html) CLI command\. For more information, see [Configure the AMI](configuring-IMDS-new-instances.md#configure-IMDS-new-instances-ami-configuration)\.
   77  
   78: **IAM policies and SCPs**  
   79  You can use an IAM policy or AWS Organizations service control policy \(SCP\) to control users as follows:  

   89  
   90: **Recommended path to requiring IMDSv2 access**
   91  

  106  When the CloudWatch metric `MetadataNoToken` records zero IMDSv1 usage, your instances are ready to be fully transitioned to using IMDSv2\. At this stage, you can do the following:
  107: + **New instances**
  108  
  109    When launching a new instance, you can do the following:
  110:   + Amazon EC2 console: In the launch instance wizard, set **Metadata accessible** to **Enabled** and **Metadata version** to **V2 only \(token required\)**\. For more information, see [Configure the instance at launch](configuring-IMDS-new-instances.md#configure-IMDS-new-instances-instance-settings)\.
  111    + AWS CLI: Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) CLI command to specify that only IMDSv2 is to be used\.
  112: + **Existing instances**
  113  

  115  
  116: **Note**  
  117  Updating instance metadata options for existing instances is available only through the API or AWS CLI\. It is currently not available in the Amazon EC2 console\. For more information, see [Configure the instance metadata options](configuring-instance-metadata-options.md)\.

  126  
  127: **Important**  
  128  We recommend that you to stay up to date with SDK releases to keep up with the latest features, security updates, and underlying dependencies\. Continued use of an unsupported SDK version is not recommended and is done at your discretion\. For more information, see the [AWS SDKs and Tools maintenance policy](https://docs.aws.amazon.com/sdkref/latest/guide/maint-policy.html) in the *AWS SDKs and Tools Reference Guide*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/connect-to-serial-console.md:
    4  
    5: **Topics**
    6  + [Considerations](#sc-considerations)

   33  
   34: **Topics**
   35  + [Connect using the browser\-based client](#sc-connect-browser-based-client)

   43  
   44: **To connect to your instance's serial port using the browser\-based client \(Amazon EC2 console\)**
   45  

   47  
   48: 1. In the navigation pane, choose **Instances**\.
   49  
   50: 1. Select the instance and choose **Actions**, **Monitor and troubleshoot**, **EC2 Serial Console**, **Connect**\.
   51  
   52:    Alternatively, select the instance and choose **Connect**, **EC2 Serial Console**, **Connect**\.
   53  

   55  
   56: 1. Press **Enter**\. If a login prompt returns, you are connected to the serial console\.
   57  
   58     If the screen remains black, you can use the following information to help resolve issues with connecting to the serial console:
   59:    + **Check that you have configured access to the serial console\.** For more information, see [Configure access to the EC2 Serial Console](configure-access-to-serial-console.md)\.
   60:    + **Reboot your instance\.** You can reboot your instance by using the EC2 console or the AWS CLI\. For more information, see [Reboot your instance](ec2-instance-reboot.md)\.
   61  

   65  
   66: **To connect to an instance's serial console using SSH**
   67  
   68: 1. **Push your SSH public key to the instance to start a serial console session**
   69  

   83  
   84: **Connect to the serial console using your private key**
   85  

   91  
   92:    **For all supported AWS Regions, except AWS GovCloud \(US\) Regions:**
   93  

   99  
  100:    **For AWS GovCloud \(US\) Regions only:**
  101  

  109  
  110: **\(Optional\) Verify the fingerprint**
  111  

  118     ```
  119: **Note**  
  120  The fingerprint only appears the first time you connect to the serial console\.
  121  
  122: 1. Press **Enter**\. If a prompt returns, you are connected to the serial console\.
  123  
  124     If the screen remains black, you can use the following information to help resolve issues with connecting to the serial console:
  125:    + **Check that you have configured access to the serial console\.** For more information, see [Configure access to the EC2 Serial Console](configure-access-to-serial-console.md)\.
  126:    + **Reboot your instance\.** You can reboot your instance by using the EC2 console or the AWS CLI\. For more information, see [Reboot your instance](ec2-instance-reboot.md)\.
  127  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/connect.md:
  4  
  5: **Topics**
  6  + [Connect to your Windows instance](connecting_to_windows_instance.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/connecting_to_windows_instance.md:
   10  
   11: **Topics**
   12  + [Prerequisites](#rdp-prereqs)

   21  
   22: **To connect using RDP**
   23: + **Install an RDP client**
   24    + \[Windows\] Windows includes an RDP client by default\. To verify, type mstsc at a Command Prompt window\. If your computer doesn't recognize this command, see the [Windows home page](https://windows.microsoft.com) and search for the download for the Microsoft Remote Desktop app\.

   26    + \[Linux\] Use [Remmina](https://remmina.org/)\.
   27: + **Locate the private key**
   28  
   29    Get the fully\-qualified path to the location on your computer of the `.pem` file for the key pair that you specified when you launched the instance\. For more information, see [Identify the public key specified at launch](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/describe-keys.html#identify-key-pair-specified-at-launch)\. If you can't find your private key file, see [I've lost my private key\. How can I connect to my Windows instance?](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshoot-connect-windows-instance.html#replacing-lost-key-pair-windows)
   30: + **Enable inbound RDP traffic from your IP address to your instance**
   31  
   32    Ensure that the security group associated with your instance allows incoming RDP traffic \(`port 3389`\) from your IP address\. The default security group does not allow incoming RDP traffic by default\. For more information, see [Authorize inbound traffic for your Windows instances](authorizing-access-to-an-instance.md)\.
   33: **Note**  
   34  You do not need to specifically allow incoming RDP traffic from your IP address if you use Fleet Manager to connect\. Fleet Manager handles that for you\.
   35  
   36: **To connect using Fleet Manager**  
   37  For prerequisites, see [Connect using Remote Desktop](https://docs.aws.amazon.com/systems-manager/latest/userguide/fleet-rdp.html) in the *AWS Systems Manager User Guide*\.

   44  
   45: If you've joined your instance to a domain, you can connect to your instance using domain credentials you've defined in AWS Directory Service\. On the Remote Desktop login screen, instead of using the local computer name and the generated password, use the fully\-qualified user name for the administrator \(for example, **corp\.example\.com\\Admin**\), and the password for this account\.
   46  

   51  
   52: **To connect to your Windows instance using an RDP client**
   53  

   55  
   56: 1. In the navigation pane, select **Instances**\. Select the instance and then choose **Connect**\.
   57  
   58: 1. On the **Connect to instance** page, choose the **RDP client** tab, and then choose **Get password**\.  
   59  ![\[Get password for RDP.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-rdp-get-password.png)
   60  
   61: 1. Choose **Browse** and navigate to the private key \(`.pem`\) file you created when you launched the instance\. Select the file and choose **Open** to copy the entire contents of the file to this window\.
   62  
   63: 1. Choose **Decrypt Password**\. The console displays the default administrator password for the instance under **Password**, replacing the **Get password** link shown previously\. Save the password in a safe place\. This password is required to connect to the instance\.  
   64  ![\[Password location for RDP.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-password.png)
   65  
   66: 1. Choose **Download remote desktop file**\. Your browser prompts you to either open or save the RDP shortcut file\. When you have finished downloading the file, choose **Cancel** to return to the **Instances** page\.
   67:    + If you opened the RDP file, you'll see the **Remote Desktop Connection** dialog box\.
   68     + If you saved the RDP file, navigate to your downloads directory, and open the RDP file to display the dialog box\.
   69  
   70: 1. You may get a warning that the publisher of the remote connection is unknown\. Choose **Connect** to continue to connect to your instance\.  
   71  ![\[Unknown publisher message.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-unknown-publisher.png)

   73  1. The administrator account is chosen by default\. Copy and paste the password that you saved previously\.
   74: **Tip**  
   75  If you receive a "Password Failed" error, try entering the password manually\. Copying and pasting content can corrupt it\.
   76  
   77: 1. Due to the nature of self\-signed certificates, you may get a warning that the security certificate could not be authenticated\. Use the following steps to verify the identity of the remote computer, or simply choose **Yes** \(Windows\) or **Continue** \(Mac OS X\) if you trust the certificate\.  
   78  ![\["Identity cannot be verified" window.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-identity.png)
   79  
   80:    1. If you are using **Remote Desktop Connection** on a Windows computer, choose **View certificate**\. If you are using **Microsoft Remote Desktop** on a Mac, choose **Show Certificate**\.
   81  
   82:    1. Choose the **Details** tab, and scroll down to **Thumbprint** \(Windows\) or **SHA1 Fingerprints** \(Mac OS X\)\. This is the unique identifier for the remote computer's security certificate\.
   83  
   84:    1. In the Amazon EC2 console, select the instance, choose **Actions**, **Monitor and troubleshoot**, **Get system log**\.
   85  

   87  
   88:    1. If you are using **Remote Desktop Connection** on a Windows computer, return to the **Certificate** dialog box and choose **OK**\. If you are using **Microsoft Remote Desktop** on a Mac, return to the **Verify Certificate** and choose **Continue**\.
   89  
   90:    1. \[Windows\] Choose **Yes** in the **Remote Desktop Connection** window to connect to your instance\.
   91  

   96  
   97: **To connect to your Windows instance using an RDP client**
   98  
   99: 1. In the Amazon EC2 console, select the instance, and then choose **Connect**\.
  100  
  101: 1. In the **Connect To Your Instance** dialog box, choose **Get Password** \(it will take a few minutes after the instance is launched before the password is available\)\.
  102  
  103: 1. Choose **Browse** and navigate to the private key \(\.pem\) file you created when you launched the instance\. Select the file and choose **Open** to copy the entire contents of the file into the **Contents** field\.
  104  
  105: 1. Choose **Decrypt Password**\. The console displays the default administrator password for the instance in the **Connect To Your Instance** dialog box, replacing the link to **Get Password** shown previously with the actual password\.
  106  

  108  
  109: 1. Choose **Download Remote Desktop File**\. Your browser prompts you to either open or save the \.rdp file\. Either option is fine\. When you have finished, you can choose **Close** to dismiss the **Connect To Your Instance** dialog box\. 
  110:    + If you opened the \.rdp file, you'll see the **Remote Desktop Connection** dialog box\.
  111     + If you saved the \.rdp file, navigate to your downloads directory, and open the \.rdp file to display the dialog box\.

  114  
  115: 1. When prompted, log in to the instance, using the administrator account for the operating system and the password that you recorded or copied previously\. If your **Remote Desktop Connection** already has an administrator account set up, you might have to choose the **Use another account** option and type the user name and password manually\.
  116: **Note**  
  117  Sometimes copying and pasting content can corrupt data\. If you encounter a "Password Failed" error when you log in, try typing in the password manually\.
  118  
  119: 1. Due to the nature of self\-signed certificates, you may get a warning that the security certificate could not be authenticated\. Use the following steps to verify the identity of the remote computer, or simply choose **Yes** or **Continue** to continue if you trust the certificate\.
  120  
  121:    1. If you are using **Remote Desktop Connection** from a Windows PC, choose **View certificate**\. If you are using **Microsoft Remote Desktop** on a Mac, choose **Show Certificate**\.
  122  
  123:    1. Choose the **Details** tab, and scroll down to the **Thumbprint** entry on a Windows PC, or the **SHA1 Fingerprints** entry on a Mac\. This is the unique identifier for the remote computer's security certificate\.
  124  
  125:    1. In the Amazon EC2 console, select the instance, choose **Actions**, and then choose **Get System Log**\.
  126  

  128  
  129:    1. If you are using **Remote Desktop Connection** from a Windows PC, return to the **Certificate** dialog box and choose **OK**\. If you are using **Microsoft Remote Desktop** on a Mac, return to the **Verify Certificate** and choose **Continue**\.
  130  
  131:    1. \[Windows\] Choose **Yes** in the **Remote Desktop Connection** window to connect to your instance\.
  132  

  140  
  141: You can use Fleet Manager, a capability of AWS Systems Manager, to connect to Windows instances using the Remote Desktop Protocol \(RDP\) and display up to four Windows instances on the same page in the AWS Management Console\. You can connect to the first instance in the Fleet Manager Remote Desktop directly from the **Instances** page in the Amazon EC2 console as follows\.
  142  
  143: **To connect to instances using RDP with Fleet Manager \(console\)**
  144  

  146  
  147: 1. From the navigation pane, choose **Instances**\.
  148  
  149: 1. Select the instance and then choose **Connect**\.
  150  
  151: 1. On the **Connect to instance** page, choose the option to **Connect using Fleet Manager**, then choose **Fleet Manager Remote Desktop**\. This opens the **Fleet Manager Remote Desktop** page in the AWS Systems Manager console\.  
  152  ![\[The connect to instance page in the EC2 console with the Connect using Fleet Manager option selected and the Fleet Manager Remote Desktop button.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-rdp-with-fleet-manager.png)
  153  
  154: For more information about connecting to Windows instances from the **Fleet Manager Remote Desktop** page, see [Connect using Remote Desktop](https://docs.aws.amazon.com/systems-manager/latest/userguide/fleet-rdp.html) in the *AWS Systems Manager User Guide*\.
  155  

  159  
  160: **To connect to your Windows instance using its IPv6 address**
  161  

  163  
  164: 1. \[Windows\] Open the RDP client on your Windows computer, choose **Show Options**, and do the following:  
  165  ![\[Remote Desktop client.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-ipv6-rdp.png)
  166:    + For **Computer**, enter the IPv6 address of your Windows instance\.
  167:    + For **User name**, enter **Administrator**\.
  168:    + Choose **Connect**\.
  169     + When prompted, enter the password that you saved previously\.

  171     \[Mac OS X\] Open the RDP client on your computer and do the following:
  172:    + Choose **New**\.
  173:    + For **PC Name**, enter the IPv6 address of your Windows instance\.
  174:    + For **User name**, enter **Administrator**\.
  175:    + Close the dialog box\. Under **My Desktops**, select the connection, and choose **Start**\.
  176     + When prompted, enter the password that you saved previously\.
  177  
  178: 1. Due to the nature of self\-signed certificates, you may get a warning that the security certificate could not be authenticated\. If you trust the certificate, you can choose **Yes** or **Continue**\. Otherwise, you can verify the identity of the remote computer, as described in [Connect to your Windows instance using RDP](#connect-rdp)\.
  179  

  185  
  186: **To connect to a Windows instance using Session Manager on the Amazon EC2 console**
  187  

  189  
  190: 1. In the navigation pane, choose **Instances**\.
  191  
  192: 1. Select the instance and choose **Connect**\.
  193  
  194: 1. For **Connection method**, choose **Session Manager**\.
  195  
  196: 1. Choose **Connect**\.  
  197  ![\[Session Manager connection.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-session-manager.png)
  198: **Tip**  
  199  If you receive an error that you’re not authorized to perform one or more Systems Manager actions \(`ssm:command-name`\), then you must update your policies to allow you to start sessions from the Amazon EC2 console\. For more information and instructions, see [Quickstart default IAM policies for Session Manager](https://docs.aws.amazon.com/systems-manager/latest/userguide/getting-started-restrict-access-quickstart.html) in the *AWS Systems Manager User Guide*\.

  204  + Change the administrator password from the default value\. You [can change the password while you are logged on to the instance itself](https://support.microsoft.com/en-us/windows/change-or-reset-your-windows-password-8271d17c-9f9e-443f-835a-8318c8f68b9c), just as you would on any computer running Windows Server\.
  205: + Create another user with administrator privileges on the instance\. This is a safeguard in case you forget the administrator password or have a problem with the administrator account\. The new user must have permission to access the instance remotely\. Open **System Properties** by right\-clicking on the **This PC** icon on your Windows desktop or File Explorer and selecting **Properties**\. Choose **Remote settings**, and choose **Select Users** to add the user to the **Remote Desktop Users** group\.  
  206  ![\[System Properties window.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/windows-connect-properties-rdp.png)

  216  
  217: **To map the remote session drive to your local drive on your local Windows computer**
  218  

  220  
  221: 1. Choose **Show Options**\.
  222  
  223: 1. Add the instance host name to the **Computer** field and user name to the **User name** field, as follows:
  224  
  225:    1. Under **Connection settings**, choose **Open\.\.\.**, and browse to the RDP shortcut file that you downloaded from the Amazon EC2 console\. The file contains the Public IPv4 DNS host name, which identifies the instance, and the Administrator user name\.
  226  
  227:    1. Select the file and choose **Open**\. The **Computer** and **User name** fields are populated with the values from the RDP shortcut file\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/cr-fleets.md:
  8  
  9: **Topics**
  10  + [How Capacity Reservation Fleets work](#how-it-works)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/create-cr-group.md:
    8  
    9: To prevent unintended use of Capacity Reservations in a group, configure the Capacity Reservations in the group to accept only instances that explicitly target the capacity reservation\. To do this, set **Instance eligibility** to **targeted** \(old console\) or **Only instances that specify this reservation** \(new console\) when creating the Capacity Reservation using the Amazon EC2 console\. When using the AWS CLI, specify `--instance-match-criteria targeted` when creating the Capacity Reservation\. Doing this ensures that only instances that explicitly target the group, or a Capacity Reservation in the group, can run in the group\.
   10  

   12  
   13: **To create a group for your Capacity Reservations**  
   14  Use the [create\-group](https://docs.aws.amazon.com/cli/latest/reference/resource-groups/create-group.html) AWS CLI command\. For `name`, provide a descriptive name for the group, and for `configuration`, specify two `Type` request parameters:

   53  
   54: **To add a Capacity Reservation to a group**  
   55  Use the [group\-resources](https://docs.aws.amazon.com/cli/latest/reference/resource-groups/group-resources.html) AWS CLI command\. For `group`, specify the name of the group to which to add the Capacity Reservations, and for `resources`, specify ARNs of the Capacity Reservations to add\. To add multiple Capacity Reservations, separate the ARNs with a space\. To get the ARNs of the Capacity Reservations to add, use the [ describe\-capacity\-reservations](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-capacity-reservations.html) AWS CLI command and specify the IDs of the Capacity Reservations\.

   74  
   75: **To view the Capacity Reservations in a specific group**  
   76  Use the [list\-group\-resources](https://docs.aws.amazon.com/cli/latest/reference/resource-groups/list-group-resources.html) AWS CLI command\. For `group`, specify the name of the group\.

  101  
  102: **To view the groups to which a specific Capacity Reservation has been added \(AWS CLI\)**  
  103  Use the [get\-groups\-for\-capacity\-reservation](https://docs.aws.amazon.com/cli/latest/reference/ec2/get-groups-for-capacity-reservation.html) AWS CLI command\. 

  123  
  124: **To view the groups to which a specific Capacity Reservation has been added \(console\)**
  125  

  127  
  128: 1. In the navigation pane, choose **Capacity Reservations**, select the Capacity Reservation to view, and then choose **View**\.
  129  
  130:    The groups to which the Capacity Reservation has been added are listed in the **Groups** card\.
  131  
  132: **To remove a Capacity Reservation from a group**  
  133  Use the [ungroup\-resources](https://docs.aws.amazon.com/cli/latest/reference/resource-groups/ungroup-resources.html) AWS CLI command\. For `group`, specify the ARN of the group from which to remove the Capacity Reservation, and for `resources` specify the ARNs of the Capacity Reservations to remove\. To remove multiple Capacity Reservations, separate the ARNs with a space\.

  152  
  153: **To delete a group**  
  154  Use the [delete\-group](https://docs.aws.amazon.com/cli/latest/reference/resource-groups/delete-group.html) AWS CLI command\. For `group`, provide the name of the group to delete\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/create-launch-template.md:
    4  
    5: **Topics**
    6  + [Create a new launch template using parameters you define](#create-launch-template-define-parameters)

   12  
   13: **Topics**
   14  + [Console](#lt-defined-parameters-console)

   22  
   23: **Topics**
   24  + [Start launch template creation](#lt-initiate-launch-template)

   38  
   39: 1. In the navigation pane, choose **Launch Templates**, and then choose **Create launch template**\.
   40  

   42  
   43: 1. For **Launch template name**, enter a descriptive name for the launch template\.
   44  
   45: 1. For **Template version description**, provide a brief description of this version of the launch template\.
   46  
   47: 1. To [tag](Using_Tags.md) the launch template on creation, expand **Template tags**, choose **Add tag**, and then enter a tag key and value pair\. Choose **Add tag** again for each additional tag to add\.
   48: **Note**  
   49: To tag the resources that are created when an instance is launched, you must specify the tags under **Resource tags**\. For more information, see [Resource tags](#lt-resource-tags)\.
   50  

   54  
   55: You can find a suitable AMI as follows\. With each option for finding an AMI, you can choose **Cancel** \(at top right\) to return to the launch template without choosing an AMI\.
   56  
   57: **Search bar**  
   58: To search through all available AMIs, enter a keyword in the AMI search bar and then press **Enter**\. To select an AMI, choose **Select**\.
   59  
   60: **Recents**  
   61  The AMIs that you've recently used\.  
   62: Choose **Recently launched** or **Currently in use**, and then, from **Amazon Machine Image \(AMI\)**, select an AMI\.
   63  
   64: **My AMIs**  
   65  The private AMIs that you own, or private AMIs that have been shared with you\.  
   66: Choose **Owned by me** or **Shared with me**, and then, from **Amazon Machine Image \(AMI\)**, select an AMI\.
   67  
   68: **Quick Start**  
   69  AMIs are grouped by operating system \(OS\) to help you get started quickly\.  
   70: First select the OS that you need, and then, from **Amazon Machine Image \(AMI\)**, select an AMI\. To select an AMI that is eligible for the free tier, make sure that the AMI is marked **Free tier eligible**\.
   71  
   72: **Browse more AMIs**  
   73: Choose **Browse more AMIs** to browse the full AMI catalog\.  
   74: + To search through all available AMIs, enter a keyword in the search bar and then press **Enter**\.
   75: + To find an AMI using a Systems Manager parameter, choose the arrow button to the right of the search bar, and then choose **Search by Systems Manager parameter**\. For more information, see [Use a Systems Manager parameter to find an AMI](finding-an-ami.md#using-systems-manager-parameter-to-find-AMI)\.
   76: + To specify a Systems Manager parameter that will resolve to an AMI at the time an instance is launched from the launch template, choose the arrow button to the right of the search bar, and then choose **Specify custom value/Systems Manager parameter**\. For more information, see [Use a Systems Manager parameter instead of an AMI ID](#use-an-ssm-parameter-instead-of-an-ami-id)\.
   77: + To search by category, choose **Quickstart AMIs**, **My AMIs**, **AWS Marketplace AMIs**, or **Community AMIs**\.
   78  
   79:   The AWS Marketplace is an online store where you can buy software that runs on AWS, including AMIs\. For more information about launching an instance from the AWS Marketplace, see [Launch an AWS Marketplace instance](launch-marketplace-console.md)\. In **Community AMIs**, you can find AMIs that AWS community members have made available for others to use\. AMIs from Amazon or a verified partner are marked **Verified provider**\.
   80: + To filter the list of AMIs, select one or more check boxes under **Refine results** on the left of the screen\. The filter options are different depending on the selected search category\.
   81: + Check the **Virtualization** type listed for each AMI\. Notice which AMIs are the type that you need: either **hvm** or **paravirtual**\. For example, some instance types require HVM\. 
   82: + Check the **Boot mode** listed for each AMI\. Notice which AMIs use the boot mode that you need: either **legacy\-bios**, **uefi**, or **uefi\-preferred**\. For more information, see [Boot modes](ami-boot.md)\.
   83: + Choose an AMI that meets your needs, and then choose **Select**\.
   84  

   88  
   89: For **Instance type**, you can either select an instance type, or you can specify instance attributes and let Amazon EC2 identify the instance types with those attributes\.
   90  
   91: **Note**  
   92  Specifying instance attributes is supported only when using Auto Scaling groups, EC2 Fleet, and Spot Fleet to launch instances\. For more information, see [Creating an Auto Scaling group using attribute\-based instance type selection](https://docs.aws.amazon.com/autoscaling/ec2/userguide/create-asg-instance-type-requirements.html), [Attribute\-based instance type selection for EC2 Fleet](ec2-fleet-attribute-based-instance-type-selection.md), and [Attribute\-based instance type selection for Spot Fleet](spot-fleet-attribute-based-instance-type-selection.md)\.  
   93  If you plan to use the launch template in the [launch instance wizard](ec2-launch-instance-wizard.md) or with the [RunInstances API](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html), you must select an instance type\.
   94: + **Instance type**: Ensure that the instance type is compatible with the AMI that you've specified\. For more information, see [Instance types](instance-types.md)\.
   95: + **Compare instance types**: You can compare different instance types by the following attributes: number of vCPUs, architecture, amount of memory \(GiB\), amount of storage \(GB\), storage type, and network performance\.
   96: + **Advanced**: To specify instance attributes and let Amazon EC2 identify the instance types with those attributes, choose **Advanced**, and then choose **Specify instance type attributes**\.
   97:   + **Number of vCPUs**: Enter the minimum and maximum number of vCPUs for your compute requirements\. To indicate no limits, enter a minimum of **0**, and leave the maximum blank\.
   98:   + **Amount of memory \(MiB\)**: Enter the minimum and maximum amount of memory, in MiB, for your compute requirements\. To indicate no limits, enter a minimum of **0**, and leave the maximum blank\.
   99:   + Expand **Optional instance type attributes** and choose **Add attribute** to express your compute requirements in more detail\. For information about each attribute, see [InstanceRequirementsRequest](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_InstanceRequirementsRequest.html) in the *Amazon EC2 API Reference*\.
  100:   + **Resulting instance types**: You can preview the instance types that match the specified attributes\. To exclude instance types, choose **Add attribute**, and from the **Attribute** list, choose **Excluded instance types**\. From the **Attribute value** list, select the instance types to exclude\.
  101  

  105  
  106: For **Key pair name**, choose an existing key pair, or choose **Create new key pair** to create a new one\. For more information, see [Amazon EC2 key pairs and Windows instances](ec2-key-pairs.md)\.
  107  

  110  Configure the network settings, as necessary\.
  111: + **Subnet**: You can launch an instance in a subnet associated with an Availability Zone, Local Zone, Wavelength Zone, or Outpost\.
  112  
  113:   To launch the instance in an Availability Zone, select the subnet in which to launch your instance\. To create a new subnet, choose **Create new subnet** to go to the Amazon VPC console\. When you are done, return to the wizard and choose the Refresh icon to load your subnet in the list\.
  114  

  117    To launch an instance in an Outpost, select a subnet in a VPC that you associated with the Outpost\.
  118: + **Firewall \(security groups\)**: Use one or more security groups to define firewall rules for your instance\. These rules specify which incoming network traffic is delivered to your instance\. All other traffic is ignored\. For more information about security groups, see [Amazon EC2 security groups for Windows instances](ec2-security-groups.md)\.
  119  

  122    Select or create a security group as follows:
  123:   + To select an existing security group, choose **Select existing security group**, and select your security group from **Common security groups**\.
  124:   + To create a new security group, choose **Create security group**\.
  125  

  127  
  128:     To add a rule, choose **Add security group rule**\. For **Type**, select the network traffic type\. The **Protocol** field is automatically filled in with the protocol to open to network traffic\. For **Source type**, select the source type\. To let the launch template add your computer's public IP address, choose **My IP**\. However, if you are connecting through an ISP or from behind your firewall without a static IP address, you need to find out the range of IP addresses used by client computers\.
  129: **Warning**  
  130  Rules that enable all IP addresses \(`0.0.0.0/0`\) to access your instance over SSH or RDP are acceptable if you are briefly launching a test instance and will stop or terminate it soon, but are unsafe for production environments\. You should authorize only a specific IP address or range of addresses to access your instance\.
  131: + **Advanced network configuration**
  132  
  133:   **Network interface** 
  134:   + **Device index**: The device number for the network interface, for example, `eth0` for the primary network interface\. If you leave the field blank, AWS creates the primary network interface\.
  135:   + **Network interface**: Select **New interface** to let Amazon EC2 create a new interface, or select an existing, available network interface\.
  136:   + **Description**: \(Optional\) A description for the new network interface\.
  137:   + **Subnet**: The subnet in which to create the new network interface\. For the primary network interface \(`eth0`\), this is the subnet in which the instance is launched\. If you've entered an existing network interface for `eth0`, the instance is launched in the subnet in which the network interface is located\.
  138:   + **Security groups**: One or more security groups in your VPC with which to associate the network interface\.
  139:   + **Auto\-assign public IP**: Specify whether your instance receives a public IPv4 address\. By default, instances in a default subnet receive a public IPv4 address and instances in a nondefault subnet do not\. You can select **Enable** or **Disable** to override the subnet's default setting\. For more information, see [Public IPv4 addresses](using-instance-addressing.md#concepts-public-addresses)\.
  140:   + **Primary IP**: A private IPv4 address from the range of your subnet\. Leave blank to let Amazon EC2 choose a private IPv4 address for you\.
  141:   + **Secondary IP**: One or more additional private IPv4 addresses from the range of your subnet\. Choose **Manually assign** and enter an IP address\. Choose **Add IP** to add another IP address\. Alternatively, choose **Automatically assign** to let Amazon EC2 choose one for you, and enter a value to indicate the number of IP addresses to add\.
  142:   + \(IPv6\-only\) **IPv6 IPs**: An IPv6 address from the range of the subnet\. Choose **Manually assign** and enter an IP address\. Choose **Add IP** to add another IP address\. Alternatively, choose **Automatically assign** to let Amazon EC2 choose one for you, and enter a value to indicate the number of IP addresses to add\.
  143:   + **IPv4 Prefixes**: The IPv4 prefixes for the network interface\.
  144:   + **IPv6 Prefixes**: The IPv6 prefixes for the network interface\.
  145:   + **Delete on termination**: Whether the network interface is deleted when the instance is deleted\.
  146:   + **Elastic Fabric Adapter**: Indicates whether the network interface is an Elastic Fabric Adapter\. For more information, see [Elastic Fabric Adapter](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/efa.html)\.
  147:   + **Network card index**: The index of the network card\. The primary network interface must be assigned to network card index **0**\. Some instance types support multiple network cards\.
  148  
  149:   Choose **Add network interface** to add more network interfaces\. The number of network interfaces that you can add depends on the number that is supported by the selected instance type\. A secondary network interface can reside in a different subnet of the VPC, provided it's in the same Availability Zone as your instance\.
  150  
  151:   For more information, see [Elastic network interfaces](using-eni.md)\. If you specify more than one network interface, your instance cannot receive a public IPv4 address\. Additionally, if you specify an existing network interface for eth0, you cannot override the subnet's public IPv4 setting using **Auto\-assign Public IP**\. For more information, see [Assign a public IPv4 address during instance launch](using-instance-addressing.md#public-ip-addresses)\.
  152  

  154  
  155: If you specify an AMI for the launch template, the AMI includes one or more volumes of storage, including the root volume \(**Volume 1 \(AMI Root\)**\)\. You can specify additional volumes to attach to the instance\.
  156  
  157: You can use the **Simple** or **Advanced** view\. With the **Simple** view, you specify the size and type of volume\. To specify all volume parameters, choose the **Advanced** view \(at top right of the card\)\.
  158  
  159: To add a new volume, choose **Add new volume**\.
  160  
  161: By using the **Advanced** view, you can configure each volume as follows:
  162: + **Storage type**: The type of volume \(EBS or ephemeral\) to associate with your instance\. The instance store \(ephemeral\) volume type is only available if you select an instance type that supports it\. For more information, see [Amazon EC2 instance store](InstanceStorage.md) and [Amazon EBS volumes](ebs-volumes.md)\.
  163: + **Device name**: Select from the list of available device names for the volume\.
  164: + **Snapshot**: Select the snapshot from which to create the volume\. You can search for available shared and public snapshots by entering text into the **Snapshot** field\.
  165: + **Size \(GiB\)**: For EBS volumes, you can specify a storage size\. If you have selected an AMI and instance that are eligible for the free tier, keep in mind that to stay within the free tier, you must stay under 30 GiB of total storage\. For more information, see [Constraints on the size and configuration of an EBS volume](volume_constraints.md)\.
  166: + **Volume type**: For EBS volumes, select a volume type\. For more information, see [Amazon EBS volume types](ebs-volume-types.md)\.
  167: + **IOPS**: If you have selected a Provisioned IOPS SSD \(`io1` and `io2`\) or General Purpose SSD \(`gp3`\) volume type, then you can enter the number of I/O operations per second \(IOPS\) that the volume can support\. This is required for io1, io2, and gp3 volumes\. It is not supported for gp2, st1, sc1, or standard volumes\. If you omit this paramater for the launch template, you must specify a value for it when you launch an instance from the launch template\.
  168: + **Delete on termination**: For Amazon EBS volumes, choose **Yes** to delete the volume when the instance is terminated, or choose **No** to keep the volume\. For more information, see [Preserve Amazon EBS volumes on instance termination](terminating-instances.md#preserving-volumes-on-termination)\.
  169: + **Encrypted**: If the instance type supports EBS encryption, you can choose **Yes** to enable encryption for the volume\. If you have enabled encryption by default in this Region, encryption is enabled for you\. For more information, see [Amazon EBS encryption](EBSEncryption.md)\.
  170: + **KMS key**: If you selected **Yes** for **Encrypted**, then you must select a customer managed key to use to encrypt the volume\. If you have enabled encryption by default in this Region, the default customer managed key is selected for you\. You can select a different key or specify the ARN of any customer managed key that you created\.
  171  

  173  
  174: To [tag](Using_Tags.md) the resources that are created when an instance is launched, under **Resource tags**, choose **Add tag**, and then enter a tag key and value pair\. For **Resource types**, specify the resources to tag on creation\. You can specify the same tag for all the resources, or specify different tags for different resources\. Choose **Add tag** again for each additional tag to add\.
  175  

  182  
  183: **Note**  
  184: To tag the launch template itself, you must specify the tags under **Template tags**\. For more information, see [Launch template name, description, and tags](#lt-name-and-tags)\.
  185  

  187  
  188: For **Advanced details**, expand the section to view the fields and specify any additional parameters for the instance\.
  189: + **Purchasing option**: Choose **Request Spot Instances** to request Spot Instances at the Spot price, capped at the On\-Demand price, and choose **Customize** to change the default Spot Instance settings\. You can set your maximum price \(not recommended\), and change the request type, request duration, and interruption behavior\. If you do not request a Spot Instance, EC2 launches an On\-Demand Instance by default\. For more information, see [Spot Instances](using-spot-instances.md)\.
  190: + **IAM instance profile**: Select an AWS Identity and Access Management \(IAM\) instance profile to associate with the instance\. For more information, see [IAM roles for Amazon EC2](iam-roles-for-amazon-ec2.md)\.
  191: + **Hostname type**: Select whether the guest OS hostname of the instance will include the resource name or the IP name\. For more information, see [Amazon EC2 instance hostname types](ec2-instance-naming.md)\.
  192: + **DNS Hostname**: Determines if the DNS queries to the resource name or the IP name \(depending on what you selected for **Hostname type**\) will respond with the IPv4 address \(A record\), IPv6 address \(AAAA record\), or both\. For more information, see [Amazon EC2 instance hostname types](ec2-instance-naming.md)\.
  193: + **Shutdown behavior**: Select whether the instance should stop or terminate when shut down\. For more information, see [Change the instance initiated shutdown behavior](terminating-instances.md#Using_ChangingInstanceInitiatedShutdownBehavior)\.
  194: + **Stop \- Hibernate behavior**: To enable hibernation, choose **Enable**\. This field is only valid for instances that meet the hibernation prerequisites\. For more information, see [Hibernate your On\-Demand Windows instance](Hibernate.md)\.
  195: + **Termination protection**: To prevent accidental termination, choose **Enable**\. For more information, see [Enable termination protection](terminating-instances.md#Using_ChangingDisableAPITermination)\.
  196: + **Stop protection**: To prevent accidental stopping, choose **Enable**\. For more information, see [Enable stop protection](Stop_Start.md#Using_StopProtection)\.
  197: + **Detailed CloudWatch monitoring**: Choose **Enable** to enable detailed monitoring of the instance using Amazon CloudWatch\. Additional charges apply\. For more information, see [Monitor your instances using CloudWatch](using-cloudwatch.md)\.
  198: + **Elastic GPU**: Select an Elastic Graphics accelerator to attach to the instance\. Not all instance types support Elastic Graphics\. For more information, see [Amazon Elastic Graphics](elastic-graphics.md)\.
  199: + **Elastic inference**: An elastic inference accelerator to attach to your EC2 CPU instance\. For more information, see [Working with Amazon Elastic Inference](https://docs.aws.amazon.com/elastic-inference/latest/developerguide/working-with-ei.html) in the *Amazon Elastic Inference Developer Guide*\.
  200: + **Credit specification**: Choose **Unlimited** to enable applications to burst beyond the baseline for as long as needed\. This field is only valid for **T** instances\. Additional charges may apply\. For more information, see [Burstable performance instances](burstable-performance-instances.md)\.
  201: + **Placement group name**: Specify a placement group in which to launch the instance\. You can select an existing placement group, or create a new one\. Not all instance types can be launched in a placement group\. For more information, see [Placement groups](placement-groups.md)\.
  202: + **EBS\-optimized instance**: Select **Enable** to provide additional, dedicated capacity for Amazon EBS I/O\. Not all instance types support this feature\. Additional charges apply\. For more information, see [Amazon EBS–optimized instances](ebs-optimized.md)\.
  203: + **Capacity Reservation**: Specify whether to launch the instance into any open Capacity Reservation \(**Open**\), a specific Capacity Reservation \(**Target by ID**\), or a Capacity Reservation group \(**Target by group**\)\. To specify that a Capacity Reservation should not be used, choose **None**\. For more information, see [Launch instances into an existing Capacity Reservation](capacity-reservations-using.md#capacity-reservations-launch)\.
  204: + **Tenancy**: Choose whether to run your instance on shared hardware \(**Shared**\), isolated, dedicated hardware \(**Dedicated**\), or on a Dedicated Host \(**Dedicated host**\)\. If you choose to launch the instance onto a Dedicated Host, you can specify whether to launch the instance into a host resource group or you can target a specific Dedicated Host\. Additional charges may apply\. For more information, see [Dedicated Instances](dedicated-instance.md) and [Dedicated Hosts](dedicated-hosts-overview.md)\.
  205: + **RAM disk ID**: \(Only valid for paravirtual \(PV\) AMIs\) Select a RAM disk for the instance\. If you have selected a kernel, you might need to select a specific RAM disk with the drivers to support it\.
  206: + **Kernel ID**: \(Only valid for paravirtual \(PV\) AMIs\) Select a kernel for the instance\.
  207: + **Nitro Enclave**: Allows you to create isolated execution environments, called enclaves, from Amazon EC2 instances\. Select **Enable** to enable the instance for AWS Nitro Enclaves\. For more information, see [What is AWS Nitro Enclaves?](https://docs.aws.amazon.com/enclaves/latest/user/nitro-enclave.html) in the *AWS Nitro Enclaves User Guide*\.
  208: + **License configurations**: You can launch instances against the specified license configuration to track your license usage\. For more information, see [Create a license configuration](https://docs.aws.amazon.com/license-manager/latest/userguide/create-license-configuration.html) in the *AWS License Manager User Guide*\.
  209: + **Specify CPU options**: Choose **Specify CPU options** to specify a custom number of vCPUs during launch\. Set the number of CPU cores and threads per core\. For more information, see [Optimize CPU options](instance-optimize-cpu.md)\.
  210: + **Metadata transport**: You can enable or disable the access method to the instance metadata service that's available for this EC2 instance based on the IP address type \(IPv4, IPv6, or IPv4 and IPv6\) of the instance\. For more information, see [Retrieve instance metadata](instancedata-data-retrieval.md)\.
  211: + **Metadata accessible**: You can enable or disable access to the instance metadata\. For more information, see [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)\.
  212: + **Metadata version**: If you enable access to the instance metadata, you can choose to require the use of Instance Metadata Service Version 2 when requesting instance metadata\. For more information, see [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)\.
  213: + **Metadata response hop limit**: If you enable instance metadata, you can set the allowable number of network hops for the metadata token\. For more information, see [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)\.
  214: + **Allow tags in metadata**: If you select **Enable**, the instance will allow access to all of its instance's tags from its metadata\. If you do not include this setting in the template, by default, access to the tags in instance metadata is not allowed\. For more information, see [Allow access to tags in instance metadata](Using_Tags.md#allow-access-to-tags-in-IMDS)\.
  215: + **User data**: You can specify user data to configure an instance during launch, or to run a configuration script\. For more information, see [Run commands on your Windows instance at launch](ec2-windows-user-data.md)\.
  216  

  218  
  219: Use the **Summary** panel to review your launch template configuration and to create your launch template\.
  220: + Review the details of your launch template, and make any necessary changes\. You can navigate directly to a section by choosing its link in the **Summary** panel\.
  221: + When you're ready to create your launch template, choose **Create launch template**\.
  222  

  226  
  227: **To create a launch template using the AWS CLI**
  228  + Use the [create\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-launch-template.html) command\. The following example creates a launch template that specifies the following:

  294  
  295: **To create a launch template from an existing launch template**
  296  

  298  
  299: 1. In the navigation pane, choose **Launch Templates**, and then choose **Create launch template**\.
  300  
  301: 1. For **Launch template name**, enter a descriptive name for the launch template\.
  302  
  303: 1. For **Template version description**, provide a brief description of this version of the launch template\.
  304  
  305: 1. To tag the launch template on creation, expand **Template tags**, choose **Add tag**, and then enter a tag key and value pair\.
  306  
  307: 1. Expand **Source template**, and for **Launch template name** choose a launch template on which to base the new launch template\.
  308  
  309: 1. For **Source template version**, choose the launch template version on which to base the new launch template\.
  310  
  311: 1. Adjust any launch parameters as required, and then choose **Create launch template**\.
  312  

  319  
  320: **To create a launch template from an instance**
  321  

  323  
  324: 1. In the navigation pane, choose **Instances**\.
  325  
  326: 1. Select the instance, and choose **Actions**, **Create template from instance**\.
  327  
  328  1. Provide a name, description, and tags, and adjust the launch parameters as required\.
  329: **Note**  
  330  When you create a launch template from an instance, the instance's network interface IDs and IP addresses are not included in the template\.
  331  
  332: 1. Choose **Create launch template**\.
  333  

  338  
  339: **To get launch template data from an instance**
  340  + Use the [get\-launch\-template\-data](https://docs.aws.amazon.com/cli/latest/reference/ec2/get-launch-template-data.html) command and specify the instance ID\. You can use the output as a base to create a new launch template or launch template version\. By default, the output includes a top\-level `LaunchTemplateData` object, which cannot be specified in your launch template data\. Use the `--query` option to exclude this object\.

  401  
  402: **To create a launch template using launch template data**
  403  + Use the [create\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-launch-template.html) command to create a launch template using the output from the previous procedure\. For more information about creating a launch template using the AWS CLI, see [Create a new launch template using parameters you define](#create-launch-template-define-parameters)\.

  431  
  432: **Parameter versions**
  433  

  450  
  451: **To specify a Systems Manager parameter in a launch template**
  452  

  454  
  455: 1. In the navigation pane, choose **Launch Templates**, and then choose **Create launch template**\. 
  456  
  457: 1. For **Launch template name**, enter a descriptive name for the launch template\.
  458  
  459: 1. Under **Application and OS Images \(Amazon Machine Image\)**, choose **Browse more AMIs**\.
  460  
  461: 1. Choose the arrow button to the right of the search bar, and then choose **Specify custom value/Systems Manager parameter**\.
  462  
  463: 1. In the **Specify custom value or Systems Manager parameter** dialog box, do the following:
  464  
  465:    1. For **AMI ID or Systems Manager parameter string**, enter the Systems Manager parameter name using one of the following formats:
  466:       + **resolve:ssm:*parameter\-name***
  467:       + **resolve:ssm:*parameter\-name*:*version\-number***
  468:       + **resolve:ssm:*parameter\-name*:*label***
  469  
  470:    1. Choose **Save**\.
  471  
  472: 1. Specify any other launch template parameters as needed, and then choose **Create launch template**\.
  473  

  478  
  479: **To specify a Systems Manager parameter in a launch template**
  480  + Use the [create\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-launch-template.html) command to create the launch template\. To specify the AMI to use, enter the Systems Manager parameter name using one of the following formats:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/CreateRunAsAccount.md:
   4  
   5: **To create an AWS Run As account**
   6  
   7: 1. We recommend that you create an IAM user with the minimum access rights required \(for example, the **ReadOnlyAccess** AWS managed policy works in most cases\)\. You'll need the access keys \(access key ID and secret access key\) for this user to complete this procedure\. For more information, see [Administering Access Keys for IAM Users](https://docs.aws.amazon.com/IAM/latest/UserGuide/ManagingCredentials.html) in the *IAM User Guide*\.
   8  

  13     To grant users programmatic access, choose one of the following options\.  
  14: ****    
  15  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/CreateRunAsAccount.html)
  16  
  17: 1. In the Operations console, on the **Go** menu, click **Administration**\.
  18  
  19: 1. In the **Administration** workspace, expand the **Run As Configuration** node, and then select **Accounts**\.
  20  
  21: 1. Right\-click the **Accounts** pane, and then click **Create Run As Account**\.
  22  
  23: 1. In the **Create Run As Account Wizard**, on the **General Properties** page, in the **Run As account type** list, select **Basic Authentication**\.
  24  
  25: 1. Enter a display name \(for example, "My IAM Account"\) and a description, and then click **Next**\.  
  26  ![\[Configuring an AWS Run As account.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/configure_runas_account.png)
  27  
  28: 1. On the **Credentials** page, enter the access key ID in the **Account name** box and the secret access key in the **Password** box, and then click **Next**\.  
  29  ![\[Storing the access key ID and secret access key.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/store_access_key.png)
  30  
  31: 1. On the **Distribution Security** page, select **More secure \- I want to manually select the computers to which the credentials will be distributed**, and then click **Create**\.  
  32  ![\[Distribution security option.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/distribution_security_option.png)
  33  
  34: 1. Click **Close**\.
  35  

  37  
  38: 1. In the **Actions** pane, click **Properties**\.
  39  
  40: 1. In the **Properties** dialog box, verify that the **More Secure** option is selected and that all management servers to be used to monitor your AWS resources are listed\.  
  41  ![\[Management servers.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/AccountDistribution.png)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/Creating_EBSbacked_WinAMI.md:
    8  
    9: **Topics**
   10  + [How the creation of a custom AMI works](#process-creating-a-windows-ami-ebs)

   23  
   24: **Note**  
   25  A Windows AMI must be created from an Amazon EC2 instance\. Creation of a Windows AMI from an EBS snapshot is currently not supported as it might cause issues with billing, performance, and general operation\.

   28  
   29: **Note**  
   30  When you create a new instance from a custom AMI, you should initialize both its root volume and any additional EBS storage before putting it into production\. For more information, see [Initialize Amazon EBS volumes](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-initialize.html)\.

   35  
   36: **Note**  
   37  If you already have a running Windows instance, you can go directly to step 5\.

   40  
   41: **To create an AMI from an instance using the console**
   42  

   44  
   45: 1. In the navigation pane, under **Images**, choose **AMIs**\.
   46  
   47: 1. Use the **Filter** options to scope the list of AMIs to the Windows AMIs that meet your needs\. For example, to view the Windows AMIs provided by AWS, choose **Public images** from the drop\-down list\. Choose the Search bar\. Choose **Owner** from the menu and choose **amazon**\. Choose **Source** from the menu and enter one of the following, depending on the version of Windows Server that you need:
   48:    + **amazon/Windows\_Server\-2022**
   49:    + **amazon/Windows\_Server\-2019**
   50:    + **amazon/Windows\_Server\-2016**
   51:    + **amazon/Windows\_Server\-2012**
   52  

   54  
   55: 1. Choose **Launch instance from AMI** \(new console\) or **Launch** \(old console\)\. Accept the default values as you step through the wizard\. For more information, see [Launch an instance using the new launch instance wizard](ec2-launch-instance-wizard.md)\. When the instance is ready, connect to it\. For more information, see [Connect to your Windows instance](connecting_to_windows_instance.md)\.
   56  

   69  
   70: 1. In the navigation pane, choose **Instances** and select your instance\. Choose **Actions**, **Image and templates**, and **Create image**\.
   71: **Tip**  
   72  If this option is disabled, your instance isn't an Amazon EBS\-backed instance\.

   75  
   76:    By default, when Amazon EC2 creates the new AMI, it reboots the instance so that it can take snapshots of the attached volumes while data is at rest, in order to ensure a consistent state\. For the **No reboot** setting, you can select the **Enable** check box to prevent Amazon EC2 from shutting down and rebooting the instance\.
   77: **Warning**  
   78: If you choose to enable **No reboot**, we can't guarantee the file system integrity of the created image\.
   79  
   80     \(Optional\) Modify the root volume, EBS volumes, and instance store volumes as needed\. For example:
   81:    + To change the size of the root volume, locate the **Root** volume in the **Type** column, and fill in the **Size** field\.
   82:    + To suppress an EBS volume specified by the block device mapping of the AMI used to launch the instance, locate the EBS volume in the list and choose **Delete**\.
   83:    + To add an EBS volume, choose **Add New Volume**, **Type**, and **EBS**, and fill in the fields\. When you then launch an instance from your new AMI, these additional volumes are automatically attached to the instance\. Empty volumes must be formatted and mounted\. Volumes based on a snapshot must be mounted\.
   84:    + To suppress an instance store volume specified by the block device mapping of the AMI used to launch the instance, locate the volume in the list and choose **Delete**\.
   85:    + To add an instance store volume, choose **Add New Volume**, **Type**, and **Instance Store**, and select a device name from the **Device** list\. When you launch an instance from your new AMI, these additional volumes are automatically initialized and mounted\. These volumes don't contain data from the instance store volumes of the running instance from which you based your AMI\.
   86  
   87:    When you are finished, choose **Create Image**\.
   88  
   89: 1. While your AMI is being created, you can choose **AMIs** in the navigation pane to view its status\. Clear your previous filters, and choose **Owned by me** from the drop\-down list\. Initially, the status is `pending`\. After a few minutes, the status should change to `available`\.
   90  
   91:    \(Optional\) Choose **Snapshots** in the navigation pane to view the snapshot that was created for the new AMI\. When you launch an instance from this AMI, we use this snapshot to create its root device volume\.
   92  

  108  
  109: **Important**  
  110  Do not use Sysprep to create an instance backup\. Sysprep removes system\-specific information; removing this information might have unintended consequences for an instance backup\.

  113  
  114: **Topics**
  115  + [Before you begin](#sysprep-begin)

  128  
  129: **Topics**
  130  + [Sysprep phases](#sysprep-phases)

  137  Sysprep runs through the following phases:
  138: + **Generalize**: The tool removes image\-specific information and configurations\. For example, Sysprep removes the security identifier \(SID\), the computer name, the event logs, and specific drivers, to name a few\. After this phase is completed, the operating system \(OS\) is ready to create an AMI\. 
  139: **Note**  
  140  When you run Sysprep with the EC2Launch v2 service, the system prevents drivers from being removed because the `PersistAllDeviceInstalls` setting is set to true by default\.
  141: + **Specialize**: Plug and Play scans the computer and installs drivers for any detected devices\. The tool generates OS requirements, like the computer name and SID\. Optionally, you can run commands in this phase\. 
  142: + **Out\-of\-Box Experience \(OOBE\)**: The system runs an abbreviated version of Windows Setup and asks you to enter information such as system language, time zone, and registered organization\. When you run Sysprep with EC2Launch v2, the answer file automates this phase\. 
  143  

  147  
  148: 1. When you choose **Shutdown with Sysprep** in the **EC2Launch settings** dialog box, the system runs the `ec2launch sysprep` command\.
  149  

  163  + EC2Launch v2 removes image\-specific information and configurations, such as the computer name and the SID\. If the instance is a member of a domain, it is removed from the domain\. The `unattend.xml` answer file includes the following settings that affect this phase: 
  164:   + **PersistAllDeviceInstalls**: This setting prevents Windows Setup from removing and reconfiguring devices, which speeds up the image preparation process because Amazon AMIs require certain drivers to run and re\-detection of those drivers would take time\.
  165:   + **DoNotCleanUpNonPresentDevices**: This setting retains Plug and Play information for devices that are not currently present\.
  166  + Sysprep shuts down the OS as it prepares to create the AMI\. The system either launches a new instance or starts the original instance\.

  170  The system generates OS\-specific requirements, such as a computer name and an SID\. The system also performs the following actions based on configurations that you specify in the `unattend.xml` answer file\.
  171: + **CopyProfile**: Sysprep can be configured to delete all user profiles, including the built\-in Administrator profile\. This setting retains the built\-in Administrator account so that any customizations you make to that account are carried over to the new image\. The default value is `True`\.
  172  
  173:   **CopyProfile** replaces the default profile with the existing local administrator profile\. All accounts that you log in to after running Sysprep receive a copy of that profile and its contents at first login\. 
  174  
  175    If you don’t have specific user\-profile customizations that you want to carry over to the new image, then change this setting to `False`\. Sysprep will remove all user profiles \(this saves time and disk space\)\. 
  176: + **TimeZone**: The time zone is set to Coordinate Universal Time \(UTC\) by default\.
  177: + **Synchronous command with order 1**: The system runs the following command, which enables the administrator account and specifies the password requirement:
  178  
  179    net user Administrator /ACTIVE:YES /LOGONPASSWORDCHG:NO /EXPIRES:NEVER /PASSWORDREQ:YES
  180: + **Synchronous command with order 2**: The system scrambles the administrator password\. This security measure is designed to prevent the instance from being accessible after Sysprep completes if you did not enable the `ec2setpassword` setting\. 
  181  
  182    C:\\Program Files\\Amazon\\Ec2ConfigService\\ScramblePassword\.exe" \-u Administrator
  183: + **Synchronous command with order 3**: The system runs the following command:
  184  

  204     + `<RegisteredOwner>EC2</RegisteredOwner>`
  205: **Note**  
  206  During the generalize and specialize phases, EC2Launch v2 monitors the status of the OS\. If EC2Launch v2 detects that the OS is in a Sysprep phase, then it publishes the following message to the system log:  

  240  
  241: 1. From the Windows **Start** menu, search for and choose **Amazon EC2Launch settings**\. For more information about the options and settings in the Amazon **EC2Launch settings** dialog box, see [EC2Launch v2 settings](ec2launch-v2-settings.md)\.
  242  
  243: 1. Select **Shutdown with Sysprep** or **Shutdown without Sysprep**\.
  244  
  245: When you are asked to confirm that you want to run Sysprep and shut down the instance, click **Yes**\. EC2Launch v2 runs Sysprep\. Next, you are logged off the instance, and the instance shuts down\. If you check the **Instances** page in the Amazon EC2 console, the instance state changes from `Running` to `Stopping` to `Stopped`\. At this point, it's safe to create an AMI from this instance\.
  246  

  256  
  257: **Important**  
  258  Do not use Sysprep to create an instance backup\. Sysprep removes system\-specific information\. If you remove this information there might be unintended consequences for an instance backup\.
  259  
  260: **Topics**
  261  + [EC2Launch answer and batch files for Sysprep](#ec2launch-sysprep-answer-batch)

  269  `Unattend.xml`  
  270: This is the default answer file\. If you run `SysprepInstance.ps1` or choose **ShutdownWithSysprep** in the user interface, the system reads the setting from this file\.
  271  

  279  
  280: On the full installation of Windows Server 2016 and later \(with a desktop experience\), you can run Sysprep with EC2Launch manually or by using the **EC2 Launch Settings** application\.
  281  
  282: **To run Sysprep using the EC2Launch Settings application**
  283  

  289  
  290: 1. Search for and run the **EC2LaunchSettings** application\. It is located in the following directory by default: `C:\ProgramData\Amazon\EC2-Windows\Launch\Settings`\.  
  291  ![\[EC2 Launch Settings application\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/ec2launch-sysprep.png)

  294  
  295: 1. For **Administrator Password**, do one of the following:
  296:    + Choose **Random**\. EC2Launch generates a password and encrypts it using the user's key\. The system disables this setting after the instance is launched so that this password persists if the instance is rebooted or stopped and started\.
  297:    + Choose **Specify** and type a password that meets the system requirements\. The password is stored in `LaunchConfig.json` as clear text and is deleted after Sysprep sets the administrator password\. If you shut down now, the password is set immediately\. EC2Launch encrypts the password using the user's key\.
  298:    + Choose **DoNothing** and specify a password in the `unattend.xml` file\. If you don't specify a password in `unattend.xml`, the administrator account is disabled\.
  299  
  300: 1. Choose **Shutdown with Sysprep**\.
  301  
  302: **To manually run Sysprep using EC2Launch**
  303  

  325  
  326: You are logged off the instance and the instance shuts down\. If you check the **Instances** page in the Amazon EC2 console, the instance state changes from `Running` to `Stopping`, and then to `Stopped`\. At this point, it is safe to create an AMI from this instance\.
  327  

  333  + Manually reschedule EC2 Launch initialize tasks before creating an AMI from [PowerShell](ec2launch.md#ec2launch-inittasks)\. 
  334: **Important**  
  335  Take note of the default password reset behavior before rescheduling tasks\.

  341  
  342: **Topics**
  343  + [Sysprep phases](#sysprep-phases)

  350  Sysprep runs through the following phases:
  351: + **Generalize**: The tool removes image\-specific information and configurations\. For example, Sysprep removes the security identifier \(SID\), the computer name, the event logs, and specific drivers, to name a few\. After this phase is completed, the operating system \(OS\) is ready to create an AMI\. 
  352: **Note**  
  353  When you run Sysprep with the EC2Config service, the system prevents drivers from being removed because the PersistAllDeviceInstalls setting is set to true by default\.
  354: + **Specialize**: Plug and Play scans the computer and installs drivers for any detected devices\. The tool generates OS requirements like the computer name and SID\. Optionally, you can run commands in this phase\. 
  355: + **Out\-of\-Box Experience \(OOBE\)**: The system runs an abbreviated version of Windows Setup and asks the user to enter information such as a system language, the time zone, and a registered organization\. When you run Sysprep with EC2Config, the answer file automates this phase\. 
  356  

  360  
  361: 1. When you choose **Shutdown with Sysprep** in the **EC2 Service Properties** dialog box, the system runs the **ec2config\.exe –sysprep** command\.
  362  

  365      The `BundleConfig.xml` file includes the following settings\. You can change these settings:
  366:    + **AutoSysprep**: Indicates whether to use Sysprep automatically\. You do not need to change this value if you are running Sysprep from the EC2 Service Properties dialog box\. The default value is `No`\.
  367:    + **SetRDPCertificate**: Sets a self\-signed certificate for the Remote Desktop server\. This enables you to securely use the Remote Desktop Protocol \(RDP\) to connect to the instance\. Change the value to `Yes` if new instances should use a certificate\. This setting is not used with Windows Server 2008 or Windows Server 2012 instances because these operating systems can generate their own certificates\. The default value is `No`\.
  368:    + **SetPasswordAfterSysprep**: Sets a random password on a newly launched instance, encrypts it with the user launch key, and outputs the encrypted password to the console\. Change the value to `No` if new instances should not be set to a random encrypted password\. The default value is `Yes`\.
  369:    +  **PreSysprepRunCmd**: The location of the command to run\. The command is located in the following directory, by default: `C:\Program Files\Amazon\Ec2ConfigService\Scripts\BeforeSysprep.cmd`
  370  

  386  + The tool removes image\-specific information and configurations such as the computer name and the SID\. If the instance is a member of a domain, it is removed from the domain\. The `sysprep2008.xml` answer file includes the following settings that affect this phase: 
  387:   + **PersistAllDeviceInstalls**: This setting prevents Windows Setup from removing and reconfiguring devices, which speeds up the image preparation process because Amazon AMIs require certain drivers to run and re\-detection of those drivers would take time\.
  388:   + **DoNotCleanUpNonPresentDevices**: This setting retains Plug and Play information for devices that are not currently present\.
  389  + Sysprep shuts down the OS as it prepares to create the AMI\. The system either launches a new instance or starts the original instance\.

  393  The system generates OS specific requirements such as a computer name and a SID\. The system also performs the following actions based on configurations that you specify in the sysprep2008\.xml answer file\.
  394: + **CopyProfile**: Sysprep can be configured to delete all user profiles, including the built\-in Administrator profile\. This setting retains the built\-in Administrator account so that any customizations you made to that account are carried over to the new image\. The default value is True\.
  395  
  396:   **CopyProfile** replaces the default profile with the existing local administrator profile\. All accounts logged into after running Sysprep will receive a copy of that profile and its contents at first login\. 
  397  
  398    If you don’t have specific user\-profile customizations that you want to carry over to the new image then change this setting to False\. Sysprep will remove all user profiles; this saves time and disk space\. 
  399: + **TimeZone**: The time zone is set to Coordinate Universal Time \(UTC\) by default\.
  400: + **Synchronous command with order 1**: The system runs the following command that enables the administrator account and specifies the password requirement\.
  401  
  402    net user Administrator /ACTIVE:YES /LOGONPASSWORDCHG:NO /EXPIRES:NEVER /PASSWORDREQ:YES
  403: + **Synchronous command with order 2**: The system scrambles the administrator password\. This security measure is designed to prevent the instance from being accessible after Sysprep completes if you did not enable the ec2setpassword setting\. 
  404  
  405    C:\\Program Files\\Amazon\\Ec2ConfigService\\ScramblePassword\.exe" \-u Administrator
  406: + **Synchronous command with order 3**: The system runs the following command:
  407  

  428     + <RegisteredOwner>Amazon</RegisteredOwner>
  429: **Note**  
  430  During the generalize and specialize phases the EC2Config service monitors the status of the OS\. If EC2Config detects that the OS is in a Sysprep phase, then it publishes the following message to the system log:  

  486  
  487: 1. From the Windows **Start** menu, choose **All Programs**, and then choose **EC2ConfigService Settings**\. 
  488  
  489: 1. Choose the **Image** tab in the **Ec2 Service Properties** dialog box\. For more information about the options and settings in the Ec2 Service Properties dialog box, see [Ec2 Service Properties](ec2config-service.md)\.
  490  
  491: 1. Select an option for the Administrator password, and then select **Shutdown with Sysprep** or **Shutdown without Sysprep**\. EC2Config edits the settings files based on the password option that you selected\.
  492:    + **Random**: EC2Config generates a password, encrypts it with user's key, and displays the encrypted password to the console\. We disable this setting after the first launch so that this password persists if the instance is rebooted or stopped and started\.
  493:    + **Specify**: The password is stored in the Sysprep answer file in unencrypted form \(clear text\)\. When Sysprep runs next, it sets the Administrator password\. If you shut down now, the password is set immediately\. When the service starts again, the Administrator password is removed\. It's important to remember this password, as you can't retrieve it later\.
  494:    + **Keep Existing**: The existing password for the Administrator account doesn't change when Sysprep is run or EC2Config is restarted\. It's important to remember this password, as you can't retrieve it later\.
  495  
  496: 1. Choose **OK**\.
  497  
  498: When you are asked to confirm that you want to run Sysprep and shut down the instance, click **Yes**\. You'll notice that EC2Config runs Sysprep\. Next, you are logged off the instance, and the instance is shut down\. If you check the **Instances** page in the Amazon EC2 console, the instance state changes from `Running` to `Stopping`, and then finally to `Stopped`\. At this point, it's safe to create an AMI from this instance\.
  499  

  505  
  506: **Note**  
  507  The double quotation marks in the command are not required if your CMD shell is already in the C:\\Program Files\\Amazon\\EC2ConfigService\\ directory\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/credential-guard.md:
    4  
    5: **Topics**
    6  + [Prerequisites](#credential-guard-prerequisites)

   15  
   16: **Amazon Machine Images \(AMIs\)**  
   17  The AMI must be preconfigured to enable NitroTPM and UEFI Secure Boot\. For more information on supported AMIs, see [Prerequisites for launching a Windows instance with NitroTPM enabled](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/enable-nitrotpm-prerequisites.html)\.
   18  
   19: **Instance types**  
   20  The following instance types and sizes support Credential Guard:      

   27  
   28: **Tip**  
   29  You can use the following link to discover and launch instances with compatible Amazon provided AMIs in the Amazon EC2 console:  

   34  
   35: **To launch an instance using the Amazon EC2 console**  
   36  Follow the steps to [Launch an instance using the new launch instance wizard](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-launch-instance-wizard.html) while specifying a supported instance type and preconfigured Windows AMI\.

   40  
   41: **To launch an instance using the AWS CLI**  
   42  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) command to launch an instance using a supported instance type and preconfigured Windows AMI\.

   57  
   58: **Important**  
   59  Administrator privileges are required to perform the following steps to turn on Credential Guard\.
   60  
   61: **To turn on Credential Guard**
   62  

   64  
   65: 1. Open the Start menu and search for **cmd** to start a command prompt\.
   66  

   68  
   69: 1. In the Local Group Policy Editor, choose **Computer Configuration**, **Administrative Templates**, **System**, **Device Guard**\.
   70  
   71: 1. Select **Turn On Virtualization Based Security**, then select **Edit policy setting**\.
   72  
   73: 1. Choose **Enabled** within the **Turn On Virtualization Based Security** menu\.
   74  
   75: 1. For **Select Platform Security Level**, choose **Secure Boot and DMA Protection**\.
   76  
   77: 1. For **Credential Guard Configuration**, choose **Enabled without lock**\.
   78: **Note**  
   79: The remaining policy settings are not required to enable Credential Guard and can be left as **Not Configured**\.
   80  

   89  
   90: **Important**  
   91  You must first reboot the instance to finish applying the policy settings required to enable Credential Guard\.
   92  
   93: **To verify Credential Guard is running**
   94  

   96  
   97: 1. Within the RDP session to your instance, open the Start menu and search for **cmd** to start a command prompt\.
   98  

  100  
  101: 1. The Microsoft System Information tool lists the details for VBS configuration\. Next to Virtualization\-based security Services, confirm that **Credential Guard** appears as **Running**\.
  102  

  109  
  110: **Important**  
  111  Administrator privileges are required to perform the following steps to turn off Credential Guard\.
  112  
  113: **To turn off Credential Guard**
  114  

  116  
  117: 1. Open the Start menu and search for **cmd** to start a command prompt\.
  118  

  120  
  121: 1. In the Local Group Policy Editor, choose **Computer Configuration**, **Administrative Templates**, **System**, **Device Guard**\.
  122  
  123: 1. Select **Turn On Virtualization Based Security**, then select **Edit policy setting**\.
  124  
  125: 1. Choose **Disabled** within the **Turn On Virtualization Based Security** menu\.
  126  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/delete-key-pair.md:
   6  
   7: **Important**  
   8  If you're using an Auto Scaling group \(for example, in an Elastic Beanstalk environment\), ensure that the public key you're deleting is not specified in an associated launch template or launch configuration\. If Amazon EC2 Auto Scaling detects an unhealthy instance, it launches a replacement instance\. However, the instance launch fails if the public key cannot be found\. For more information, see [Launch templates](https://docs.aws.amazon.com/autoscaling/ec2/userguide/LaunchTemplates.html) in the *Amazon EC2 Auto Scaling User Guide*\.

  14  
  15: **To delete your public key on Amazon EC2**
  16  

  18  
  19: 1. In the navigation pane, choose **Key Pairs**\.
  20  
  21: 1. Select the key pair to delete and choose **Actions**, **Delete**\.
  22  
  23: 1. In the confirmation field, enter `Delete` and then choose **Delete**\.
  24  

  27  
  28: **To delete your public key on Amazon EC2**  
  29  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-key-pair.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-key-pair.html) AWS CLI command\.

  33  
  34: **To delete your public key on Amazon EC2**  
  35  Use the [https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2KeyPair.html](https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2KeyPair.html) AWS Tools for Windows PowerShell command\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/delete-launch-template.md:
   7  
   8: **To delete a launch template**
   9  

  11  
  12: 1. In the navigation pane, choose **Launch Templates**\.
  13  
  14: 1. Select the launch template and choose **Actions**, **Delete template**\.
  15  
  16: 1. Enter **Delete** to confirm deletion, and then choose **Delete**\.
  17  

  20  
  21: **To delete a launch template**
  22  + Use the [delete\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-launch-template.html) \(AWS CLI\) command and specify the launch template\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/deregister-ami.md:
    6  
    7: **Topics**
    8  + [Considerations](#deregister-ami-considerations)

   30  
   31: **To clean up your AMI**
   32  

   36  
   37: **Deregister the AMI**
   38  
   39:    1. In the navigation pane, choose **AMIs**\.
   40  

   42  
   43:    1. Choose **Actions**, **Deregister AMI**\. When prompted for confirmation, choose **Deregister AMI**\.
   44: **Note**  
   45: It might take a few minutes before the console removes the AMI from the list\. Choose **Refresh** to refresh the status\.
   46  

   48  
   49: **Delete snapshots that are no longer needed**
   50  
   51:    1. In the navigation pane, choose **Snapshots**\.
   52  
   53:    1. Select a snapshot to delete \(look for the AMI ID from the prior step in the **Description** column\)\.
   54  
   55:    1. Choose **Actions**, **Delete snapshot**\. When prompted for confirmation, choose **Delete**\.
   56  

   58  
   59: **\(Optional\) Terminate instances**  
   60  If you are finished with an instance that you launched from the AMI, you can terminate it\.
   61  
   62:    1. In the navigation pane, choose **Instances**, and then select the instance to terminate\.
   63  
   64:    1. Choose **Instance state**, **Terminate instance**\. When prompted for confirmation, choose **Terminate**\.
   65  

   68  
   69: **To clean up your AMI**
   70  

   74  
   75: **Deregister the AMI**
   76  
   77:    1. In the navigation pane, choose **AMIs**\.
   78  

   80  
   81:    1. Choose **Actions**, **Deregister**\. When prompted for confirmation, choose **Continue**\.
   82: **Note**  
   83: It may take a few minutes before the console removes the AMI from the list\. Choose **Refresh** to refresh the status\.
   84  

   86  
   87: **Delete snapshots that are no longer needed**
   88  
   89:    1. In the navigation pane, choose **Snapshots**\.
   90  
   91:    1. Select a snapshot to delete \(look for the AMI ID from the prior step in the **Description** column\)\.
   92  
   93:    1. Choose **Actions**, **Delete**\. When prompted for confirmation, choose **Yes, Delete**\.
   94  

   96  
   97: **\(Optional\) Terminate instances**  
   98  If you are finished with an instance that you launched from the AMI, you can terminate it\.
   99  
  100:    1. In the navigation pane, choose **Instances**, and then select the instance to terminate\.
  101  
  102:    1. Choose **Actions**, **Instance State**, **Terminate**\. When prompted for confirmation, choose **Yes, Terminate**\.
  103  

  110  
  111: **Deregister the AMI**
  112  

  120  
  121: **Delete snapshots that are no longer needed**
  122  

  130  
  131: **Terminate instances \(Optional\)**
  132  

  145  
  146: **Deregister the AMI**
  147  

  155  
  156: **Delete snapshots that are no longer needed**
  157  

  165  
  166: **Terminate instances \(Optional\)**
  167  

  179  
  180: **Note**  
  181  When the AMI is used to launch an instance, there is a 24\-hour delay before that usage is reported\. 

  186  
  187: **To view the last launched time of an AMI**
  188  

  190  
  191: 1. In the left navigator, choose **AMIs**\.
  192  
  193: 1. From the filter bar, choose **Owned by me**\.
  194  
  195: 1. Select the AMI, and then check the **Last launched time** field \(if you selected the check box next to the AMI, it's located on the **Details** tab\)\. The field shows the date and time when the AMI was last used to launch an instance\.
  196  

  199  
  200: **To view the last launched time of an AMI**  
  201  Run the [describe\-image\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-image-attribute.html) command and specify `--attribute lastLaunchedTime`\. You must be the AMI owner to run this command\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/device_naming.md:
  6  
  7: **Topics**
  8  + [Available device names](#available-ec2-device-names)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/diagnostic-interrupt.md:
   2  
   3: **Warning**  
   4  Diagnostic interrupts are intended for use by advanced users\. Incorrect usage could negatively impact your instance\. Sending a diagnostic interrupt to an instance could trigger an instance to crash and reboot, which could lead to the loss of data\.

  13  
  14: **Topics**
  15  + [Supported instance types](#diagnostic-interrupt-instances)

  26  
  27: **To configure Windows to generate a memory dump when a stop error occurs**
  28  

  30  
  31: 1. Open the **Control Panel** and choose **System**, **Advanced system settings**\.
  32  
  33: 1. In the **System Properties** dialog box, choose the **Advanced** tab\.
  34  
  35: 1. In the **Startup and Recovery** section, choose **Settings\.\.\.**\.
  36  
  37: 1. In the **System failure** section, configure the settings as needed, and then choose **OK**\.
  38  

  44  
  45: **To send a diagnostic interrupt to your instance \(AWS CLI\)**  
  46  Use the [send\-diagnostic\-interrupt](https://docs.aws.amazon.com/cli/latest/reference/ec2/send-diagnostic-interrupt.html) command and specify the instance ID\.

  51  
  52: **To send a diagnostic interrupt to your instance \(AWS Tools for Windows PowerShell\)**  
  53  Use the [Send\-EC2DiagnosticInterrupt](https://docs.aws.amazon.com/powershell/latest/reference/items/Send-EC2DiagnosticInterrupt.html) cmdlt and specify the instance ID\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/dlm-monitor-lifecycle.md:
  4  
  5: **Topics**
  6  + [Console and AWS CLI](#monitor-console-cli)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/DocumentHistory.md:
   32  | [Initiate Spot Instance interruption](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/initiate-a-spot-instance-interruption.html) | You can select a Spot Instance in the Amazon EC2 console and initiate an interruption so that you can test how the applications on your Spot Instances handle being interrupted\. | September 26, 2022 | 
   33: | [Verified AMI provider](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/sharing-amis.html#verified-ami-provider) | In the Amazon EC2 console, public AMIs that are owned by Amazon or a verified Amazon partner are marked **Verified provider**\. | July 22, 2022 | 
   34  | [R6a instances](#DocumentHistory) | New memory optimized instances featuring 3rd generation AMD EPYC processors\. | July 19, 2022 | 

  278  | T2 instances |  2014\-06\-15  |  T2 instances are designed to provide moderate base performance and the capability to burst to significantly higher performance as required by your workload\. They are intended for applications that need responsiveness, high performance for limited periods of time, and a low cost\. For more information, see [Burstable performance instances](burstable-performance-instances.md)\.  | 30 June 2014 | 
  279: | New EC2 Service Limits page |  |  Use the **EC2 Service Limits** page in the Amazon EC2 console to view the current limits for resources provided by Amazon EC2 and Amazon VPC, on a per\-region basis\.  | 19 June 2014 | 
  280  | Amazon EBS General Purpose SSD Volumes |  2014\-05\-01  |  General Purpose SSD volumes offer cost\-effective storage that is ideal for a broad range of workloads\. These volumes deliver single\-digit millisecond latencies, the ability to burst to 3,000 IOPS for extended periods of time, and a base performance of 3 IOPS/GiB\. General Purpose SSD volumes can range in size from 1 GiB to 1 TiB\. For more information, see [General Purpose SSD \(gp2\) volumes](general-purpose.md#EBSVolumeTypes_gp2)\.  | 16 June 2014 | 

  298  | AWS Management Pack |  | The AWS Management Pack links Amazon EC2 instances and the Windows or Linux operating systems running inside them\. The AWS Management Pack is an extension to Microsoft System Center Operations Manager\. For more information, see [AWS Management Pack for Microsoft System Center](AWSManagementPack.md)\. | 8 May 2013 | 
  299: |  New **Tags** page  |  |  There is a new **Tags** page in the Amazon EC2 console\. For more information, see [Tag your Amazon EC2 resources](Using_Tags.md)\.  | 04 April 2013 | 
  300  |  Additional EBS\-optimized instance types  |  2013\-02\-01  |  The following instance types can now be launched as EBS\-optimized instances: `c1.xlarge`, `m2.2xlarge`, `m3.xlarge`, and `m3.2xlarge`\. For more information, see [Amazon EBS–optimized instances](ebs-optimized.md)\.  | 19 March 2013 | 

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/DownloadAWSmp.md:
   8  
   9: **System Requirements**
  10  + System Center Operations Manager 2012 R2 or System Center Operations Manager 2012 SP1

  13  
  14: **Prerequisites**
  15  + Your data center must have at least one management server configured with Internet connectivity\. The management servers must have the Microsoft \.NET Framework version 4\.5 or later and PowerShell 2\.0 or later installed\.

  17  
  18: **To download the AWS Management Pack**
  19  
  20: 1. On the [AWS Add\-Ins for Microsoft System Center](https://aws.amazon.com/windows/system-center/) website, click **SCOM 2012**\.
  21  

  29  
  30: **System Requirements**
  31  + System Center Operations Manager 2007 R2

  33  
  34: **Prerequisites**
  35: + Your data center must have an agent\-managed computer with Internet connectivity that you designate as the watcher node\. The watcher node must have the following Agent Proxy option enabled: **Allow this agent to act as a proxy and discover managed objects on other computers**\. The watcher node must have the Microsoft \.NET Framework version 3\.5\.1 or later and PowerShell 2\.0 or later installed\.
  36  + The action account for the watcher node must have local administrator privileges on the watcher node\.

  38  
  39: **To download the AWS Management Pack**
  40  
  41: 1. On the [AWS Add\-Ins for Microsoft System Center](https://aws.amazon.com/windows/system-center/) website, click **SCOM 2007**\.
  42  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-accessing-snapshot.md:
   8  
   9: **Topics**
  10  + [Understand the EBS direct APIs](#ebsapi-elements)

  25  
  26: **Note**  
  27  Public snapshots are not supported by the EBS direct APIs\.

  51  The EBS direct APIs consists of six actions\. There are three read actions and three write actions\. The read actions are: 
  52: + **ListSnapshotBlocks** — returns the block indexes and block tokens of blocks in the specified snapshot
  53: + **ListChangedBlocks** — returns the block indexes and block tokens of blocks that are different between two specified snapshots of the same volume and snapshot lineage\.
  54: + **GetSnapshotBlock** — returns the data in a block for the specified snapshot ID, block index, and block token\.
  55  
  56  The write actions are:
  57: + **StartSnapshot** — starts a snapshot, either as an incremental snapshot of an existing one or as a new snapshot\. The started snapshot remains in a pending state until it is completed using the CompleteSnapshot action\.
  58: + **PutSnapshotBlock** — adds data to a started snapshot in the form of individual blocks\. You must specify a Base64\-encoded SHA256 checksum for the block of data transmitted\. The service validates the checksum after the transmission is completed\. The request fails if the checksum computed by the service doesn’t match what you specified\.
  59: + **CompleteSnapshot** — completes a started snapshot that is in a pending state\. The snapshot is then changed to a completed state\.
  60  

  62  
  63: **Topics**
  64  + [Pricing for APIs](#api-pricing)

  69  The price that you pay to use the EBS direct APIs depends on the requests you make\. For more information, see [Amazon EBS pricing](http://aws.amazon.com/ebs/pricing/)\.
  70: + **ListChangedBlocks** and ListSnapshotBlocks APIs are charged per request\. For example, if you make 100,000 ListSnapshotBlocks API requests in a Region that charges $0\.0006 per 1,000 requests, you will be charged $0\.06 \($0\.0006 per 1,000 requests x 100\)\.
  71: + **GetSnapshotBlock** is charged per block returned\. For example, if you make 100,000 GetSnapshotBlock API requests in a Region that charges $0\.003 per 1,000 blocks returned, you will be charged $0\.30 \($0\.003 per 1,000 blocks retruned x 100\)\.
  72: + **PutSnapshotBlock** is charged per block written\. For example, if you make 100,000 PutSnapshotBlock API requests in a Region that charges $0\.006 per 1,000 blocks written, you will be charged $0\.60 \($0\.006 per 1,000 blocks written x 100\)\.
  73  

  75  
  76: **Data transfer costs**  
  77  Data transferred directly between EBS direct APIs and Amazon EC2 instances in the same AWS Region is free when using [ non\-FIPS endpoints](https://docs.aws.amazon.com/general/latest/gr/ebs-service.html#ebs_direct_apis)\. For more information, see [AWS service endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html)\. If other AWS services are in the path of your data transfer, you will be charged their associated data processing costs\. These services include, but are not limited to, PrivateLink endpoints, NAT Gateway and Transit Gateway\.
  78  
  79: **VPC interface endpoints**  
  80  If you are using EBS direct APIs from Amazon EC2 instances or AWS Lambda functions in private subnets, you can use VPC interface endpoints, instead of using NAT gateways, to reduce network data transfer costs\. For more information, see [Using interface VPC endpoints with EBS direct APIs](ebs-apis-vpc-endpoints.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-copy-snapshot.md:
   10  
   11: **Use cases**
   12  + Geographic expansion: Launch your applications in a new AWS Region\.

   17  
   18: **Prerequisites**
   19  + You can copy any accessible snapshots that have a `completed` status, including shared snapshots and snapshots that you have created\.

   21  
   22: **Considerations**
   23  + There is a limit of `20` concurrent snapshot copy requests per destination Region\. If you exceed this quota, you receive a `ResourceLimitExceeded` error\. If you receive this error, wait for one or more of the copy requests to complete before making a new snapshot copy request\.

   27  
   28: **Pricing**
   29  + For pricing information about copying snapshots across AWS Regions and accounts, see [Amazon EBS Pricing](http://aws.amazon.com/ebs/pricing/)\.

   60  
   61: **Topics**
   62  + [Encryption outcomes: Copying snapshots that you own](#own-snapshots)

   83  
   84: **To copy a snapshot using the console**
   85  

   87  
   88: 1. In the navigation pane, choose **Snapshots**\.
   89  
   90: 1. Select the snapshot to copy, and then choose **Actions**, **Copy snapshot**\.
   91  
   92: 1. For **Description**, enter a brief description for the snapshot copy\.
   93  

   95  
   96: 1. For **Destination Region**, select the Region in which to create the snapshot copy\.
   97  

  101  
  102:    If the source snapshot is unencrypted and your account is not enabled for encryption by default, encryption is optional\. To encrypt the snapshot copy, for **Encryption**, select **Encrypt this snapshot**\. Then, for **KMS key**, select the KMS key to use to encrypt the snapshot in the destination Region\.
  103  
  104: 1. Choose **Copy snapshot**\.
  105  

  108  
  109: **To copy a snapshot using the command line**
  110  

  116  
  117: **To check for failure**  
  118  If you attempt to copy an encrypted snapshot without having permissions to use the encryption key, the operation fails silently\. The error state is not displayed in the console until you refresh the page\. You can also check the state of the snapshot from the command line, as in the following example\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-creating-snapshot.md:
   57  
   58: **To create a snapshot using the console**
   59  

   61  
   62: 1. In the navigation pane, choose **Snapshots**, **Create snapshot**\.
   63  
   64: 1. For **Resource type**, choose **Volume**\.
   65  
   66: 1. For **Volume ID**, select the volume from which to create the snapshot\.
   67  
   68:    The **Encryption** field indicates the selected volume's encryption status\. If the selected volume is encrypted, the snapshot is automatically encrypted using the same KMS key\. If the selected volume is unencrypted, the snapshot is not encrypted\.
   69  
   70: 1. \(Optional\) For **Description**, enter a brief description for the snapshot\.
   71  
   72: 1. \(Optional\) To assign custom tags to the snapshot, in the **Tags** section, choose **Add tag**, and then enter the key\-value pair\. You can add up to 50 tags\.
   73  
   74: 1. Choose **Create snapshot**\.
   75  

   78  
   79: **To create a snapshot using the command line**
   80  

   90  
   91: **Considerations**
   92  + Multi\-volume snapshots support up to 40 EBS volumes for each instance\.

   98  
   99: **To create multi\-volume snapshots using the console**
  100  

  102  
  103: 1. In the navigation pane, choose **Snapshots**, **Create snapshot**\.
  104  
  105: 1. For **Resource type**, choose **Instance**\.
  106  
  107: 1. For **Description**, enter a brief description for the snapshots\. This description is applied to all of the snapshots\.
  108  
  109: 1. \(Optional\) By default, Amazon EBS creates a snapshot of the instance's root volume\. If you do not want to create a snapshot of the instance's root volume, select **Exclude root volume**\.
  110  
  111: 1. \(Optional\) By default, Amazon EBS creates snapshots of all the data \(non\-root\) volumes attached to the instance\. If you want to create snapshots of a subset of the data \(non\-root\) volumes attached to the instance, select **Exclude specific data volumes**\. The **Attached data volumes** section lists all of the data volumes that are currently attached to the selected instance\.
  112  
  113:    In the **Attached data volumes** section, select the data volumes for which you do **not** want to create snapshots\. Only the volumes that remain unselected will be included in the multi\-volume snapshot set\. You can exclude up to 40 volumes\.
  114  
  115: 1. \(Optional\) To automatically copy tags from the source volumes to the corresponding snapshots, for **Copy tags from source volume**, select **Copy tags**\. This sets snapshot metadata—such as access policies, attachment information, and cost allocation—to match the source volume\.
  116  
  117: 1. \(Optional\) To assign additional custom tags to the snapshots, in the **Tags** section, choose **Add tag**, and then enter the key\-value pair\. You can add up to 50 tags\.
  118  
  119: 1. Choose **Create snapshot**\.
  120  

  125  
  126: **AWS CLI**  
  127  To create multi\-volume snapshots using the AWS CLI, use the [create\-snapshots](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-snapshots.html) command\.

  130  
  131: **AWS Tools for Windows PowerShell**  
  132  To create multi\-volume snapshots using the Tools for Windows PowerShell, use the [ New\-EC2SnapshotBatch](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2SnapshotBatch.html) command\.

  135  
  136: **To create application\-consistent snapshots using Systems Manager Run Command**  
  137  You can use Systems Manager Run Command to take application\-consistent snapshots of all EBS volumes attached to your Amazon EC2 Windows instances\. The snapshot process uses the Windows [Volume Shadow Copy Service \(VSS\)](https://technet.microsoft.com/en-us/library/ee923636(v=ws.10).aspx) to take image\-level backups of VSS\-aware applications, including data from pending transactions between these applications and the disk\. You don't need to shut down your instances or disconnect them when you back up all attached volumes\. For more information, see [Create a VSS application\-consistent snapshotRestore volumes from VSS\-enabled EBS snapshots](application-consistent-snapshots.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-creating-volume.md:
    6  
    7: **Note**  
    8  If you create a volume for use with a Windows instance, and it's larger than 2048 GiB \(or is a volume that's smaller than 2048 GiB but might be increased later\), ensure that you configure the volume to use GPT partition tables\. For more information, see [ Windows support for hard disks that are larger than 2 TB\.](https://docs.microsoft.com/en-us/troubleshoot/windows-server/backup-and-storage/support-for-hard-disks-exceeding-2-tb)\.

   11  
   12: **Important**  
   13  If you create an `io2` volume with a size greater than `16` TiB or with IOPS greater than `64,000` in a Region where EBS Block Express is supported, the volume automatically runs on Block Express\. `io2` Block Express volumes can be attached to supported instances only\. For more information, see [`io2` Block Express volumes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html#io2-block-express)\.
   14  
   15: **Methods of creating a volume**
   16  + Create and attach EBS volumes when you launch instances by specifying a block device mapping\. For more information, see [Launch an instance using the new launch instance wizard](ec2-launch-instance-wizard.md) and [Block device mappings](block-device-mapping-concepts.md)\.

   28  
   29: **To create an empty EBS volume using the console**
   30  

   32  
   33: 1. In the navigation pane, choose **Volumes**\.
   34  
   35: 1. Choose **Create volume**\.
   36  
   37: 1. For **Volume type**, choose the type of volume to create\. For more information, see [Amazon EBS volume types](ebs-volume-types.md)\.
   38  
   39: 1. For **Size**, enter the size of the volume, in GiB\. For more information, see [Constraints on the size and configuration of an EBS volume](volume_constraints.md)\.
   40  
   41: 1. \(`io1`, `io2`, and `gp3` only\) For **IOPS**, enter the maximum number of input/output operations per second \(IOPS\) that the volume should provide\. 
   42  
   43: 1. \(`gp3` only\) For **Throughput**, enter the throughput that the volume should provide, in MiB/s\.
   44  
   45: 1. For **Availability Zone**, choose the Availability Zone in which to create the volume\. A volume can be attached only to an instance that is in the same Availability Zone\.
   46  
   47: 1. For **Snapshot ID**, keep the default value \(**Don't create volume from a snapshot**\)\.
   48  

   52  
   53:    If your account is not enabled for encryption by default, encryption is optional\. To encrypt the volume, for **Encryption**, choose **Encrypt this volume** and then select the KMS key to use to encrypt the volume\.
   54: **Note**  
   55  Encrypted volumes can be attached only to instances that support Amazon EBS encryption\. For more information, see [Amazon EBS encryption](EBSEncryption.md)\.
   56  
   57: 1. \(Optional\) To assign custom tags to the volume, in the **Tags** section, choose **Add tag**, and then enter a tag key and value pair\. For more information, see [Tag your Amazon EC2 resources](Using_Tags.md)\.
   58  
   59: 1. Choose **Create volume**\.
   60: **Note**  
   61: The volume is ready for use when the **Volume state** is **available**\.
   62  

   67  
   68: **To create an empty EBS volume using the command line**
   69  

   88  
   89: **To create an EBS volume from a snapshot using the console**
   90  

   92  
   93: 1. In the navigation pane, choose **Volumes**\.
   94  
   95: 1. Choose **Create volume**\.
   96  
   97: 1. For **Volume type**, choose the type of volume to create\. For more information, see [Amazon EBS volume types](ebs-volume-types.md)\.
   98  
   99: 1. For **Size**, enter the size of the volume, in GiB\. For more information, see [Constraints on the size and configuration of an EBS volume](volume_constraints.md)\.
  100  
  101: 1. \(`io1`, `io2`, and `gp3` only\) For **IOPS**, enter the maximum number of input/output operations per second \(IOPS\) that the volume should provide\. 
  102  
  103: 1. \(`gp3` only\) For **Throughput**, enter the throughput that the volume should provide, in MiB/s\.
  104  
  105: 1. For **Availability Zone**, choose the Availability Zone in which to create the volume\. A volume can be attached only to instances that are in the same Availability Zone\.
  106  
  107: 1. For **Snapshot ID**, select the snapshot from which to create the volume\.
  108  

  112  
  113:    If the selected snapshot is unencrypted and your account is not enabled for encryption by default, encryption is optional\. To encrypt the volume, for **Encryption**, choose **Encrypt this volume** and then select the KMS key to use to encrypt the volume\.
  114: **Note**  
  115  Encrypted volumes can be attached only to instances that support Amazon EBS encryption\. For more information, see [Amazon EBS encryption](EBSEncryption.md)\.
  116  
  117: 1. \(Optional\) To assign custom tags to the volume, in the **Tags** section, choose **Add tag**, and then enter a tag key and value pair\. For more information, see [Tag your Amazon EC2 resources](Using_Tags.md)\.
  118  
  119: 1. Choose **Create Volume**\.
  120: **Note**  
  121: The volume is ready for use when the **Volume state** is **available**\.
  122  

  127  
  128: **To create an EBS volume from a snapshot using the command line**
  129  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-deleting-snapshot.md:
  19  
  20: **Deleting a snapshot with some of its data referenced by another snapshot**
  21  

  39  
  40: **To delete a snapshot using the console**
  41  

  43  
  44: 1. In the navigation pane, choose **Snapshots**\.
  45  
  46: 1. Select the snapshot to delete, and then choose **Actions**, **Delete snapshot**\.
  47  
  48: 1. Choose **Delete**\.
  49  

  52  
  53: **To delete a snapshot using the command line**
  54  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-deleting-volume.md:
   4  
   5: **Note**  
   6  You can't delete a volume if it's attached to an instance\. To delete a volume, you must first detach it\. For more information, see [Detach an Amazon EBS volume from a Windows instance](ebs-detaching-volume.md)\.  
   7: You can check if a volume is attached to an instance\. In the console, on the **Volumes** page, you can view the state of your volumes\.  
   8  If a volume is attached to an instance, it’s in the `in-use` state\.

  15  
  16: **To delete an EBS volume using the console**
  17  

  19  
  20: 1. In the navigation pane, choose **Volumes**\. 
  21  
  22: 1. Select the volume to delete and choose **Actions**, **Delete volume**\.
  23: **Note**  
  24: If **Delete volume** is greyed out, the volume is attached to an instance\. You must detach the volume from the instance before it can be deleted\.
  25  
  26: 1. In the confirmation dialog box, choose **Delete**\.
  27  

  30  
  31: **To delete an EBS volume using the command line**
  32  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-fast-snapshot-restore.md:
   12  
   13: **Topics**
   14  + [Considerations](#fsr-considerations)

   46  
   47: **For example**, if you enable fast snapshot restore for a snapshot with a size of `128 GiB`, the fill rate is `0.1333` credits per minute\.
   48  

   72  
   73: **Topics**
   74  + [Enable or disable fast snapshot restore](#manage-fsr-enable)

   81  
   82: **Note**  
   83  When you enable fast snapshot restore for a snapshot, your account is billed for each minute that fast snapshot restore is enabled in a particular Availability Zone\. Charges are pro\-rated and have a minimum of one hour\.

   93  
   94: **To enable or disable fast snapshot restore**
   95  

   97  
   98: 1. In the navigation pane, choose **Snapshots**\.
   99  
  100: 1. Select the snapshot, and choose **Actions**, **Manage fast snapshot restore**\.
  101  
  102: 1. The **Fast snapshot restore settings** section lists all of the Availability Zones, Local Zones, and Wavelength Zones in which you can enable fast snapshot restore for the selected snapshot\. The **Current status** volume indicates whether fast snapshot restore is current enabled or disabled for each zone\.
  103  
  104:    To enable fast snapshot restore in a zone where it is currently disabled, select the zone, choose **Enable**, and then to confirm, choose **Enable**\.
  105  
  106:    To disable fast snapshot restore in a zone where it is currently enabled, select the zone, and then choose **Disable**\.
  107  
  108: 1. After you have made the required changes, choose **Close**\.
  109  

  112  
  113: **To manage fast snapshot restore using the AWS CLI**
  114  + [enable\-fast\-snapshot\-restores](https://docs.aws.amazon.com/cli/latest/reference/ec2/enable-fast-snapshot-restores.html)

  119  
  120: **Note**  
  121  After you enable fast snapshot restore for a snapshot, it enters the `optimizing` state\. Snapshots that are in the `optimizing` state provide some performance benefits when using them to restore volumes\. They start to provide the full performance benefits of fast snapshot restore only after they enter the `enabled` state\.

  136  
  137: **To view the state of fast snapshot restore using the console**
  138  

  140  
  141: 1. In the navigation pane, choose **Snapshots**\.
  142  

  144  
  145: 1. On the **Details** tab, **Fast snapshot restore**, indicates the state of fast snapshot restore\.
  146  

  149  
  150: **To view snapshots with fast snapshot restore enabled using the AWS CLI**  
  151  Use the [describe\-fast\-snapshot\-restores](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-fast-snapshot-restores.html) command to describe the snapshots that are enabled for fast snapshot restore\.

  232  
  233: For example, if you enable fast snapshot restore for one snapshot in `US-East-1a` for one month \(30 days\), you are billed **$540** \(`1` snapshot x `1` AZ x `720` hours x `$0.75` per hour\)\. If you enable fast snapshot restore for two snapshots in `us-east-1a`, `us-east-1b`, and `us-east-1c` for the same period, you are billed **$3240** \(`2` snapshots x `3` AZs x `720` hours x `$0.75` per hour\)\.
  234  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebs-modifying-snapshot-permissions.md:
    4  
    5: **Important**  
    6  When you share a snapshot, you are giving others access to all of the data on the snapshot\. Share snapshots only with people that you trust with *all* of your snapshot data\.
    7  
    8: **Topics**
    9  + [Before you share a snapshot](#share-snapshot-considerations)

   30  
   31: **To share a snapshot**
   32  

   34  
   35: 1. In the navigation pane, choose **Snapshots**\.
   36  
   37: 1. Select the snapshot to share, and then choose **Actions**, **Modify permissions**\.
   38  
   39  1. Specify the snapshot's permissions\. *Current setting* indicates the snapshot's current sharing permissions\.
   40:    + To share the snapshot publicly with all AWS accounts, choose **Public**\.
   41:    + To share the snapshot privately with specific AWS accounts, choose **Private**\. Then, in the **Sharing accounts** section, choose **Add account**, and enter the 12\-digit account ID \(without hyphens\) of the account to share with\.
   42  
   43: 1. Choose **Save changes**\.
   44  

   49  
   50: **To share a snapshot publicly**
   51  

   67  
   68: **To share a snapshot privately**
   69  

  100  
  101: **To share customer managed key using the AWS KMS console**
  102  

  106  
  107: 1. Choose **Customer managed keys** in the navigation pane\.
  108  
  109: 1. In the **Alias** column, choose the alias \(text link\) of the customer managed key that you used to encrypt the snapshot\. The key details open in a new page\.
  110  
  111: 1. In the **Key policy** section, you see either the *policy view* or the *default view*\. The policy view displays the key policy document\. The default view displays sections for **Key administrators**, **Key deletion**, **Key Use**, and **Other AWS accounts**\. The default view displays if you created the policy in the console and have not customized it\. If the default view is not available, you'll need to manually edit the policy in the policy view\. For more information, see [Viewing a Key Policy \(Console\)](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-viewing.html#key-policy-viewing-console) in the *AWS Key Management Service Developer Guide*\.
  112  
  113     Use either the policy view or the default view, depending on which view you can access, to add one or more AWS account IDs to the policy, as follows:
  114:    + \(Policy view\) Choose **Edit**\. Add one or more AWS account IDs to the following statements: `"Allow use of the key"` and `"Allow attachment of persistent resources"`\. Choose **Save changes**\. In the following example, the AWS account ID `444455556666` is added to the policy\.
  115  

  148       ```
  149:    + \(Default view\) Scroll down to **Other AWS accounts**\. Choose **Add other AWS accounts** and enter the AWS account ID as prompted\. To add another account, choose **Add another AWS account** and enter the AWS account ID\. When you have added all AWS accounts, choose **Save changes**\.
  150  

  157  
  158: **To view shared snapshots using the console**
  159  

  161  
  162: 1. In the navigation pane, choose **Snapshots**\.
  163  
  164  1. Filter the listed snapshots\. In the top\-left corner of the screen, choose one of the following options:
  165:    + **Private snapshots** — To view only snapshots that are shared with you privately\.
  166:    + **Public snapshots** — To view only snapshots that are shared with you publicly\.
  167  

  170  
  171: **To view snapshot permissions using the command line**
  172  

  180  
  181: **To use a shared unencrypted snapshot**  
  182  Locate the shared snapshot by ID or description\. For more information, see [View snapshots that are shared with you](#view-shared-snapshot)\. You can use this snapshot as you would any other snapshot that you own in your account\. For example, you can create a volume from the snapshot or copy it to a different Region\.
  183  
  184: **To use a shared encrypted snapshot**  
  185  Locate the shared snapshot by ID or description\. For more information, see [View snapshots that are shared with you](#view-shared-snapshot)\. Create a copy of the shared snapshot in your account, and encrypt the copy with a KMS key that you own\. You can then use the copy to create volumes or you can copy it to different Regions\.

  189  You can use AWS CloudTrail to monitor whether a snapshot that you have shared with others is copied or used to create a volume\. The following events are logged in CloudTrail:
  190: + **SharedSnapshotCopyInitiated** — A shared snapshot is being copied\.
  191: + **SharedSnapshotVolumeCreated** — A shared snapshot is being used to create a volume\.
  192  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebsapi-faq.md:
   2  
   3: **Can a snapshot be accessed using the EBS direct APIs if it has a pending status?**  
   4  No\. The snapshot can be accessed only if it has a completed status\.
   5  
   6: **Are the block indexes returned by the EBS direct APIs in numerical order?**  
   7  Yes\. The block indexes returned are unique, and in numerical order\.
   8  
   9: **Can I submit a request with a MaxResults parameter value of under 100?**  
  10  No\. The minimum MaxResult parameter value you can use is 100\. If you submit a request with a MaxResult parameter value of under 100, and there are more than 100 blocks in the snapshot, then the API will return at least 100 results\.
  11  
  12: **Can I run API requests concurrently?**  
  13  You can run API requests concurrently\. Be sure to take note of other workloads that might be running in the account to avoid bottlenecks\. You should also build retry mechanisms into your EBS direct APIs workflows to handle throttling, timeouts, and service unavailability\. For more information, see [Optimize performance](ebsapi-performance.md)\.  

  15  
  16: **When running the ListChangedBlocks action, is it possible to get an empty response even though there are blocks in the snapshot?**  
  17  Yes\. If the changed blocks are scarce in the snapshot, the response may be empty but the API will return a next page token value\. Use the next page token value to continue to the next page of results\. You can confirm that you have reached the last page of results when the API returns a next page token value of null\.
  18  
  19: **If the NextToken parameter is specified together with a StartingBlockIndex parameter, which of the two is used?**  
  20  The NextToken is used, and the StartingBlockIndex is ignored\.
  21  
  22: **How long are the block tokens and next tokens valid?**  
  23  Block tokens are valid for seven days, and next tokens are valid for 60 minutes\.
  24  
  25: **Are encrypted snapshots supported?**  
  26  Yes\. Encrypted snapshots can be accessed using the EBS direct APIs\.  

  28  
  29: **Are public snapshots supported?**  
  30  Public snapshots are not supported\.
  31  
  32: **Does list snapshot block return all block indexes and block tokens in a snapshot, or only those that have data written to them?**  
  33  It returns only block indexes and tokens that have data written to them\.
  34  
  35: **Can I get a history of the API calls made by the EBS direct APIs on my account for security analysis and operational troubleshooting purposes?**  
  36  Yes\. To receive a history of EBS direct APIs API calls made on your account, turn on AWS CloudTrail in the AWS Management Console\. For more information, see [Log API Calls for EBS direct APIs with AWS CloudTrail](logging-ebs-apis-using-cloudtrail.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ebsapis-using-checksums.md:
  3  The GetSnapshotBlock action returns data that is in a block of a snapshot, and the PutSnapshotBlock action adds data to a block in a snapshot\. The block data that is transmitted is not signed as part of the Signature Version 4 signing process\. As a result, checksums are used to validate the integrity of the data as follows:
  4: + When you use the GetSnapshotBlock action, the response provides a Base64\-encoded SHA256 checksum for the block data using the **x\-amz\-Checksum** header, and the checksum algorithm using the **x\-amz\-Checksum\-Algorithm** header\. Use the returned checksum to validate the integrity of the data\. If the checksum that you generate doesn't match what Amazon EBS provided, you should consider the data not valid and retry your request\.
  5: + When you use the PutSnapshotBlock action, your request must provide a Base64\-encoded SHA256 checksum for the block data using the **x\-amz\-Checksum** header, and the checksum algorithm using the **x\-amz\-Checksum\-Algorithm** header\. The checksum that you provide is validated against a checksum generated by Amazon EBS to validate the integrity of the data\. If the checksums do not correspond, the request fails\.
  6: + When you use the CompleteSnapshot action, your request can optionally provide an aggregate Base64\-encoded SHA256 checksum for the complete set of data added to the snapshot\. Provide the checksum using the **x\-amz\-Checksum** header, the checksum algorithm using the **x\-amz\-Checksum\-Algorithm** header, and the checksum aggregation method using the **x\-amz\-Checksum\-Aggregation\-Method** header\. To generate the aggregated checksum using the linear aggregation method, arrange the checksums for each written block in ascending order of their block index, concatenate them to form a single string, and then generate the checksum on the entire string using the SHA256 algorithm\. 
  7  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/EC2_Resources.md:
  8  
  9: **Topics**
  10  + [Recycle Bin](recycle-bin.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-best-practices.md:
  11  
  12: **Update Windows drivers**
  13  

  17  
  18: **Launch new instances with the latest Windows AMIs**
  19  

  23  
  24: **Test system/application performance before migration**
  25  

  29  
  30: **Update launch agents**
  31  

  37  
  38: **Security**
  39  

  42  Windows instances in AWS should adhere to the following high\-level security best practices:
  43: + **Least Access:** Grant access only to systems and locations that are trusted and expected\. This applies to all Microsoft products such as Active Directory, Microsoft business productivity servers, and infrastructure services such as Remote Desktop Services, reverse proxy servers, IIS web servers,and more\. Use AWS capabilities such as Amazon EC2 instance security groups, network access control lists \(ACLs\), and Amazon VPC public/private subnets to layer security across multiple locations in an architecture\. Within a Windows instance, customers can use Windows Firewall to further layer a defense\-in\-depth strategy within their deployment\. Install only the OS components and applications that are necessary for the system to function as designed\. Configure infrastructure services such as IIS to run under service accounts, or to use features such as application pool identities to access resources locally and remotely across your infrastructure\.
  44: + **Least Privilege:** Determine the minimum set of privileges that instances and accounts need in order to perform their functions\. Restrict these servers and users to only allow these defined permissions\. Use techniques such as Role Based Access Controls to reduce the surface area of administrative accounts, and create the most limited roles to accomplish a task\. Use OS features such as Encrypting File System \(EFS\) within NTFS to encrypt sensitive data at rest, and control application and user access to it\.
  45: + **Configuration Management:** Create a baseline server configuration that incorporates up\-to\-date security patches and host\-based protection suites that include anti\-virus, anti\-malware, intrusion detection/prevention, and file integrity monitoring\. Assess each server against the current recorded baseline to identify and flag any deviations\. Ensure each server is configured to generate and securely store appropriate log and audit data\. For more information, see [AWS Windows AMIs](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/windows-ami-version-history.html)\.
  46: + **Change Management:** Create processes to control changes to server configuration baselines and work toward fully automated change processes\. Also, leverage Just Enough Administration \(JEA\) with Windows PowerShell DSC to limit administrative access to the minimum required functions\.
  47: + **Patch Management:** Implement processes that regularly patch, update, and secure the operating system and applications on your EC2 instances\. For more information, see [Update your Windows instance](aws-windows-ami.md#update-windows-instance)\.
  48: + **Audit Logs:** Audit access and all changes to Amazon EC2 instances to verify server integrity and ensure only authorized changes are made\. Leverage features such as [Enhanced Logging for IIS](https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-85/enhanced-logging-for-iis85) to enhance default logging capabilities\. AWS capabilities such as VPC Flow Logs and AWS CloudTrail are also available to audit network access, including allowed/denied requests and API calls, respectively\.
  49  
  50: **Storage**
  51  + Use separate Amazon EBS volumes for the operating system versus your data\. Ensure that the volume with your data persists after instance termination\. For more information, see [Preserve Amazon EBS volumes on instance termination](terminating-instances.md#preserving-volumes-on-termination)\.

  54  
  55: **Resource management**
  56  + Use instance metadata and custom resource tags to track and identify your AWS resources\. For more information, see [Instance metadata and user data](ec2-instance-metadata.md) and [Tag your Amazon EC2 resources](Using_Tags.md)\.

  59  
  60: **Backup and recovery**
  61  + Regularly back up your EBS volumes using [Amazon EBS snapshots](EBSSnapshots.md), and create an [Amazon Machine Image \(AMI\)](AMIs.md) from your instance to save the configuration as a template for launching future instances\. For more information on AWS services that help achieve this use case, see [AWS Backup](https://docs.aws.amazon.com/aws-backup/latest/devguide/whatisbackup.html) and [Amazon Data Lifecycle Manager](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/snapshot-lifecycle.html)\.

  67  
  68: **Networking**
  69  + Set the time\-to\-live \(TTL\) value for your applications to 255, for IPv4 and IPv6\. If you use a smaller value, there is a risk that the TTL will expire while application traffic is in transit, causing reachability issues for your instances\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-capacity-reservations.md:
   5  The following are some common use cases for Capacity Reservations:
   6: + **Disaster recovery** — you can reserve capacity in a different Availability Zone or Region to ensure that the capacity you need is available during a fail over event\. 
   7: + **Regulatory requirements** — you can use Capacity Reservations to satisfy regulatory requirements for high availability\. Capacity Reservations ensure that capacity is in place to meet those requirements, even if you aren't utilizing those resources\. 
   8: + **Events** — you can create Capacity Reservations before your business\-critical events to ensure that you can scale when you need to\.
   9  

  18  
  19: **Topics**
  20  + [Differences between Capacity Reservations, Reserved Instances, and Savings Plans](#capacity-reservations-differences)

  63  + For Windows with SQL Standard, Windows with SQL Server Enterprise, and Windows with SQL Server Web, you must choose the specific platform\.
  64: + For all other Windows versions, excluding BYOL which is not supported, choose the **Windows** platform\.
  65  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-classic-platform.md:
   17  
   18: Select the Region and locate **Account attributes** on the dashboard\. The following indicates that the account supports EC2\-Classic\.
   19  

   23  
   24: Select the Region and locate **Account attributes** on the dashboard\. The following indicates that the account does not support EC2\-Classic\.
   25  

   75  
   76: You can create custom security groups\. The security group name must be unique within your account for the Region\. To create a security group for use in EC2\-Classic, choose **No VPC** for the VPC\.
   77  

   95  
   96: **To allocate an Elastic IP address for use in EC2\-Classic**
   97  

   99  
  100: 1. In the navigation pane, choose **Elastic IPs**\.
  101  
  102: 1. Choose **Allocate Elastic IP address**\.
  103  
  104: 1. For **Scope**, select **EC2\-Classic**\.
  105  
  106: 1. Choose **Allocate**\.
  107  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-fleet-attribute-based-instance-type-selection.md:
    6  
    7: **Benefits**
    8  

   14  
   15: **Topics**
   16  + [How attribute\-based instance type selection works](#ec2fleet-abs-how-it-works)

   25  
   26: **Topics**
   27  + [Types of instance attributes](#ef-abs-instance-attribute-types)

   72  
   73: **To specify the price protection threshold**
   74  

   80  
   81: **Note**  
   82  When creating the EC2 Fleet, if you set `TargetCapacityUnitType` to `vcpu` or `memory-mib`, the price protection threshold is applied based on the per\-vCPU or per\-memory price instead of the per\-instance price\.

   94  
   95: **To create an EC2 Fleet with attribute\-based instance type selection \(AWS CLI\)**  
   96  Use the [create\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html) \(AWS CLI\) command to create an EC2 Fleet\. Specify the fleet configuration in a JSON file\.

  144  
  145: **Note**  
  146  When `InstanceRequirements` is included in the fleet configuration, `InstanceType` and `WeightedCapacity` must be excluded; they cannot determine the fleet configuration at the same time as instance attributes\.

  163  
  164: **Topics**
  165  + [Valid configuration: Single launch template with overrides](#ef-abs-example-config1)

  213  
  214: ****`InstanceRequirements`****  
  215  To use attribute\-based instance selection, you must include the `InstanceRequirements` structure in your fleet configuration, and specify the desired attributes for the instances in the fleet\.

  221  
  222: **`TargetCapacityUnitType`**  
  223  The `TargetCapacityUnitType` parameter specifies the unit for the target capacity\. In the example, the target capacity is `5000` and the target capacity unit type is `vcpu`, which together specify a desired target capacity of 5,000 vCPUs\. EC2 Fleet will launch enough instances so that the total number of vCPUs in the fleet is 5,000 vCPUs\.

  510  
  511: **To preview a list of instance types by specifying attributes using the AWS CLI**
  512  

  605  1. Create a JSON configuration file using the output from the previous step, and configure it as follows:
  606: **Note**  
  607  You must provide values for `ArchitectureTypes`, `VirtualizationTypes`, `VCpuCount`, and `MemoryMiB`\. You can omit the other attributes; when omitted, the default values are used\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-fleet-event-types.md:
   2  
   3: **Note**  
   4  Only fleets of type `maintain` and `request` emit events\. Fleets of type `instant` do not emit events because they submit synchronous one\-time requests, and the state of the fleet is known immediately in the response\.

  18  
  19: **Topics**
  20  + [EC2 Fleet State Change](#ec2-fleet-state-change)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-fleet-instance-weighting-walkthrough.md:
  12  
  13: **Instance types**  
  14  Example Corp has a compute\- and memory\-intensive application that performs best with at least 60 GB of memory and eight virtual CPUs \(vCPUs\)\. They want to maximize these resources for the application at the lowest possible price\. Example Corp decides that any of the following EC2 instance types would meet their needs:

  22  
  23: **Target capacity in units**  
  24  With instance weighting, target capacity can equal a number of instances \(the default\) or a combination of factors such as cores \(vCPUs\), memory \(GiBs\), and storage \(GBs\)\. By considering the base for their application \(60 GB of RAM and eight vCPUs\) as one unit, Example Corp decides that 20 times this amount would meet their needs\. So the company sets the target capacity of their EC2 Fleet request to 20\.
  25  
  26: **Instance weights**  
  27  After determining the target capacity, Example Corp calculates instance weights\. To calculate the instance weight for each instance type, they determine the units of each instance type that are required to reach the target capacity as follows:

  33  
  34: **Price per unit hour**  
  35  Example Corp uses the [On\-Demand price](https://aws.amazon.com/ec2/pricing/) per instance hour as a starting point for their price\. They could also use recent Spot prices, or a combination of the two\. To calculate the price per unit hour, they divide their starting price per instance hour by the weight\. For example:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-fleet-on-demand-backup.md:
   4  
   5: **Topics**
   6  + [Prioritize instance types for On\-Demand capacity](#ec2-fleet-on-demand-priority)

  12  
  13: **Example: Prioritize instance types**
  14  

  38  
  39: **To use Capacity Reservations with EC2 Fleet**
  40  

  44  
  45: 1. In the launch template, for **Capacity reservation**, choose either **Open** or **Target by group**\. If you choose **Target by group**, specify the Capacity Reservations resource group ID\.
  46  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-fleet-using-eventbridge.md:
   17  
   18: **Topics**
   19  + [Create an EventBridge rule to send a notification](#eventbridge-send-notification)

   27  
   28: **To create an EventBridge rule to send a notification when an EC2 Fleet state changes**
   29  

   31  
   32: 1. Choose **Create rule**\.
   33  
   34: 1. For **Define rule detail**, do the following:
   35  
   36:    1. Enter a **Name** for the rule, and, optionally, a description\.
   37  

   39  
   40:    1. For **Event bus**, choose **default**\. When an AWS service in your account generates an event, it always goes to your account's default event bus\.
   41  
   42:    1. For **Rule type**, choose **Rule with an event pattern**\.
   43  
   44:    1. Choose **Next**\.
   45  
   46: 1. For **Build event pattern**, do the following:
   47  
   48:    1. For **Event source**, choose **AWS events or EventBridge partner events**\.
   49  
   50:    1. For **Event pattern**, for this example you’ll specify the following event pattern to match the `EC2 Fleet Instance Change` event\.
   51  

   58  
   59:       To add the event pattern, you can either use a template by choosing **Event pattern form**, or specify your own pattern by choosing **Custom pattern \(JSON editor\)**, as follows:
   60  

   62  
   63:          1. Choose **Event pattern form**\.
   64  
   65:          1. For **Event source**, choose **AWS services**\.
   66  
   67:          1. For **AWS Service**, choose **EC2 Fleet**\.
   68  
   69:          1. For **Event type**, choose **EC2 Fleet Instance Change**\.
   70  
   71:          1. To customize the template, choose **Edit pattern** and make your changes to match the example event pattern\.
   72  

   74  
   75:          1. Choose **Custom pattern \(JSON editor\)**\.
   76  
   77:          1. In the **Event pattern** box, add the event pattern for this example\.
   78  
   79:    1. Choose **Next**\.
   80  
   81: 1. For **Select target\(s\)**, do the following:
   82  
   83:    1. For **Target types**, choose **AWS service**\.
   84  
   85:    1. For **Select a target**, choose **SNS topic** to send an email, text message, or mobile push notification when the event occurs\.
   86  
   87:    1. For **Topic**, choose an existing topic\. You first need to create an Amazon SNS topic using the Amazon SNS console\. For more information, see [Using Amazon SNS for application\-to\-person \(A2P\) messaging](https://docs.aws.amazon.com/sns/latest/dg/sns-user-notifications.html) in the *Amazon Simple Notification Service Developer Guide*\.
   88  
   89:    1. \(Optional\) Under **Additional settings**, you can optionally configure additional settings\. For more information, see [Creating Amazon EventBridge rules that react to events](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-create-rule.html) \(step 16\) in the *Amazon EventBridge User Guide*\.
   90  
   91:    1. Choose **Next**\.
   92  
   93: 1. \(Optional\) For **Tags**, you can optionally assign one or more tags to your rule, and then choose **Next**\.
   94  
   95: 1. For **Review and create**, do the following:
   96  

   98  
   99:    1. Choose **Create rule**\.
  100  

  108  
  109: **To create the Lambda function to use in the EventBridge rule**
  110  

  112  
  113: 1. Choose **Create function**\.
  114  
  115: 1. Enter a name for your function, configure the code, and then choose **Create function**\.
  116  

  118  
  119: **To create an EventBridge rule to trigger a Lambda function when an instance in an EC2 Fleet changes state**
  120  

  122  
  123: 1. Choose **Create rule**\.
  124  
  125: 1. For **Define rule detail**, do the following:
  126  
  127:    1. Enter a **Name** for the rule, and, optionally, a description\.
  128  

  130  
  131:    1. For **Event bus**, choose **default**\. When an AWS service in your account generates an event, it always goes to your account's default event bus\.
  132  
  133:    1. For **Rule type**, choose **Rule with an event pattern**\.
  134  
  135:    1. Choose **Next**\.
  136  
  137: 1. For **Build event pattern**, do the following:
  138  
  139:    1. For **Event source**, choose **AWS events or EventBridge partner events**\.
  140  
  141:    1. For **Event pattern**, for this example you’ll specify the following event pattern to match the `EC2 Fleet Instance Change` event and `launched` sub\-type\.
  142  

  151  
  152:       To add the event pattern, you can either use a template by choosing **Event pattern form**, or specify your own pattern by choosing **Custom pattern \(JSON editor\)**, as follows:
  153  

  155  
  156:          1. Choose **Event pattern form**\.
  157  
  158:          1. For **Event source**, choose **AWS services**\.
  159  
  160:          1. For **AWS Service**, choose **EC2 Fleet**\.
  161  
  162:          1. For **Event type**, choose **EC2 Fleet Instance Change**\.
  163  
  164:          1. Choose **Edit pattern**, and add `"detail": {"sub-type": ["launched"]` to match the example event pattern\. For proper JSON format, insert a comma \(`,`\) after the preceding square bracket \(`]`\)\.
  165  

  167  
  168:          1. Choose **Custom pattern \(JSON editor\)**\.
  169  
  170:          1. In the **Event pattern** box, add the event pattern for this example\.
  171  
  172:    1. Choose **Next**\.
  173  
  174: 1. For **Select target\(s\)**, do the following:
  175  
  176:    1. For **Target types**, choose **AWS service**\.
  177  
  178:    1. For **Select a target**, choose **SNS topic** to send an email, text message, or mobile push notification when the event occurs\.
  179  
  180:    1. For **Topic**, choose **Lambda function**, and for **Function**, choose the function that you created to respond when the event occurs\.
  181  
  182:    1. \(Optional\) Under **Additional settings**, you can optionally configure additional settings\. For more information, see [Creating Amazon EventBridge rules that react to events](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-create-rule.html) \(step 16\) in the *Amazon EventBridge User Guide*\.
  183  
  184:    1. Choose **Next**\.
  185  
  186: 1. \(Optional\) For **Tags**, you can optionally assign one or more tags to your rule, and then choose **Next**\.
  187  
  188: 1. For **Review and create**, do the following:
  189  

  191  
  192:    1. Choose **Create rule**\.
  193  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-instance-metadata.md:
   8  
   9: **Important**  
  10  Although you can only access instance metadata and user data from within the instance itself, the data is not protected by authentication or cryptographic methods\. Anyone who has direct access to the instance, and potentially any software running on the instance, can view its metadata\. Therefore, you should not store sensitive data, such as passwords or long\-lived encryption keys, as user data\.
  11  
  12: **Note**  
  13  The examples in this section use the IPv4 address of the instance metadata service: `169.254.169.254`\. If you are retrieving instance metadata for EC2 instances over the IPv6 address, ensure that you enable and use the IPv6 address instead: `fd00:ec2::254`\. The IPv6 address of the instance metadata service is compatible with IMDSv2 commands\. The IPv6 address is only accessible on [Instances built on the Nitro System](instance-types.md#ec2-nitro-instances)\.
  14  
  15: **Topics**
  16  + [Use IMDSv2](configuring-instance-metadata-service.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-instance-network-bandwidth.md:
   4  
   5: **Multi\-flow traffic**
   6  

  10  
  11: **Single\-flow traffic**  
  12  Baseline bandwidth for single\-flow \(5\-tuple\) traffic is limited to 5 Gbps when instances are not in the same [cluster placement group](placement-groups.md#placement-groups-cluster)\. To reduce latency and increase single\-flow bandwidth, try one of the following:

  24  
  25: **Base and burst network performance**
  26  

  33  
  34: **To view network performance using the AWS CLI**  
  35  You can use the [describe\-instance\-types](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-types.html) AWS CLI command to display information about an instance type\. The following example displays network performance information for all C5 instances\.

  59  
  60: **Learn more**
  61  + [Instance metrics](viewing_metrics_with_cloudwatch.md#ec2-cloudwatch-metrics)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-instance-reboot.md:
  22  
  23: **To reboot an instance using the console**
  24  

  26  
  27: 1. In the navigation pane, choose **Instances**\.
  28  
  29: 1. Select the instance and choose **Instance state**, **Reboot instance**\.
  30  
  31:    Alternatively, select the instance and choose **Actions**, **Manage instance state**\. In the screen that opens, choose **Reboot**, and then **Change state**\.
  32  
  33: 1. Choose **Reboot** when prompted for confirmation\.
  34  

  39  
  40: **To reboot an instance**
  41  

  47  
  48: **To run a controlled fault injection experiment**  
  49  You can use AWS Fault Injection Simulator to test how your application responds when your instance is rebooted\. For more information, see the [AWS Fault Injection Simulator User Guide](https://docs.aws.amazon.com/fis/latest/userguide)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-instance-recommendations.md:
   8  
   9: **Note**  
  10  To get recommendations from Compute Optimizer, you must first opt in to Compute Optimizer\. For more information, see [Getting Started with AWS Compute Optimizer](https://docs.aws.amazon.com/compute-optimizer/latest/ug/getting-started.html) in the *AWS Compute Optimizer User Guide*\.
  11  
  12: **Topics**
  13  + [Limitations](#compute-optimizer-limitations)

  25  Compute Optimizer classifies its findings for EC2 instances as follows:
  26: + **Under\-provisioned** – An EC2 instance is considered under\-provisioned when at least one specification of your instance, such as CPU, memory, or network, does not meet the performance requirements of your workload\. Under\-provisioned EC2 instances might lead to poor application performance\. 
  27: + **Over\-provisioned** – An EC2 instance is considered over\-provisioned when at least one specification of your instance, such as CPU, memory, or network, can be sized down while still meeting the performance requirements of your workload, and when no specification is under\-provisioned\. Over\-provisioned EC2 instances might lead to unnecessary infrastructure cost\. 
  28: + **Optimized** – An EC2 instance is considered optimized when all specifications of your instance, such as CPU, memory, and network, meet the performance requirements of your workload, and the instance is not over\-provisioned\. An optimized EC2 instance runs your workloads with optimal performance and infrastructure cost\. For optimized instances, Compute Optimizer might sometimes recommend a new generation instance type\. 
  29: + **None** – There are no recommendations for this instance\. This might occur if you've been opted in to Compute Optimizer for less than 12 hours, or when the instance has been running for less than 30 hours, or when the instance type is not supported by Compute Optimizer\. For more information, see [Limitations](#compute-optimizer-limitations) in the previous section\.
  30  

  34  
  35: **To view a recommendation for an EC2 instance through the EC2 console**
  36  

  38  
  39: 1. In the navigation pane, choose **Instances**, and then choose the instance ID \.
  40  
  41: 1. On the instance summary page, in the **AWS Compute Optimizer** banner near the bottom of the page, choose **View detail**\.
  42  
  43:    The instance opens in Compute Optimizer, where it is labeled as the **Current** instance\. Up to three different instance type recommendations, labeled **Option 1**, **Option 2**, and **Option 3**, are provided\. The bottom half of the window shows recent CloudWatch metric data for the current instance: **CPU utilization**, **Memory utilization**, **Network in**, and **Network out**\. 
  44  
  45  1. \(Optional\) In the Compute Optimizer console, choose the settings icon \(![\[Settings icon.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/settings-icon.png)\) to change the visible columns in the table, or to view the public pricing information for a different purchasing option for the current and recommended instance types\.
  46: **Note**  
  47  If you’ve purchased a Reserved Instance, your On\-Demand Instance might be billed as a Reserved Instance\. Before you change your current instance type, first evaluate the impact on Reserved Instance utilization and coverage\.

  50  
  51: **To view recommendations for all EC2 instances across all Regions through the Compute Optimizer console**
  52  

  54  
  55: 1. Choose **View recommendations for all EC2 instances**\.
  56  

  58  
  59:    1. To filter recommendations to one or more AWS Regions, enter the name of the Region in the **Filter by one or more Regions** text box, or choose one or more Regions in the drop\-down list that appears\. 
  60  
  61:    1. To view recommendations for resources in another account, choose **Account**, and then select a different account ID\. 
  62  

  64  
  65:    1. To clear the selected filters, choose **Clear filters**\. 
  66  
  67:    1. To change the purchasing option that is displayed for the current and recommended instance types, choose the settings icon \(![\[Settings icon.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/settings-icon.png)\) , and then choose **On\-Demand Instances**, **Reserved Instances, standard 1\-year no upfront**, or **Reserved Instances, standard 3\-year no upfront**\. 
  68  
  69:    1. To view details, such as additional recommendations and a comparison of utilization metrics, choose the finding \(**Under\-provisioned**, **Over\-provisioned**, or **Optimized**\) listed next to the desired instance\. For more information, see [Viewing Resource Details](https://docs.aws.amazon.com/compute-optimizer/latest/ug/viewing-resource-details.html) in the *AWS Compute Optimizer User Guide*\.
  70  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-instance-recover.md:
   12  
   13: **Topics**
   14  + [Simplified automatic recovery based on instance configuration](#instance-configuration-recovery)

   27  
   28: **Topics**
   29  + [Requirements](#requirements-for-recovery)

   39  + It uses one of the following instance types:
   40:   + **General purpose:** M3 \| M4 \| M5 \| M5a \| M5n \| M5zn \| M6a \| M6i \| M6in \| T1 \| T2 \| T3 \| T3a
   41:   + **Compute optimized:** C3 \| C4 \| C5 \| C5a \| C5n \| C6a \| C6i \| C6in
   42:   + **Memory optimized:** R3 \| R4 \| R5 \| R5a \| R5b \| R5n \| R6a \| R6g \| R6in \| u\-3tb1 \| u\-6tb1 \| u\-9tb1 \| u\-12tb1 \| u\-18tb1 \| u\-24tb1 \| X1 \| X1e \| X2iezn
   43:   + **Accelerated computing:** G3 \| G3s \| P2 \| P3
   44  + It does not have instance store volumes\.

   58  
   59: **To view the instance types that support simplified automatic recovery**
   60  

   62  
   63: 1. In the left navigation pane, choose **Instance Types**\.
   64  
   65: 1. In the filter bar, enter **Auto Recovery support: true**\. Alternatively, as you enter the characters and the filter name appears, you can select it\.
   66  
   67:    The **Instance types** table displays all the instance types that support simplified automatic recovery\.
   68  

   71  
   72: **To view the instance types that support simplified automatic recovery**  
   73  Use the [describe\-instance\-types](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-types.html) command\.

   88  
   89: **To disable simplified automatic recovery during instance launch**
   90  

   92  
   93: 1. In the navigation pane, choose **Instances**, and then choose **Launch instance**\.
   94  
   95: 1. In the **Advanced details** section, for **Instance auto\-recovery**, select **Disabled**\.
   96  

   98  
   99: **To disable simplified automatic recovery for a running or stopped instance**
  100  

  102  
  103: 1. In the navigation pane, choose **Instances**\.
  104  
  105: 1. Select the instance, and then choose **Actions**, **Instance settings**, **Change auto\-recovery behavior**\.
  106  
  107: 1. Choose **Off**, and then choose **Save**\.
  108  
  109: **To set the automatic recovery behavior to `default` for a running or stopped instance**
  110  

  112  
  113: 1. In the navigation pane, choose **Instances**\.
  114  
  115: 1. Select the instance, and then choose **Actions**, **Instance settings**, **Change auto\-recovery behavior**\.
  116  
  117: 1. Choose **Default \(On\)**, and then choose **Save**\.
  118  

  121  
  122: **To disable simplified automatic recovery at launch**  
  123  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instance.html) command\.

  133  
  134: **To disable simplified automatic recovery for a running or stopped instance**  
  135  Use the [modify\-instance\-maintenance\-options](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-maintenance-options.html) command\.

  142  
  143: **To set the automatic recovery behavior to `default` for a running or stopped instance**  
  144  Use the [modify\-instance\-maintenance\-options](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-maintenance-options.html) command\.

  160  All of the instance types [supported by simplified automatic recovery](#requirements-for-recovery) are also supported by CloudWatch action based recovery\. Additionaly, Amazon CloudWatch action based recovery supports the following instance types with instance store volumes\.
  161: + **General purpose:** M3
  162: + **Compute optimized:** C3
  163: + **Memory optimized:** R3 \| X1 \| X1e \| X2idn \| X2iedn
  164  
  165: **Important**  
  166  If the instance has instance store volumes attached, the data is lost during recovery\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-instance-resize.md:
   33  
   34: **To change the instance type of an Amazon EBS\-backed instance**
   35  

   37  
   38: ⟪ 305 characters skipped ⟫address conflict when you reconfigure static IP addressing\. To prevent this, enable DHCP on the network interface for your instance before you change the instance type\. From your instance, open the **Network and Sharing Center**, open **Internet Protocol Version 4 \(TCP/IPv4\) Properties** for the network interface, and choose **Obtain an IP address automatically**\. Change the instance type and reconfigure static IP addressing on the network interface\.
   39  

   41  
   42: 1. In the navigation pane, choose **Instances**\.
   43  
   44: 1. Select the instance and choose **Instance state**, **Stop instance**\. When prompted for confirmation, choose **Stop**\. It can take a few minutes for the instance to stop\.
   45  
   46: 1. With the instance still selected, choose **Actions**, **Instance settings**, **Change instance type**\. This option is grayed out if the instance state is not `stopped`\.
   47  
   48: 1. On the **Change instance type** page, do the following:
   49  
   50:    1. For **Instance type**, select the instance type that you want\.
   51  

   53  
   54:    1. \(Optional\) If the instance type that you selected supports EBS optimization, select **EBS\-optimized** to enable EBS optimization, or deselect **EBS\-optimized** to disable EBS optimization\. If the instance type that you selected is EBS optimized by default, **EBS\-optimized** is selected and you can't deselect it\.
   55  
   56:    1. Choose **Apply** to accept the new settings\.
   57  
   58: 1. To start the instance, select the instance and choose **Instance state**, **Start instance**\. It can take a few minutes for the instance to enter the `running` state\. If your instance won't start, see [Troubleshoot changing the instance type](troubleshoot-change-instance-type.md)\.
   59  
   60  1. \[Windows Server 2016 and later\] Connect to your Windows instance and run the following EC2Launch PowerShell script to configure the instance after the instance type is changed\.
   61: **Important**  
   62  The administrator password will reset when you enable the initialize instance EC2 Launch script\. You can modify the configuration file to disable the administrator password reset by specifying it in the settings for the initialization tasks\. For steps on how to disable password reset, see [Configure initialization tasks](ec2launch.md#ec2launch-inittasks)\.

   78  
   79: **To change the instance type for a new instance configuration**
   80  

   86  
   87: 1. In the navigation pane, choose **Instances**\.
   88  
   89: 1. Choose **Launch instances**\. When you configure the instance, do the following:
   90  

  108  
  109:    1. In the navigation pane, choose **Elastic IPs**\.
  110  
  111:    1. Select the Elastic IP address that is associated with the original instance and choose **Actions**, **Disassociate Elastic IP address**\. When prompted for confirmation, choose **Disassociate**\.
  112  
  113:    1. With the Elastic IP address still selected, choose **Actions**, **Associate Elastic IP address**\.
  114  
  115:    1. For **Resource type**, choose **Instance**\. 
  116  
  117:    1. For **Instance**, choose the new instance with which to associate the Elastic IP address\.
  118  
  119:    1. \(Optional\) For **Private IP address**, specify a private IP address with which to associate the Elastic IP address\.
  120  
  121:    1. Choose **Associate**\.
  122  
  123: 1. \(Optional\) You can terminate the original instance if it's no longer needed\. Select the instance, verify that you are about to terminate the original instance and not the new instance \(for example, check the name or launch time\), and then choose **Instance state**, **Terminate instance**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-key-pairs.md:
  16  
  17: **Topics**
  18  + [Create key pairs](create-key-pairs.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-launch-instance-wizard.md:
    6  
    7: **Important**  
    8  When you launch an instance that's not within the [AWS Free Tier](https://aws.amazon.com/free/), you are charged for the time that the instance is running, even if it remains idle\.
    9  
   10: **Topics**
   11  + [About the new launch instance wizard](#about-liw)

   21  
   22: **Current improvements**
   23: + **Single page layout with summary side panel**
   24  
   25:   Quickly get up and running with our new one\-page design\. See all of your settings in one location\. No need to navigate back and forth between steps to ensure your configuration is correct\. Use the **Summary** panel for an overview and to easily navigate the page\.
   26: + **Improved AMI selector**
   27  
   28:   New users – Use the **Quick Start** Amazon Machine Image \(AMI\) selector to select an operating system so that you can quickly launch an instance\.
   29  

   31  
   32: **Work in progress**
   33  
   34  We’re working continuously to improve the experience\. Here’s what we’re currently working on:
   35: + **Defaults and dependency assistance**
   36:   + **Default values** will be provided for all fields\.
   37:   + **Additional logic** will be added to help you set up your instance configuration correctly \(for example, we’ll disable parameters that are not available with your current settings\)\.
   38: + **Further simplified designs**
   39:   + **Simplified views and summaries** and **a more responsive design** will be added to make the one\-page experience more scalable\.
   40:   + **Simplified networking** features will be added to help you to configure your firewall rules quickly and easily \(for example, we’ll select common preset rules\)\.
   41  

   43  
   44: **Please send feedback**  
   45: We’d appreciate your feedback on the new launch instance wizard\. We’ll use your feedback to continue improving the experience over the next few months\. You can send us feedback directly from the EC2 console, or use the **Provide feedback** link at the bottom of this page\.
   46  

   50  
   51: **To quickly launch an instance**
   52  

   56  
   57: 1. From the Amazon EC2 console dashboard, choose **Launch instance**\. 
   58  
   59: 1. \(Optional\) Under **Name and tags**, for **Name**, enter a descriptive name for your instance\.
   60  
   61: 1. Under **Application and OS Images \(Amazon Machine Image\)**, choose **Quick Start**, and then choose the operating system \(OS\) for your instance\.
   62  
   63: 1. Under **Key pair \(login\)**, for **Key pair name**, choose an existing key pair or create a new one\.
   64  
   65: 1. In the **Summary** panel, choose **Launch instance**\.
   66  

   70  
   71: **Topics**
   72  + [Initiate instance launch](#liw-initiate-instance-launch)

   87  
   88: 1. From the Amazon EC2 console dashboard, choose **Launch instance**\.
   89  

   91  
   92: The instance name is a tag, where the key is **Name**, and the value is the name that you specify\. You can tag the instance, volumes, elastic graphics, and network interfaces\. For Spot Instances, you can tag the Spot Instance request only\. For information about tags, see [Tag your Amazon EC2 resources](Using_Tags.md)\.
   93  
   94  Specifying an instance name and additional tags is optional\.
   95: + For **Name**, enter a descriptive name for the instance\. If you don't specify a name, the instance can be identified by its ID, which is automatically generated when you launch the instance\.
   96: + To add additional tags, choose **Add additional tags**\. Choose **Add tag**, and then enter a key and value, and select the resource type to tag\. Choose **Add tag** again for each additional tag to add\.
   97  

  101  
  102: You can find a suitable AMI as follows\. With each option for finding an AMI, you can choose **Cancel** \(at top right\) to return to the launch instance wizard without choosing an AMI\.
  103  
  104: **Search bar**  
  105: To search through all available AMIs, enter a keyword in the AMI search bar and then press **Enter**\. To select an AMI, choose **Select**\.
  106  
  107: **Recents**  
  108  The AMIs that you've recently used\.  
  109: Choose **Recently launched** or **Currently in use**, and then, from **Amazon Machine Image \(AMI\)**, select an AMI\.
  110  
  111: **My AMIs**  
  112  The private AMIs that you own, or private AMIs that have been shared with you\.  
  113: Choose **Owned by me** or **Shared with me**, and then, from **Amazon Machine Image \(AMI\)**, select an AMI\.
  114  
  115: **Quick Start**  
  116  AMIs are grouped by operating system \(OS\) to help you get started quickly\.  
  117: First select the OS that you need, and then, from **Amazon Machine Image \(AMI\)**, select an AMI\. To select an AMI that is eligible for the free tier, make sure that the AMI is marked **Free tier eligible**\.
  118  
  119: **Browse more AMIs**  
  120: Choose **Browse more AMIs** to browse the full AMI catalog\.  
  121: + To search through all available AMIs, enter a keyword in the search bar and then press **Enter**\.
  122: + To find an AMI by using a Systems Manager parameter, choose the arrow button to the right of the search bar, and then choose **Search by Systems Manager parameter**\. For more information, see [Use a Systems Manager parameter to find an AMI](finding-an-ami.md#using-systems-manager-parameter-to-find-AMI)\.
  123: + To search by category, choose **Quickstart AMIs**, **My AMIs**, **AWS Marketplace AMIs**, or **Community AMIs**\.
  124  
  125:   The AWS Marketplace is an online store where you can buy software that runs on AWS, including AMIs\. For more information about launching an instance from the AWS Marketplace, see [Launch an AWS Marketplace instance](launch-marketplace-console.md)\. In **Community AMIs**, you can find AMIs that AWS community members have made available for others to use\. AMIs from Amazon or a verified partner are marked **Verified provider**\.
  126: + To filter the list of AMIs, select one or more check boxes under **Refine results** on the left of the screen\. The filter options are different depending on the selected search category\.
  127: + Check the **Virtualization** type listed for each AMI\. Notice which AMIs are the type that you need: either **hvm** or **paravirtual**\. For example, some instance types require HVM\. 
  128: + Check the **Boot mode** listed for each AMI\. Notice which AMIs use the boot mode that you need: either **legacy\-bios**, **uefi**, or **uefi\-preferred**\. For more information, see [Boot modes](ami-boot.md)\.
  129: + Choose an AMI that meets your needs, and then choose **Select**\.
  130  
  131: **Warning when changing the AMI**  
  132  If you modify the configuration of any volumes or security groups associated with the selected AMI, and then you choose a different AMI, a window opens to warn you that some of your current settings will be changed or removed\. You can review the changes to the security groups and volumes\. Furthermore, you can either view which volumes will be added and deleted, or view only the volumes that will be added\.

  136  The instance type defines the hardware configuration and size of the instance\. Larger instance types have more CPU and memory\. For more information, see [Instance types](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html)\.
  137: + For **Instance type**, select the instance type for the instance\.
  138  
  139:   **Free Tier** – If your AWS account is less than 12 months old, you can use Amazon EC2 under the Free Tier by selecting the **t2\.micro** instance type \(or the **t3\.micro** instance type in Regions where **t2\.micro** is unavailable\)\. If an instance type is eligible under the Free Tier, it is labeled **Free tier eligible**\. For more information about t2\.micro and t3\.micro, see [Burstable performance instances](burstable-performance-instances.md)\.
  140: + **Compare instance types**: You can compare different instance types by the following attributes: number of vCPUs, architecture, amount of memory \(GiB\), amount of storage \(GB\), storage type, and network performance\.
  141  

  143  
  144: For **Key pair name**, choose an existing key pair, or choose **Create new key pair** to create a new one\. For more information, see [Amazon EC2 key pairs and Windows instances](ec2-key-pairs.md)\.
  145  
  146: **Important**  
  147: If you choose the **Proceed without key pair \(Not recommended\)** option, you won't be able to connect to the instance unless you choose an AMI that is configured to allow users another way to log in\.
  148  

  151  Configure the network settings, as necessary\.
  152: + **VPC**: Choose an existing VPC for your instance\. You can choose the default VPC or a VPC that you created\. For more information, see [Virtual private clouds](using-vpc.md)\.
  153: + **Subnet**: You can launch an instance in a subnet associated with an Availability Zone, Local Zone, Wavelength Zone, or Outpost\.
  154  
  155:   To launch the instance in an Availability Zone, select the subnet in which to launch your instance\. To create a new subnet, choose **Create new subnet** to go to the Amazon VPC console\. When you are done, return to the launch instance wizard and choose the Refresh icon to load your subnet in the list\.
  156  

  159    To launch an instance in an Outpost, select a subnet in a VPC that you associated with the Outpost\.
  160: + **Auto\-assign Public IP**: Specify whether your instance receives a public IPv4 address\. By default, instances in a default subnet receive a public IPv4 address, and instances in a nondefault subnet don't\. You can select **Enable** or **Disable** to override the subnet's default setting\. For more information, see [Public IPv4 addresses](using-instance-addressing.md#concepts-public-addresses)\.
  161: + **Firewall \(security groups\)**: Use a security group to define firewall rules for your instance\. These rules specify which incoming network traffic is delivered to your instance\. All other traffic is ignored\. For more information about security groups, see [Amazon EC2 security groups for Windows instances](ec2-security-groups.md)\.
  162  

  165    Select or create a security group as follows:
  166:   + To select an existing security group for your VPC, choose **Select existing security group**, and select your security group from **Common security groups**\.
  167:   + To create a new security group for your VPC, choose **Create security group**\. The launch instance wizard automatically defines the **launch\-wizard\-*x*** security group and provides the following check boxes for quickly adding security group rules:
  168  
  169:     **Allow SSH traffic from** – Creates an inbound rule to allow you to connect to your instance over RDP \(port 3389\)\. Specify whether the traffic comes from **Anywhere**, **Custom**, or **My IP**\.
  170  
  171:     **Allow HTTPs traffic from the internet** – Creates an inbound rule that opens port 443 \(HTTPS\) to allow internet traffic from anywhere\. If your instance will be a web server, you'll need this rule\.
  172  
  173:     **Allow HTTP traffic from the internet** – Creates an inbound rule that opens port 80 \(HTTP\) to allow internet traffic from anywhere\. If your instance will be a web server, you'll need this rule\.
  174  

  176  
  177:     To edit or add a rule, choose **Edit** \(at top right\)\. To add a rule, choose **Add security group rule**\. For **Type**, select the network traffic type\. The **Protocol** field is automatically filled in with the protocol to open to network traffic\. For **Source type**, select the source type\. To let the launch instance wizard add your computer's public IP address, choose **My IP**\. However, if you are connecting through an ISP or from behind your firewall without a static IP address, you need to find out the range of IP addresses used by client computers\.
  178: **Warning**  
  179  Rules that enable all IP addresses \(`0.0.0.0/0`\) to access your instance over SSH or RDP are acceptable if you are briefly launching a test instance and will stop or terminate it soon, but are unsafe for production environments\. You should authorize only a specific IP address or range of addresses to access your instance\.
  180: + **Advanced network configuration** – Available only if you choose a subnet\.
  181  
  182:   **Network interface**
  183:   + **Device index**: The index of the network card\. The primary network interface must be assigned to network card index **0**\. Some instance types support multiple network cards\.
  184:   + **Network interface**: Select **New interface** to let Amazon EC2 create a new interface, or select an existing, available network interface\.
  185:   + **Description**: \(Optional\) A description for the new network interface\.
  186:   + **Subnet**: The subnet in which to create the new network interface\. For the primary network interface \(`eth0`\), this is the subnet in which the instance is launched\. If you've entered an existing network interface for `eth0`, the instance is launched in the subnet in which the network interface is located\.
  187:   + **Security groups**: One or more security groups in your VPC with which to associate the network interface\.
  188:   + **Primary IP**: A private IPv4 address from the range of your subnet\. Leave blank to let Amazon EC2 choose a private IPv4 address for you\.
  189:   + **Secondary IP**: One or more additional private IPv4 addresses from the range of your subnet\. Choose **Manually assign** and enter an IP address\. Choose **Add IP** to add another IP address\. Alternatively, choose **Automatically assign** to let Amazon EC2 choose one for you, and enter a value to indicate the number of IP addresses to add\.
  190:   + \(IPv6\-only\) **IPv6 IPs**: An IPv6 address from the range of the subnet\. Choose **Manually assign** and enter an IP address\. Choose **Add IP** to add another IP address\. Alternatively, choose **Automatically assign** to let Amazon EC2 choose one for you, and enter a value to indicate the number of IP addresses to add\.
  191:   + **IPv4 Prefixes**: The IPv4 prefixes for the network interface\.
  192:   + **IPv6 Prefixes**: The IPv6 prefixes for the network interface\.
  193:   + **Delete on termination**: Whether the network interface is deleted when the instance is deleted\.
  194:   + **Elastic Fabric Adapter**: Indicates whether the network interface is an Elastic Fabric Adapter\. For more information, see [Elastic Fabric Adapter](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/efa.html)\.
  195  
  196:   Choose **Add network interface** to add a secondary network interface\. A secondary network interface can reside in a different subnet of the VPC, provided it's in the same Availability Zone as your instance\.
  197  
  198:   For more information, see [Elastic network interfaces](using-eni.md)\. If you specify more than one network interface, your instance cannot receive a public IPv4 address\. Additionally, if you specify an existing network interface for eth0, you cannot override the subnet's public IPv4 setting using **Auto\-assign Public IP**\. For more information, see [Assign a public IPv4 address during instance launch](using-instance-addressing.md#public-ip-addresses)\.
  199  

  203  
  204: You can use the **Simple** or **Advanced** view\. With the **Simple** view, you specify the size and type of the volume\. To specify all volume parameters, choose the **Advanced** view \(at top right of the card\)\.
  205  
  206: By using the **Advanced** view, you can configure each volume as follows:
  207: + **Storage type**: Select Amazon EBS or instance store volumes to associate with your instance\. The volume types available in the list depend on the instance type that you've chosen\. For more information, see [Amazon EC2 instance store](InstanceStorage.md) and [Amazon EBS volumes](ebs-volumes.md)\.
  208: + **Device name**: Select from the list of available device names for the volume\. 
  209: + **Snapshot**: Select the snapshot from which to restore the volume\. You can search for available shared and public snapshots by entering text into the **Snapshot** field\.
  210: + **Size \(GiB\)**: For EBS volumes, you can specify a storage size\. If you have selected an AMI and instance that are eligible for the free tier, keep in mind that to stay within the free tier, you must stay under 30 GiB of total storage\. For more information, see [Constraints on the size and configuration of an EBS volume](volume_constraints.md)\.
  211: + **Volume type**: For EBS volumes, select a volume type\. For more information, see [Amazon EBS volume types](ebs-volume-types.md)\.
  212: + **IOPS**: If you have selected a Provisioned IOPS SSD volume type, then you can enter the number of I/O operations per second \(IOPS\) that the volume can support\.
  213: + **Delete on termination**: For Amazon EBS volumes, choose **Yes** to delete the volume when the instance is terminated, or choose **No** to keep the volume\. For more information, see [Preserve Amazon EBS volumes on instance termination](terminating-instances.md#preserving-volumes-on-termination)\.
  214: + **Encrypted**: If the instance type supports EBS encryption, you can choose **Yes** to enable encryption for the volume\. If you have enabled encryption by default in this Region, encryption is enabled for you\. For more information, see [Amazon EBS encryption](EBSEncryption.md)\.
  215: + **KMS key**: If you selected **Yes** for **Encrypted**, then you must select a customer managed key to use to encrypt the volume\. If you have enabled encryption by default in this Region, the default customer managed key is selected for you\. You can select a different key or specify the ARN of any customer managed key that you created\.
  216: + **File systems**: Mount an Amazon EFS or Amazon FSx file system to the instance\. For more information about mounting an Amazon EFS file system, see [Use Amazon EFS with Amazon EC2](AmazonEFS.md)\. For more information about mounting an Amazon FSx file system, see [Use Amazon FSx with Amazon EC2](storage_fsx.md)
  217  

  219  
  220: For **Advanced details**, expand the section to view the fields and specify any additional parameters for the instance\.
  221: + **Purchasing option**: Choose **Request Spot Instances** to request Spot Instances at the Spot price, capped at the On\-Demand price, and choose **Customize** to change the default Spot Instance settings\. You can set your maximum price \(not recommended\), and change the request type, request duration, and interruption behavior\. If you do not request a Spot Instance, Amazon EC2 launches an On\-Demand Instance by default\. For more information, see [Create a Spot Instance request](spot-requests.md#using-spot-instances-request)\.
  222: + **Domain join directory**: Select the AWS Directory Service directory \(domain\) to which your Windows instance is joined after launch\. If you select a domain, you must select an IAM role with the required permissions\. For more information, see [Seamlessly join a Windows EC2 instance](https://docs.aws.amazon.com/directoryservice/latest/admin-guide/launching_instance.html)\.
  223: + **IAM instance profile**: Select an AWS Identity and Access Management \(IAM\) instance profile to associate with the instance\. For more information, see [IAM roles for Amazon EC2](iam-roles-for-amazon-ec2.md)\.
  224: + **Hostname type**: Select whether the guest OS hostname of the instance will include the resource name or the IP name\. For more information, see [Amazon EC2 instance hostname types](ec2-instance-naming.md)\.
  225: + **DNS Hostname**: Determines if the DNS queries to the resource name or the IP name \(depending on what you selected for **Hostname type**\) will respond with the IPv4 address \(A record\), IPv6 address \(AAAA record\), or both\. For more information, see [Amazon EC2 instance hostname types](ec2-instance-naming.md)\.
  226: + **Shutdown behavior**: Select whether the instance should stop or terminate when shut down\. For more information, see [Change the instance initiated shutdown behavior](terminating-instances.md#Using_ChangingInstanceInitiatedShutdownBehavior)\.
  227: + **Stop \- Hibernate behavior**: To enable hibernation, choose **Enable**\. This field is available only if your instance meets the hibernation prerequisites\. For more information, see [Hibernate your On\-Demand Windows instance](Hibernate.md)\.
  228: + **Termination protection**: To prevent accidental termination, choose **Enable**\. For more information, see [Enable termination protection](terminating-instances.md#Using_ChangingDisableAPITermination)\.
  229: + **Stop protection**: To prevent accidental stopping, choose **Enable**\. For more information, see [Enable stop protection](Stop_Start.md#Using_StopProtection)\.
  230: + **Detailed CloudWatch monitoring**: Choose **Enable** to turn on detailed monitoring of your instance using Amazon CloudWatch\. Additional charges apply\. For more information, see [Monitor your instances using CloudWatch](using-cloudwatch.md)\.
  231: + **Elastic GPU**: Select an Elastic Graphics accelerator to attach to the instance\. Not all instance types support Elastic Graphics\. For more information, see [Amazon Elastic Graphics](elastic-graphics.md)\.
  232: + **Credit specification**: Choose **Unlimited** to enable applications to burst beyond the baseline for as long as needed\. This field is only valid for **T** instances\. Additional charges may apply\. For more information, see [Burstable performance instances](burstable-performance-instances.md)\.
  233: + **Placement group name**: Specify a placement group in which to launch the instance\. You can select an existing placement group, or create a new one\. Not all instance types support launching an instance in a placement group\. For more information, see [Placement groups](placement-groups.md)\.
  234: + **EBS\-optimized instance**: An instance that's optimized for Amazon EBS uses an optimized configuration stack and provides additional, dedicated capacity for Amazon EBS I/O\. If the instance type supports this feature, choose **Enable** to enable it\. Additional charges apply\. For more information, see [Amazon EBS–optimized instances](ebs-optimized.md)\.
  235: + **Capacity Reservation**: Specify whether to launch the instance into any open Capacity Reservation \(**Open**\), a specific Capacity Reservation \(**Target by ID**\), or a Capacity Reservation group \(**Target by group**\)\. To specify that a Capacity Reservation should not be used, choose **None**\. For more information, see [Launch instances into an existing Capacity Reservation](capacity-reservations-using.md#capacity-reservations-launch)\.
  236: + **Tenancy**: Choose whether to run your instance on shared hardware \(**Shared**\), isolated, dedicated hardware \(**Dedicated**\), or on a Dedicated Host \(**Dedicated host**\)\. If you choose to launch the instance onto a Dedicated Host, you can specify whether to launch the instance into a host resource group or you can target a specific Dedicated Host\. Additional charges may apply\. For more information, see [Dedicated Instances](dedicated-instance.md) and [Dedicated Hosts](dedicated-hosts-overview.md)\.
  237: + **RAM disk ID**: \(Only valid for paravirtual \(PV\) AMIs\) Select a RAM disk for the instance\. If you have selected a kernel, you might need to select a specific RAM disk with the drivers to support it\.
  238: + **Kernel ID**: \(Only valid for paravirtual \(PV\) AMIs\) Select a kernel for the instance\.
  239: + **Nitro Enclave**: Allows you to create isolated execution environments, called enclaves, from Amazon EC2 instances\. Select **Enable** to enable the instance for AWS Nitro Enclaves\. For more information, see [What is AWS Nitro Enclaves?](https://docs.aws.amazon.com/enclaves/latest/user/nitro-enclave.html) in the *AWS Nitro Enclaves User Guide*\.
  240: + **License configurations**: You can launch instances against the specified license configuration to track your license usage\. For more information, see [Create a license configuration](https://docs.aws.amazon.com/license-manager/latest/userguide/create-license-configuration.html) in the *AWS License Manager User Guide*\.
  241: + **Metadata accessible**: You can enable or disable access to the instance metadata\. For more information, see [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)\.
  242: + **Metadata transport**: Enable the instance to reach the link local IMDSv2 IPv6 address \(`fd00:ec2::254`\) to retrieve instance metadata\. This option is only available if you are launching [Instances built on the Nitro System](instance-types.md#ec2-nitro-instances) into an [IPv6\-only subnet](https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html#subnet-basics)\. For more information about retrieving instance metadata, see [Retrieve instance metadata](instancedata-data-retrieval.md)\.
  243: + **Metadata version**: If you enable access to the instance metadata, you can choose to require the use of Instance Metadata Service Version 2 when requesting instance metadata\. For more information, see [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)\.
  244: + **Metadata response hop limit**: If you enable instance metadata, you can set the allowable number of network hops for the metadata token\. For more information, see [Configure instance metadata options for new instances](configuring-IMDS-new-instances.md)\.
  245: + **Allow tags in metadata**: If you select **Enable**, the instance will allow access to all of its tags from its metadata\. If no value is specified, then by default, access to the tags in instance metadata is not allowed\. For more information, see [Allow access to tags in instance metadata](Using_Tags.md#allow-access-to-tags-in-IMDS)\.
  246: + **User data**: You can specify user data to configure an instance during launch, or to run a configuration script\. For more information, see [Run commands on your Windows instance at launch](ec2-windows-user-data.md)\.
  247  

  249  
  250: Use the **Summary** panel to specify the number of instances to launch, to review your instance configuration, and to launch your instances\.
  251: + **Number of instances**: Enter the number of instances to launch\. All of the instances will launch with the same configuration\.
  252: **Tip**  
  253  To ensure faster instance launches, break up large requests into smaller batches\. For example, create five separate launch requests for 100 instances each instead of one launch request for 500 instances\.
  254: + \(Optional\) If you specify more than one instance, to help ensure that you maintain the correct number of instances to handle demand on your application, you can choose **consider EC2 Auto Scaling** to create a launch template and an Auto Scaling group\. Auto Scaling scales the number of instances in the group according to your specifications\. For more information, see the [Amazon EC2 Auto Scaling User Guide](https://docs.aws.amazon.com/autoscaling/ec2/userguide/)\.
  255: **Note**  
  256  If Amazon EC2 Auto Scaling marks an instance that is in an Auto Scaling group as unhealthy, the instance is automatically scheduled for replacement where it is terminated and another is launched, and you lose your data on the original instance\. An instance is marked as unhealthy if you stop or reboot the instance, or if another event marks the instance as unhealthy\. For more information, see [Health checks for Auto Scaling instances](https://docs.aws.amazon.com/autoscaling/ec2/userguide/healthcheck.html) in the *Amazon EC2 Auto Scaling User Guide*\. 
  257: + Review the details of your instance, and make any necessary changes\. You can navigate directly to a section by choosing its link in the **Summary** panel\.
  258: + When you're ready to launch your instance, choose **Launch instance**\.
  259  

  261  
  262:   \(Optional\) You can create a billing alert for the instance\. On the confirmation screen, under **Next Steps**, choose **Create billing alerts** and follow the directions\. Billing alerts can also be created after you launch the instance\. For more information, see [Creating a billing alarm to monitor your estimated AWS charges](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/monitor_estimated_charges_with_cloudwatch.html) in the *Amazon CloudWatch User Guide*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-prefix-eni.md:
   5  The following assignment options are available:
   6: + **Automatic assignment** — AWS chooses the prefix from your VPC subnet’s IPv4 or IPv6 CIDR block and assigns it to your network interface\.
   7: + **Manual Assignment** — You specify the prefix from your VPC subnet’s IPv4 or IPv6 CIDR block, and AWS verifies that the prefix is not already assigned to other resources before assigning it to your network interface\.
   8  

  14  
  15: **Topics**
  16  + [Basics for assigning prefixes](#ec2-prefix-basics)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-related-information.md:
   4  
   5: **Windows on AWS**
   6: + **[Windows on AWS](http://aws.amazon.com/windows)** – Overview of Windows on AWS workloads and services\.
   7: + **[Amazon Web Services and Microsoft: Frequently Asked Questions](http://aws.amazon.com/windows/faq)** – Frequently asked questions specific to running Microsoft software on AWS\.
   8: + **[Microsoft Licensing on AWS: Options for using Microsoft software licenses on the AWS Cloud](http://aws.amazon.com/windows/resources/licensing)** – Options for using Microsoft software licenses on the AWS Cloud\. 
   9: + **[AWS Migration Acceleration Program for Windows](http://aws.amazon.com/windows/map-for-windows)** – AWS services, best practices, and tools to help you save costs and accelerate migrations of Windows workloads to AWS\.
  10: + **[AWS Optimization and Licensing Assessment](http://aws.amazon.com/windows/optimization-and-licensing-assessment/)** – Evaluate your Windows environment to reduce costs and optimize compute\.
  11: + **[AWS Launch Wizard](https://docs.aws.amazon.com/launchwizard)** – AWS Launch Wizard guides you through the sizing, configuration, and deployment of applications on AWS following the AWS Well\-Architected Framework\.
  12: + **[Microsoft SQL Server on AWS](http://aws.amazon.com/sql)** – Overview of Microsoft SQL Server on AWS workloads and services\. 
  13: + **[EC2 Image Builder](https://docs.aws.amazon.com/imagebuilder/latest/userguide/what-is-image-builder.html)** – Automate the creation, management, and deployment of customized, secure, and up\-to\-date server images that are pre\-installed and pre\-configured with software settings to meet specific IT standards\.
  14  
  15: **Tutorials for developers**
  16: + **[Deploy a Web Application on Amazon EC2](http://aws.amazon.com/getting-started/guides/deploy-webapp-ec2/?ref=docs_id=ec2l1)** – Create an Amazon EC2 instance using AWS CDK and deploy a web application on the instance\.
  17: + **[Amazon EC2 Backup & Restore using AWS Backup](http://aws.amazon.com/getting-started/hands-on/amazon-ec2-backup-and-restore-using-aws-backup/?ref=docs_id=ec2l1)** – Create an on\-demand backup of an Amazon EC2 instance, then learn how to create a backup plan to backup Amazon EC2 instances\.
  18: + **[Break a Monolith Application into Microservices with Amazon Elastic Container Service, Docker, and Amazon EC2](http://aws.amazon.com/getting-started/hands-on/break-monolith-app-microservices-ecs-docker-ec2/?ref=docs_id=ec2l1)** – Deploy a monolithic node\.js application to a Docker container, then decouple the application into microservices without any downtime\.
  19  
  20: **AWS re:Post**  
  21: **[AWS re:Post](https://repost.aws/)** – AWS managed question and answer \(Q & A\) service offering crowd\-sourced, expert\-reviewed answers to your technical questions\.
  22  
  23: **Pricing**  
  24: **[Amazon EC2 pricing](http://aws.amazon.com/ec2/pricing)** – Pricing information for Amazon EC2\. 
  25  
  26: **General AWS resources**  
  27  The following general resources can help you as you work with AWS\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-reserved-instances.md:
   4  
   5: **Note**  
   6  Savings Plans also offer significant savings on your Amazon EC2 costs compared to On\-Demand Instance pricing\. With Savings Plans, you make a commitment to a consistent usage amount, measured in USD per hour\. This provides you with the flexibility to use the instance configurations that best meet your needs and continue to save money, instead of making a commitment to a specific instance configuration\. For more information, see the [AWS Savings Plans User Guide](https://docs.aws.amazon.com/savingsplans/latest/userguide/)\.
   7  
   8: **Topics**
   9  + [Reserved Instance overview](#ri-overview)

  36  A Reserved Instance has four instance attributes that determine its price\. 
  37: + **Instance type**: For example, `m4.large`\. This is composed of the instance family \(for example, `m4`\) and the instance size \(for example, `large`\)\.
  38: + **Region**: The Region in which the Reserved Instance is purchased\.
  39: + **Tenancy**: Whether your instance runs on shared \(default\) or single\-tenant \(dedicated\) hardware\. For more information, see [Dedicated Instances](dedicated-instance.md)\. 
  40: + **Platform**: The operating system; for example, Windows or Linux/Unix\. For more information, see [Choosing a platform](ri-market-concepts-buying.md#ri-choosing-platform)\.
  41  

  44  You can purchase a Reserved Instance for a one\-year or three\-year commitment, with the three\-year commitment offering a bigger discount\.
  45: + **One\-year**: A year is defined as 31536000 seconds \(365 days\)\. 
  46: + **Three\-year**: Three years is defined as 94608000 seconds \(1095 days\)\.
  47  

  49  
  50: **Important**  
  51  After you purchase a Reserved Instance, you cannot cancel your purchase\. However, you might be able to [modify](ri-modifying.md), [exchange](ri-convertible-exchange.md), or [sell](ri-market-general.md) your Reserved Instance if your needs change\.

  55  The following payment options are available for Reserved Instances:
  56: + **All Upfront**: Full payment is made at the start of the term, with no other costs or additional hourly charges incurred for the remainder of the term, regardless of hours used\.
  57: + **Partial Upfront**: A portion of the cost must be paid upfront and the remaining hours in the term are billed at a discounted hourly rate, regardless of whether the Reserved Instance is being used\.
  58: + **No Upfront**: You are billed a discounted hourly rate for every hour within the term, regardless of whether the Reserved Instance is being used\. No upfront payment is required\.
  59: **Note**  
  60  No Upfront Reserved Instances are based on a contractual obligation to pay monthly for the entire term of the reservation\. For this reason, a successful billing history is required before you can purchase No Upfront Reserved Instances\.

  66  If your computing needs change, you might be able to modify or exchange your Reserved Instance, depending on the offering class\.
  67: + **Standard**: These provide the most significant discount, but can only be modified\. Standard Reserved Instances can't be exchanged\.
  68: + **Convertible**: These provide a lower discount than Standard Reserved Instances, but can be exchanged for another Convertible Reserved Instance with different instance attributes\. Convertible Reserved Instances can also be modified\.
  69  

  71  
  72: **Important**  
  73  After you purchase a Reserved Instance, you cannot cancel your purchase\. However, you might be able to [modify](ri-modifying.md), [exchange](ri-convertible-exchange.md), or [sell](ri-market-general.md) your Reserved Instance if your needs change\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-resource-limits.md:
  12  
  13: **To view your current limits using the Amazon EC2 console**
  14  

  19  
  20: 1. From the navigation pane, choose **Limits**\.
  21  
  22: 1. Locate the resource in the list\. You can use the search fields to filter the list by resource name or resource group\. The **Current limit** column displays the current maximum for the resource for your account\.
  23  
  24: **To view your current limits using the Service Quotas console**
  25  

  29  
  30: 1. Use the search bar to filter the list by resource name\. For example, enter **On\-Demand** to locate the limits for On\-Demand Instances\.
  31  

  37  
  38: **To request an increase using the Amazon EC2 console**
  39  

  43  
  44: 1. From the navigation pane, choose **Limits**\.
  45  
  46: 1. Select the resource from the list and choose **Request limit increase**\.
  47  
  48: 1. Complete the required fields on the limit increase form and choose **Submit**\. We'll respond to you using the contact method that you specified\.
  49  
  50: **To request an increase using the Service Quotas console**
  51  

  57  
  58: 1. If the quota is adjustable, select the quota and choose **Request quota increase**\.
  59  
  60: 1. Enter the new quota value and choose **Request**\.
  61  

  67  
  68: **Note**  
  69  This restriction does not apply to outbound traffic sent over port 25 to:  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-scheduled-instances.md:
  4  
  5: **Important**  
  6  You cannot purchase Scheduled Reserved Instances at this time\. AWS does not have any capacity available for Scheduled Reserved Instances or any plans to make it available in the future\. To reserve capacity, use [On\-Demand Capacity Reservations](ec2-capacity-reservations.md) instead\. For discounted rates, use [Savings Plans](https://docs.aws.amazon.com/savingsplans/latest/userguide/)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-security.md:
   5  Security is a shared responsibility between AWS and you\. The [shared responsibility model](http://aws.amazon.com/compliance/shared-responsibility-model/) describes this as security of the cloud and security in the cloud:
   6: + **Security of the cloud** – AWS is responsible for protecting the infrastructure that runs AWS services in the AWS Cloud\. AWS also provides you with services that you can use securely\. Third\-party auditors regularly test and verify the effectiveness of our security as part of the [AWS Compliance Programs](http://aws.amazon.com/compliance/programs/)\. To learn about the compliance programs that apply to Amazon EC2, see [AWS Services in Scope by Compliance Program](http://aws.amazon.com/compliance/services-in-scope/)\.
   7: + **Security in the cloud** – Your responsibility includes the following areas:
   8    + Controlling network access to your instances, for example, through configuring your VPC and security groups\. For more information, see [Controlling network traffic](infrastructure-security.md#control-network-traffic)\.

  14  
  15: For security best practices for Amazon EC2 running Windows Server, see **Security and Network** under [Best practices for Windows on Amazon EC2](ec2-best-practices.md)\.
  16  
  17: **Topics**
  18  + [Infrastructure security in Amazon EC2](infrastructure-security.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-serial-console.md:
  12  
  13: **Topics**
  14  + [Configure access to the EC2 Serial Console](configure-access-to-serial-console.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-windows-ami-version-history.md:
   94  | 2020\.4\.15 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html)  | 
   95: | 2020\.3\.18 |  **Windows Server 2019 AMIs** Resolves an intermittent issue discovered in the 2020\.3\.11 release in which the Background Intelligent Transfer Service \(BITS\) may not start within the expected time after initial OS boot, potentially resulting in timeouts, BITS errors in the event log, or failures of cmdlets involving BITS invoked quickly after the initial boot\. Other Windows Server AMIs are not affected by this issue, and their latest version remains 2020\.03\.11\.  | 
   96  | 2020\.3\.11 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html)  | 
   97: | 2020\.2\.12 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) **Microsoft Windows Server 2008 SP2 and Windows Server 2008 R2 ** Windows Server 2008 SP2 and Window Server 2008 R2 reached End of Support \(EOS\) on 01/14/20 and will no longer receive regular security updates from Microsoft\. AWS will no longer publish or distribute Windows Server 2008 SP2 or Windows Server 2008 R2 AMIs\. Existing 2008 SP2/R2 instances and custom AMIs in your account are not impacted, and you can continue to use them after the EOS date\.  For more information about Microsoft End of Service on AWS, including upgrade and import options, as well as a full list of AMIs that are no longer published as of 01/14/2020, see [End of Support \(EOS\) for Microsoft Products](https://aws.amazon.com/windows/faq/#eos-microsoft-products)\.  | 
   98: | 2020\.1\.15 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) **Microsoft Windows Server 2008 SP2 and Windows Server 2008 R2 ** Windows Server 2008 SP2 and Window Server 2008 R2 reached End of Support \(EOS\) on 01/14/20 and will no longer receive regular security updates from Microsoft\. AWS will no longer publish or distribute Windows Server 2008 SP2 or Windows Server 2008 R2 AMIs\. Existing 2008 SP2/R2 instances and custom AMIs in your account are not impacted, and you can continue to use them after the EOS date\.  For more information about Microsoft End of Service on AWS, including upgrade and import options, as well as a full list of AMIs that are no longer published as of 01/14/2020, see [End of Support \(EOS\) for Microsoft Products](https://aws.amazon.com/windows/faq/#eos-microsoft-products)\.  | 
   99  

  106  | --- | --- | 
  107: | 2019\.12\.16 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) **Microsoft Windows Server 2008 SP2 and Windows Server 2008 R2 ** Microsoft will end mainstream support for Windows Server 2008 SP2 and Windows Server 2008 R2 on January 14, 2020\. On this date, AWS will no longer publish or distribute Windows Server 2008 SP2 or Windows Server 2008 R2 AMIs\. Existing 2008 SP2/R2 instances and custom AMIs in your account will not be impacted and you can continue to use them after the end\-of\-service \(EOS\) date\.  For more information about Microsoft EOS on AWS, including upgrade and import options, along with a full list of AMIS that will no longer be published or distributed on January 14, 2020, see [End of Support \(EOS\) for Microsoft Products](https://aws.amazon.com/windows/faq/#eos-microsoft-products)\.  | 
  108  | 2019\.11\.13 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) Previous versions of AMIs have been marked private\. [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html)  | 

  137  | 2018\.11\.19 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html)  | 
  138: | 2018\.10\.14 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) **Microsoft Windows Server 2016 Datacenter and Standard Editions for Nano Server ** Microsoft ended mainstream support for Windows Server 2016 Datacenter and Standard Editions for Nano Server installation options as of April 10, 2018\.  | 
  139: | 2018\.09\.15 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) **Microsoft Windows Server 2016 Base Nano** Access to all public versions of Windows\_Server\-2016\-English\-Nano\-Base will be removed in September 2018\. Additional information about Nano Server lifecycle, including details on launching Nano Server as a Container, can be found here: [https://docs.microsoft.com/en-us/windows-server/get-started/nano-in-semi-annual-channel](https://docs.microsoft.com/en-us/windows-server/get-started/nano-in-semi-annual-channel)\.  | 
  140: | 2018\.08\.15 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html) **Microsoft Windows Server 2016 Base Nano** Access to all public versions of Windows\_Server\-2016\-English\-Nano\-Base will be removed in September 2018\. Additional information about Nano Server lifecycle, including details on launching Nano Server as a Container, can be found here: [https://docs.microsoft.com/en-us/windows-server/get-started/nano-in-semi-annual-channel](https://docs.microsoft.com/en-us/windows-server/get-started/nano-in-semi-annual-channel)\.  | 
  141  | 2018\.07\.11 |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-ami-version-history.html)  | 

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-windows-instances.md:
  6  
  7: **Topics**
  8  + [Configure a Windows instance using EC2Launch v2](ec2launch-v2.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2-windows-volumes.md:
    8  
    9: **Contents**
   10  + [List NVMe volumes](#windows-list-disks-nvme)

   28  
   29: **To find the disks on your Windows instance**
   30  

  193  
  194: **To find the disks on your Windows instance**
  195  

  199  
  200:    On Windows Server 2012 and later, on the taskbar, right\-click the Windows logo, and then choose **Disk Management**\. On Windows Server 2008, choose **Start**, **Administrative Tools**, **Computer Management**, **Disk Management**\.
  201  

  206  
  207: 1. Right\-click the gray pane labeled Disk 1, and then select **Properties**\. Note the value of **Location** and look it up in the tables in [Map disk devices to device names](#windows-volume-mapping)\. For example, the following disk has the location Bus Number 0, Target Id 9, LUN 0\. According to the table for EBS volumes, the device name for this location is `xvdj`\.  
  208  ![\[The location of an EBS volume.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/disk_1_location.png)

  213  
  214: **Topics**
  215  + [Instance store volumes](#instance-store-volume-map)

  275  
  276: **Requirements and limitations**
  277  + Requires Windows Server 2012 or later\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2config-service.md:
    6  
    7: **Note**  
    8  EC2Launch replaced EC2Config on Windows AMIs for Windows Server 2016 and 2019\. For more information, see [Configure a Windows instance using EC2Launch](ec2launch.md)\. The latest launch service for all supported Windows Server versions is [EC2Launch v2](ec2launch-v2.md), which replaces both EC2Config and EC2Launch\.

   11  
   12: **Topics**
   13  + [EC2Config tasks](#UsingConfig_Ovw)

   38  + Add a custom route to the primary network adapter to enable the following IP addresses when a single NIC or multiple NICs are attached: `169.254.169.250`, `169.254.169.251`, and `169.254.169.254`\. These addresses are used by Windows Activation and when you access instance metadata\.
   39: **Note**  
   40  If the Windows OS is configured to use IPv4, these IPv4 link\-local addresses can be used\. If the Windows OS has the IPv4 network protocol stack disabled and uses IPv6 instead, add `[fd00:ec2::240]` in place of `169.254.169.250` and `169.254.169.251`\. Then add `[fd00:ec2::254]` in place of `169.254.169.254`\.

   53  
   54: **To stop the EC2Config service**
   55  

   57  
   58: 1. On the **Start** menu, point to **Administrative Tools**, and then click **Services**\.
   59  
   60: 1. In the list of services, right\-click **EC2Config**, and select **Stop**\.
   61  
   62: **To restart the EC2Config service**
   63  

   65  
   66: 1. On the **Start** menu, point to **Administrative Tools**, and then click **Services**\.
   67  
   68: 1. In the list of services, right\-click **EC2Config**, and select **Restart**\.
   69  

   71  
   72: **To delete the EC2Config service**
   73  

   81  
   82: **To uninstall EC2Config**
   83  

   85  
   86: 1. On the **Start** menu, click **Control Panel**\.
   87  
   88: 1. Double\-click **Programs and Features**\.
   89  
   90: 1. On the list of programs, select **EC2ConfigService**, and click **Uninstall** \.
   91  

  101  
  102: The EC2Config service runs Sysprep, a Microsoft tool that enables you to create a customized Windows AMI that can be reused\. When EC2Config calls Sysprep, it uses the files in `%ProgramFiles%\Amazon\EC2ConfigService\Settings` to determine which operations to perform\. You can edit these files indirectly using the **EC2 Service Properties** dialog box, or directly using an XML editor or a text editor\. However, there are some advanced settings that aren't available in the **Ec2 Service Properties** dialog box, so you must edit those entries directly\.
  103  

  107  
  108: The following procedure describes how to use the **Ec2 Service Properties** dialog box to enable or disable settings\.
  109  
  110: **To change settings using the **Ec2 Service Properties** dialog box**
  111  

  113  
  114: 1. From the **Start** menu, click **All Programs**, and then click **EC2ConfigService Settings**\.   
  115  ![\[EC2 Service Properties.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/EC2ConfigProperties_General.png)
  116  
  117: 1. On the **General** tab of the **EC2 Service Properties** dialog box, you can enable or disable the following settings\.  
  118:  **Set Computer Name**   
  119  If this setting is enabled \(it is disabled by default\), the host name is compared to the current internal IP address at each boot; if the host name and internal IP address do not match, the host name is reset to contain the internal IP address and then the system reboots to pick up the new host name\. To set your own host name, or to prevent your existing host name from being modified, do not enable this setting\.  
  120:  **User Data**   
  121  User data execution enables you to specify scripts in the instance metadata\. By default, these scripts are run during the initial launch\. You can also configure them to run the next time you reboot or start the instance, or every time you reboot or start the instance\.  

  123  For more information, see [User data execution](ec2-windows-user-data.md#user-data-execution)\.  
  124:  **Event Log**   
  125  Use this setting to display event log entries on the console during boot for easy monitoring and debugging\.  
  126: Click **Settings** to specify filters for the log entries sent to the console\. The default filter sends the three most recent error entries from the system event log to the console\.   
  127:  **Wallpaper Information**   
  128  Use this setting to display system information on the desktop background\. The following is an example of the information displayed on the desktop background\.  

  131  The information displayed on the desktop background is controlled by the settings file `EC2ConfigService\Settings\WallpaperSettings.xml`\.  
  132:  **Enable Hibernation**   
  133  Use this setting to allow EC2 to signal the operating system to perform hibernation\. 
  134  
  135: 1. Click the **Storage** tab\. You can enable or disable the following settings\.  
  136  ![\[Storage tab within EC2 Service Properties.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/EC2ConfigProperties_Storage.png)  
  137:  **Root Volume**   
  138  This setting dynamically extends Disk 0/Volume 0 to include any unpartitioned space\. This can be useful when the instance is booted from a root device volume that has a custom size\.  
  139:  **Initialize Drives**   
  140  This setting formats and mounts all volumes attached to the instance during start\.  
  141:  **Drive Letter Mapping**   
  142  The system maps the volumes attached to an instance to drive letters\. For Amazon EBS volumes, the default is to assign drive letters going from D: to Z:\. For instance store volumes, the default depends on the driver\. AWS PV drivers and Citrix PV drivers assign instance store volumes drive letters going from Z: to A:\. Red Hat drivers assign instance store volumes drive letters going from D: to Z:\.  
  143: To choose the drive letters for your volumes, click **Mappings**\. In the **DriveLetterSetting** dialog box, specify the **Volume Name** and **Drive Letter** values for each volume, click **Apply**, and then click **OK**\. We recommend that you select drive letters that avoid conflicts with drive letters that are likely to be in use, such as drive letters in the middle of the alphabet\.  
  144  

  147  
  148: 1. To save your settings and continue working on them later, click **OK** to close the **EC2 Service Properties** dialog box\. If you have finished customizing your instance and want to create an AMI from that instance, see [Create a standardized Amazon Machine Image \(AMI\) using Sysprep](Creating_EBSbacked_WinAMI.md#ami-create-standard)\.
  149  

  162  
  163: **ActivationSettings\.xml**
  164  

  173  
  174: **BundleConfig\.xml**
  175  

  182  
  183: **Config\.xml**
  184  

  209  
  210: **DriveLetterConfig\.xml**
  211  

  230  
  231: **EventLogConfig\.xml**
  232  

  239  
  240: **WallpaperSettings\.xml**
  241  

  270  
  271: **InitializeDrivesSettings\.xml**  
  272  This file contains settings that control how EC2Config initializes drives\.

  297  
  298: **Topics**
  299  + [Configure proxy settings using the AWS SDK for \.NET \(Preferred\)](#sdk-proxy)

  306  
  307: **To specify the proxy element in Ec2Config\.exe\.config**
  308  

  312  
  313:     **For EC2Config versions 3\.17 or earlier** 
  314  

  320  
  321:     **For EC2Config versions 3\.18 or later** 
  322  

  346  
  347: **To specify the system\.net element in Ec2Config\.exe\.config**
  348  

  373  
  374: **To configure proxy settings using Group Policy and Internet Explorer**
  375  
  376: 1. On an instance where you want the EC2Config service to communicate through a proxy, open a Command prompt as an Administrator, type **gpedit\.msc**, and press Enter\.
  377  
  378: 1. In the Local Group Policy Editor, under **Local Computer Policy**, choose **Computer Configuration**, **Administrative Templates**, **Windows Components**, **Internet Explorer**\.
  379  
  380: 1. In the right\-pane, choose **Make proxy settings per\-machine \(rather than per\-user\)** and then choose **Edit policy setting**\. 
  381  
  382: 1. Choose **Enabled**, and then choose **Apply**\.
  383  
  384: 1. Open Internet Explorer, and then choose the **Tools** button\.
  385  
  386: 1. Choose **Internet Option**, and then choose the **Connections** tab\.
  387  
  388: 1. Choose **LAN settings**\.
  389  
  390: 1. Under **Proxy server**, choose the **Use a proxy server for your LAN** option\.
  391  
  392: 1. Specify address and port information and then choose **OK**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2config-version-details.md:
  141  
  142: **To subscribe to EC2Config notifications**
  143  

  145  
  146: 1. In the navigation bar, change the Region to **US East \(N\. Virginia\)**, if necessary\. You must select this Region because the SNS notifications that you are subscribing to were created in this Region\.
  147  
  148: 1. In the navigation pane, choose **Subscriptions**\.
  149  
  150: 1. Choose **Create subscription**\.
  151  
  152: 1. In the **Create subscription** dialog box, do the following:
  153  
  154:    1. For **Topic ARN**, use the following Amazon Resource Name \(ARN\):
  155  

  159  
  160:    1. For **Protocol**, choose `Email`\.
  161  
  162:    1. For **Endpoint**, type an email address that you can use to receive the notifications\.
  163  
  164:    1. Choose **Create subscription**\.
  165  

  169  
  170: **To unsubscribe from EC2Config notifications**
  171  

  173  
  174: 1. In the navigation pane, choose **Subscriptions**\.
  175  
  176: 1. Select the subscription and then choose **Actions**, **Delete subscriptions** When prompted for confirmation, choose **Delete**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2launch-v2-install.md:
   4  
   5: **Download**  
   6  To install the latest version of EC2Launch v2, download the installer from the following locations:
   7  
   8: **Warning**  
   9  AmazonEC2Launch\.msi uninstalls previous versions of the EC2 launch services, such as EC2Launch \(v1\) and EC2Config\.
  10  
  11: **Note**  
  12  The 32\-bit installation link will be deprecated\. We recommend that you use the 64\-bit installation link to install EC2Launch v2\. If you require a 32\-bit launch agent, use [EC2Config](ec2config-service.md)\.
  13: + **64Bit** — [https://s3\.amazonaws\.com/amazon\-ec2launch\-v2/windows/amd64/latest/AmazonEC2Launch\.msi](https://s3.amazonaws.com/amazon-ec2launch-v2/windows/amd64/latest/AmazonEC2Launch.msi)
  14: + **32Bit** — [https://s3\.amazonaws\.com/amazon\-ec2launch\-v2/windows/386/latest/AmazonEC2Launch\.msi](https://s3.amazonaws.com/amazon-ec2launch-v2/windows/386/latest/AmazonEC2Launch.msi)
  15  
  16: **Install from AWS SSM Distributor**  
  17  You can install the `AWSEC2Launch-Agent` package from AWS SSM Distributor\. For instructions on how to install a package from SSM Distributor, see [Install or update packages](https://docs.aws.amazon.com/systems-manager/latest/userguide/distributor-working-with-packages-deploy.html) in the *AWS SSM User Guide*\.
  18  
  19: **Install as an EC2 Image Builder component**  
  20  You can install the `ec2launch-v2-windows` component when you build a custom image with EC2 Image Builder\. For instructions on how to build a custom image with EC2 Image Builder, see [Create an image pipeline using the EC2 Image Builder console wizard](https://docs.aws.amazon.com/imagebuilder/latest/userguide/start-build-image-pipeline.html) in the *EC2 Image Builder User Guide*\.
  21  
  22: **To download and install the latest version of EC2Launch v2 using PowerShell**  
  23  AmazonEC2Launch\.msi uninstalls previous versions of the EC2 launch services, such as EC2Launch \(v1\) and EC2Config\.

  30  
  31: **64Bit**
  32  

  36  
  37: **32Bit**
  38  
  39: **Note**  
  40  The 32\-bit installation link will be deprecated\. We recommend that you use the 64\-bit installation link to install EC2Launch v2\. If you require a 32\-bit launch agent, use [EC2Config](ec2config-service.md)\.

  53  
  54: **Use AMI with EC2Launch v2 preinstalled**  
  55  EC2Launch v2 is preinstalled by default on Windows Server 2022 AMIs and UEFI AMIs:

  78  
  79: **Perform a clean installation using the EC2Launch v2 user interface**  
  80: When you install EC2Launch v2, choose the **Default Configuration** option under **Basic Install**\.
  81  

  83  
  84: **Perform a clean installation using the command line**  
  85  To perform a clean installation of EC2Launch v2 using the command line, run the following Windows command:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2launch-v2-migrate.md:
   8  
   9: **Note**  
  10  The 32\-bit migration tool link will be deprecated\. We recommend that you use the 64\-bit link to migrate to EC2Launch v2\. If you require a 32\-bit launch agent, use [EC2Config](ec2config-service.md)\.
  11: + **64Bit** — [https://s3\.amazonaws\.com/amazon\-ec2launch\-v2\-utils/MigrationTool/windows/amd64/latest/EC2LaunchMigrationTool\.zip](https://s3.amazonaws.com/amazon-ec2launch-v2-utils/MigrationTool/windows/amd64/latest/EC2LaunchMigrationTool.zip)
  12: + **32Bit** — [https://s3\.amazonaws\.com/amazon\-ec2launch\-v2\-utils/MigrationTool/windows/386/latest/EC2LaunchMigrationTool\.zip](https://s3.amazonaws.com/amazon-ec2launch-v2-utils/MigrationTool/windows/386/latest/EC2LaunchMigrationTool.zip)
  13  
  14: **Note**  
  15  You must run the EC2Launch v2 migration tool as an Administrator\. EC2Launch v2 is installed as a service after you run the migration tool\. It does not run immediately\. By default, it runs during instance startup and runs if an instance is stopped and later started, or restarted\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2launch-v2-overview.md:
    4  
    5: **Note**  
    6  In order to use EC2Launch with IMDSv2, the version must be 1\.3\.2002730 or later\.
    7  
    8: **Topics**
    9  + [Compare Amazon EC2 launch services](#ec2launch-v2-agent-compare)

   37  
   38: **Task**  
   39  A task can be invoked to perform an action on an instance\. For a list of available tasks for EC2Launch v2, see [EC2Launch v2 tasks](#ec2launch-v2-tasks)\. For task configuration schema and details, see [EC2Launch v2 task configuration](ec2launch-v2-settings.md#ec2launch-v2-task-configuration)\. Tasks can be configured in the `agent-config.yml` file or through user data\.
   40  
   41: **Stage**  
   42  A stage is a logical grouping of tasks that are run by the service\. Some tasks can run only in a specific stage\. Others can run in multiple stages\. When using `agent-config.yml`, you must specify a list of stages, and a list of tasks within each stage\.

   59  
   60: **Frequency**  
   61  Task frequency determines when tasks should run, depending on the boot context\. Most tasks have only one allowed frequency\. You can specify a frequency for `executeScript` tasks\.

   69  
   70: **agent\-config**  
   71  `agent-config` is a file that is located in the configuration folder for EC2Launch v2\. It includes configuration for the boot, network, preready, and postready stages\. This file is used to specify the configuration for an instance for tasks that should run when the AMI is either booted for the first time or for subsequent times\.

   74  
   75: **User data**  
   76  User data is data that is configurable when you launch an instance\. You can update user data to dynamically change how custom AMIs or quickstart AMIs are configured\. EC2Launch v2 supports 60 kB user data input length\. User data includes only the UserData stage, and therefore runs after the `agent-config` file\. You can enter user data when you launch an instance using the launch instance wizard, or you can modify user data from the EC2 console\. For more information about working with user data, see [Run commands on your Windows instance at launch](ec2-windows-user-data.md)\.

  108  The following types of telemetry are collected by EC2Launch v2:
  109: + **Usage information** — agent commands, install method, and scheduled run frequency\.
  110: + **Errors and diagnostic information** — agent installation and run error codes\.
  111  

  124  
  125: **Telemetry visibility**  
  126  When telemetry is enabled, it appears in the Amazon EC2 console output as follows:

  131  
  132: **Disable telemetry on an instance**  
  133  To disable telemetry for a single instance, you can either set a system environment variable, or use the MSI to modify the installation\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2launch-v2-settings.md:
     4  
     5: **Topics**
     6  + [Change settings using the EC2Launch v2 settings dialog box](#ec2launch-v2-ui)

    15  The following procedure describes how to use the EC2Launch v2 settings dialog box to enable or disable settings\.
    16: **Note**  
    17  If you improperly configure custom tasks in the agent\-config\.yml file, and you attempt to open the Amazon EC2Launch settings dialog box, you will receive an error\. For example schema, see [Example: `agent-config.yml`](#ec2launch-v2-example-agent-config)\.

    20  
    21: 1. From the Start menu, choose **All Programs**, and then navigate to **EC2Launch settings**\.   
    22  ![\[EC2 Launch settings application.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/ec2launchv2-settings.png)
    23  
    24: 1. On the **General** tab of the **EC2Launch settings** dialog box, you can enable or disable the following settings\.
    25  
    26:    1. **Set Computer Name**
    27  

    29  
    30:    1. **Extend Boot Volume**
    31  

    33  
    34:    1. **Set Administrator Account**
    35  

    51  
    52:    1. **Start SSM Service**
    53  

    57  
    58:    1. **Optimize ENA**
    59  

    61  
    62:    1. **Enable SSH**
    63  

    65  
    66:    1. **Enable Jumbo Frames**
    67  

    69  
    70:    1. **Prepare for Imaging**
    71  
    72:       Select whether you want your EC2 instance to shut down with or without Sysprep\. When you want to run Sysprep with EC2Launch v2, choose **Shutdown with Sysprep**\.
    73  
    74: 1. On the **DNS Suffix** tab, you can select whether you want to add a DNS suffix list for DNS resolution of servers running in EC2, without providing the fully qualified domain name\. DNS suffixes can contain the variables `$REGION` and `$AZ`\. Only suffixes that do not already exist will be added to the list\.   
    75  ![\[EC2 Launch settings application.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/ec2launchv2-dns.png)
    76  
    77: 1. On the **Wallpaper** tab, you can configure your instance wallpaper with a background image, and specify instance details for the wallpaper to display\. Amazon EC2 generates the details each time you log in\.
    78  
    79     You can configure your wallpaper with the following controls\.
    80:    + **Display instance details on wallpaper** – This checkbox activates or deactivates instance detail display on the wallpaper\.
    81:    + **Image path \(\.jpg\)** – Specify the path to the image to use as the wallpaper background\.
    82:    + **Select attributes to display on wallpaper** – Select the check boxes for the instance details that you want to appear on the wallpaper\. Clear the check boxes for previously selected instance details that you want to remove from the wallpaper\.
    83:    + **Display Instance Tags on wallpaper** – Select one of the following settings to display instance tags on the wallpaper:
    84:      + **None** – Don't display any instance tags on the wallpaper\.
    85:      + **Show all** – Display all instance tags on the wallpaper\.
    86:      + **Show filtered** – Display specified instance tags on the wallpaper\. When you select this setting, you can add instance tags that you want to display on your wallpaper in the **Instance tag filter** box\.
    87: **Note**  
    88  You must enable tags in metadata to show tags on the wallpaper\. For more information about instance tags and metadata, see [Work with instance tags in instance metadata](Using_Tags.md#work-with-tags-in-IMDS)\.  

    90  
    91: 1. On the **Volumes** tab, select whether you want to initialize the volumes that are attached to the instance\. Enabling sets drive letters for any additional volumes and extends them to use available space\. If you select **All**, all of the storage volumes are initialized\. If you select **Devices**, only devices that are specified in the list are initialized\. You must enter the device for each device to be initialized\. Use the devices listed on the EC2 console, for example, `xvdb` or `/dev/nvme0n1`\. The dropdown list displays the storage volumes that are attached to the instance\. To enter a device that is not attached to the instance, enter it in the text field\.
    92  
    93:    **Name**, **Letter**, and **Partition** are optional fields\. If no value is specified for **Partition**, storage volumes larger than 2 TB are initialized with the GPT partition type, and those smaller than 2 TB are initialized with the MBR partition type\. If devices are configured, and a non\-NTFS device either contains a partition table, or the first 4 KB of the disk contain data, then the disk is skipped and the action logged\.   
    94  ![\[EC2 Launch settings application.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/ec2launchv2-volumes.png)

   141  
   142: **Note**  
   143  By default, Windows hides files and folders under `C:\ProgramData`\. To view EC2Launch v2 directories and files, you must either enter the path in Windows Explorer or change the folder properties to show hidden files and folders\.

   175  
   176: **Topics**
   177  + [collect\-logs](#ec2launch-v2-collect-logs)

   191  
   192: **Example**
   193  

   197  
   198: **Usage**
   199  

   201  
   202: **Flags**
   203  

   215  
   216: **Example**
   217  

   221  
   222: **Example 2**
   223  

   236  
   237: **Usage**
   238  

   240  
   241: **Flags**
   242  

   254  
   255: **Example**
   256  

   260  
   261: **Usage**
   262  

   264  
   265: **Flags**
   266  

   274  
   275: **Example**
   276  

   280  
   281: **Usage**
   282  

   284  
   285: **Flags**
   286  

   302  
   303: **Example**
   304  

   308  
   309: **Usage**
   310  

   312  
   313: **Flags**
   314  

   332  
   333: **Example:**
   334  

   338  
   339: **Usage**
   340  

   342  
   343: **Flags**
   344  

   356  
   357: **Example:**
   358  

   362  
   363: **Usage**
   364  

   366  
   367: **Flags**
   368  

   388  
   389: **Example**
   390  

   394  
   395: **Usage**
   396  

   398  
   399: **Flags**
   400  

   408  
   409: **Example**
   410  

   414  
   415: **Usage**
   416  

   418  
   419: **Flags**
   420  

   439  
   440: **\-\-allowed\-tags \[*tag\-name\-1*, *tag\-name\-n*\]**  
   441  \(Optional\) Base64 encoded JSON array of instance tag names to display on the wallpaper\. You can use this tag or the `--all-tags`, but not both\.
   442  
   443: **\-\-attributes *attribute\-string\-1*, *attribute\-string\-n***  
   444  \(Optional\) A comma\-separated list of `wallpaper` attribute strings to apply settings to the wallpaper\.
   445  
   446: **\[\-\-path \| \-p\] *path\-string***  
   447  \(Required\) Specifies the `wallpaper` background image file path\.Flags
   448  
   449: **\-\-all\-tags**  
   450  \(Optional\) Displays all of the instance tags on the wallpaper\. You can use this tag or the `--allowed-tags`, but not both\.
   451  
   452: **\[\-\-help \| \-h\]**  
   453  Displays help for the wallpaper command\.

   458  
   459: **Topics**
   460  + [Schema: `agent-config.yml`](#ec2launch-v2-schema-agent-config)

   483  
   484: **JSON**
   485  

   506  
   507: **YAML**
   508  

   524  
   525: **JSON**
   526  

   541  
   542: **YAML**
   543  

   917  
   918: **Note**  
   919  When you remove the `setWallpaper` task, it does not delete this shortcut file\. For more information, see [`setWallpaper` task is not enabled but the wallpaper resets at reboot](ec2launchv2-troubleshooting.md#ec2launchv2-troubleshooting-wallpaper-resets)\.
   920  
   921: **Stages:** You can configure wallpaper during the `PreReady`, and `UserData` stages\.
   922  
   923: **Frequency:** `always`
   924  
   925: **Wallpaper configuration**  
   926  You can use the following settings to configure your wallpaper\.
   927  
   928: **Inputs**  
   929  Input parameters that you provide, and attributes that you can set to configure your wallpaper:    
   930: **attributes \(list of strings\)**  
   931  \(Optional\) You can add one or more of the following attributes to your wallpaper:  

   940  + `publicIpAddress`  
   941: **instanceTags**  
   942  \(Optional\) You can use exactly one of the following options for this setting\.  
   943: + **AllTags** \(string\) – Add all instance tags to your wallpaper\.
   944  

   947    ```
   948: + **instanceTags** \(list of strings\) – Specify a list of instance tag names to add to your wallpaper\. For example:
   949  

   954    ```  
   955: **path \(string\)**  
   956  \(Required\) The filename path of the local \.jpg format image file to use for your wallpaper image\.
   957  
   958: **Example**  
   959  The following example shows wallpaper configuration inputs that set the file path for the wallpaper background image, along with instance tags named `Tag 1` and `Tag 2`, and attributes that include the host name, instance ID, and private and public IP addresses for the instance\.

   974  
   975: **Note**  
   976  You must enable tags in metadata to show tags on the wallpaper\. For more information about instance tags and metadata, see [Work with instance tags in instance metadata](Using_Tags.md#work-with-tags-in-IMDS)\.

  1122  
  1123: The EC2Launch v2 service runs Sysprep, a Microsoft tool that enables you to create a customized Windows AMI that can be reused\. When EC2Launch v2 calls Sysprep, it uses the files in `%ProgramData%\Amazon\EC2Launch` to determine which operations to perform\. You can edit these files indirectly using the **EC2Launch settings** dialog box, or directly using a YAML editor or a text editor\. However, there are some advanced settings that aren't available in the **EC2Launch settings** dialog box, so you must edit those entries directly\.
  1124  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2launch-v2-verify-version.md:
   6  
   7: **To verify the installed version of EC2Launch v2 with a command**
   8  

  16  
  17: **To verify the installed version of EC2Launch v2 in the Control Panel**
  18  
  19: In the list of installed programs, look for `Amazon EC2Launch`\. Its version number appears in the **Version** column\.
  20  

  22  
  23: 1. In the Control Panel, select **Programs and Features**\.
  24  
  25: 1. In the list of installed programs, look for `Amazon EC2Launch`\. Its version number appears in the **Version** column\.
  26  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2launchv2-troubleshooting.md:
    4  
    5: **Topics**
    6  + [Common scenarios](#ec2launchv2-troubleshooting-scenarios)

   13  
   14: **Topics**
   15  + [Service fails to set the wallpaper](#ec2launchv2-troubleshooting-wallpaper)

   28  
   29: **Resolution**
   30  

   36  
   37: **Possible cause**: Service may have failed before running user data\.
   38  
   39: **Resolution**
   40  

   48  
   49: **Resolution**
   50  

   58  
   59: **Resolution**
   60  

   66  
   67: **Resolution**  
   68  User data is handled differently between EC2Launch v1 and EC2Launch v2\. EC2Launch v1 runs user data as a scheduled task on the instance when `persist` is set to `true`\. If `persist` is set to `false`, the task is not scheduled even when it exits with a reboot or is interrupted while running\. 

   95  
   96: **Resolution**  
   97  The migration tool does not detect any scheduled tasks linked to EC2Launch v1 scripts; therefore, it does not automatically set up those tasks in EC2Launch v2\. To configure these tasks, edit the [`agent-config.yml`](ec2launch-v2-settings.md#ec2launch-v2-task-configuration) file, or use the [EC2Launch v2 settings dialog box](ec2launch-v2-settings.md#ec2launch-v2-ui)\. For example, if an instance has a scheduled task that runs `InitializeDisks.ps1`, then after you run the migration tool, you must specify the volumes you want to initialize in the EC2Launch v2 settings dialog box\. See Step 6 of the procedure to [Change settings using the EC2Launch v2 settings dialog box](ec2launch-v2-settings.md#ec2launch-v2-ui)\. 

  100  
  101: **Resolution**  
  102  Before it initializes a volume, EC2Launch v2 attempts to detect whether it is empty\. If a volume is not empty, it skips the initialization\. Any volumes that are detected as not empty are not initialized\. A volume is considered empty if the first 4 KiB of a volume are empty, or if a volume does not have a [Windows\-recognizable drive layout](https://docs.microsoft.com/en-us/windows/win32/api/winioctl/ns-winioctl-drive_layout_information_ex)\. A volume that was initialized and formatted on a Linux system does not have a Windows\-recognizable drive layout, for example MBR or GPT\. Therefore, it will be considered as empty and initialized\. If you want to preserve this data, do not rely on EC2Launch v2 empty drive detection\. Instead, specify volumes that you would like to initialize in the [EC2Launch v2 settings dialog box](ec2launch-v2-settings.md#ec2launch-v2-ui) \(see step 6\) or in the [`agent-config.yml`](ec2launch-v2-settings.md#ec2launch-v2-initializevolume)\.

  111  
  112: **Resolution**  
  113  Manually delete this file, or delete it using a script\.
  114  
  115: **Example PowerShell script to delete shortcut file**
  116  

  133  
  134: **Description**
  135  + Commands that run in blocking mode, such as [sysprep](ec2launch-v2-settings.md#ec2launch-v2-settings-sysprep) and [reset](ec2launch-v2-settings.md#ec2launch-v2-reset), are blocked with output similar to the following:

  147    ```
  148:   2022-02-24 08:08:58 Info: *****************************************************************************************
  149    2022-02-24 08:08:58 Info: EC2Launch Service starting

  158  
  159: **Possible cause**  
  160  SAC is enabled and using the serial port\. For more information, see [Use SAC to troubleshoot your Windows instance](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/troubleshooting-sac.html#troubleshooting-sac)\.
  161  
  162: **Resolution**  
  163  Try the following steps to resolve this issue:

  168  
  169: **Description**  
  170  EC2Launch v2 settings attempts to parse the `agent-config.yml` file before it opens the dialog box\. If the YAML configuration file does not follow the supported schema, the dialog box will show the following error:

  173  
  174: **Resolution**
  175  

  183  
  184: **Description**  
  185  A task cannot be repeated in the same stage\.
  186  
  187: **Resolution**  
  188: Some tasks must be input as an array, such as [**executeScript**](ec2launch-v2-settings.md#ec2launch-v2-executescript) and [**executeProgram**](ec2launch-v2-settings.md#ec2launch-v2-executeprogram)\. For an example of how to write the script as an array, see [**executeScript**](ec2launch-v2-settings.md#ec2launch-v2-executescript)\.
  189  

  217  
  218: **Topics**
  219  + [Event ID format](#ec2launchv2-windows-event-logs-format)

  301  
  302: **Topics**
  303  + [EC2Launch v2 console log output](#ec2launchv2-console-log-output)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2rw-cli.md:
    5  The EC2Rescue for Windows Server tool has two execution modes:
    6: + **/online**—This allows you to take action on the instance that EC2Rescue for Windows Server is installed on, such as collect log files\.
    7: + **/offline:<device\_id>**—This allows you to take action on the offline root volume that is attached to a separate Amazon EC2 Windows instance, on which you have installed EC2Rescue for Windows Server\.
    8  

   21  
   22: **Note**  
   23  You can collect all logs, an entire log group, or an individual log within a group\.
   24  
   25: EC2Rescue for Windows Server can collect the following data from **active and offline instances**\.
   26  

   43  
   44: EC2Rescue for Windows Server can collect the following additional data from **active instances**\.
   45  

   52  The following are the available options:
   53: + **/output:<outputFilePath>** ‐ Required destination file path location to save collected log files in zip format\.
   54: + **/no\-offline** ‐ Optional attribute used in offline mode\. Does not set the volume offline after completing the action\.
   55: + **/no\-fix\-signature** ‐ Optional attribute used in offline mode\. Does not fix a possible disk signature collision after completing the action\.
   56  

  110  The following are the available options:
  111: + **/level:<level>** ‐ Optional attribute for the check level that the action should trigger\. Allowed values are: `information`, `warning`, `error`, `all`\. By default, it is set to `error`\.
  112: + **/check\-only** ‐ Optional attribute that generates a report but makes no modifications to the offline volume\.
  113: + **/no\-offline** ‐ Optional attribute that prevents the volume from being set offline after completing the action\.
  114: + **/no\-fix\-signature** ‐ Optional attribute that does not fix a possible disk signature collision after completing the action\.
  115  

  154  The following are the available options:
  155: + **/no\-offline**—Optional attribute that prevents the volume from being set offline after completing the action\.
  156: + **/no\-fix\-signature**—Optional attribute that does not fix a possible disk signature collision after completing the action\.
  157  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2rw-gui.md:
   2  
   3: EC2Rescue for Windows Server can perform the following analysis on **offline instances**:
   4  

  11  
  12: EC2Rescue for Windows Server can collect the following data from **active and offline instances**:
  13  

  30  
  31: EC2Rescue for Windows Server can collect the following additional data from **active instances**:
  32  

  40  
  41: The **Offline Instance** option is useful for debugging boot issues with Windows instances\.
  42  
  43: **To perform an action on an offline instance**
  44  

  58  
  59: 1. Run the EC2Rescue for Windows Server tool on the working instance and choose **Offline Instance**\.
  60  
  61: 1. Select the disk of the newly mounted volume and choose **Next**\.
  62  
  63: 1. Confirm the disk selection and choose **Yes**\.
  64  
  65: 1. Choose the offline instance option to perform and choose **Next**\.
  66  

  72  
  73: **To collect data from an active instance**
  74  

  88  
  89: 1. Choose **Next**, **Current instance**, **Capture logs**\.
  90  
  91: 1. Select the data items to collect and choose **Collect\.\.\.**\. Read the warning and choose **Yes** to continue\.
  92  
  93: 1. Choose a file name and location for the ZIP file and choose **Save**\.
  94  
  95: 1. After EC2Rescue for Windows Server completes, choose **Open Containing Folder** to view the ZIP file\.
  96  
  97: 1. Choose **Finish**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ec2rw-ssm.md:
   10  The Systems Manager Run Command document accepts three parameters:
   11: + **Command**—The EC2Rescue for Windows Server action\. The current allowed values are:
   12:   + **ResetAccess**—Resets the local Administrator password\. The local Administrator password of the current instance will be reset and the randomly generated password will be securely stored in Parameter Store as `/EC2Rescue/Password/<INSTANCE_ID>`\. If you select this action and provide no parameters, passwords are encrypted automatically with the default KMS key\. Optionally, you can specify a KMS key ID in Parameters to encrypt the password with your own key\.
   13:   + **CollectLogs**—Runs EC2Rescue for Windows Server with the `/collect:all` action\. If you select this action, `Parameters` must include an Amazon S3 bucket name to upload the logs to\.
   14:   + **FixAll**—Runs EC2Rescue for Windows Server with the `/rescue:all` action\. If you select this action, `Parameters` must include the block device name to rescue\.
   15: + **Parameters**—The PowerShell parameters to pass for the specified command\.
   16  
   17: **Note**  
   18: In order for the **ResetAccess** action to work, your Amazon EC2 instance needs to have the following policy attached in order to write the encrypted password to Parameter Store\. Please wait a few minutes before attempting to reset the password of an instance after you have attached this policy to the related IAM role\.  
   19  Using the default KMS key:  

   66  
   67: **To view the JSON for the Systems Manager Run Command document**
   68  

   70  
   71: 1. In the navigation pane, expand **Shared Services** and choose **Documents**\.
   72  
   73: 1. In the search bar, set **Owner** as **Owned by Me or Amazon** and set the **Document name prefix** to `AWSSupport-RunEC2RescueForWindowsTool`\.
   74  
   75: 1. Select the `AWSSupport-RunEC2RescueForWindowsTool` document, choose **Contents**, and then view the JSON\.
   76  

  120  
  121: **Note**  
  122  In this example, the KMS key is `a133dc3c-a2g4-4fc6-a873-6c0720104bf0`\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/elastic-graphics-troubleshooting.md:
    4  
    5: **Contents**
    6  + [Investigate application performance issues](#elastic-graphics-troubleshooting_performance)

   32  
   33: **To show the number of frames produced**
   34  

   98  
   99: **Warning**  
  100  When you stop an instance, the data on any instance store volumes is erased\. To keep data from instance store volumes, be sure to back it up to persistent storage\.

  112  
  113: Open the Windows Event Viewer, expand the **Application and Services Logs** section, and search for errors in the following event logs:
  114  + EC2ElasticGPUs

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/elastic-graphics.md:
   6  
   7: **Topics**
   8  + [Elastic Graphics basics](#elastic-graphics-basics)

  19  
  20: **Note**  
  21  Bare metal instances are not supported\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/elastic-ip-addresses-eip.md:
    6  
    7: **Topics**
    8  + [Elastic IP address pricing](#eip-pricing)

   39  
   40: **Topics**
   41  + [Allocate an Elastic IP address](#using-instance-addressing-eips-allocating)

   59  
   60: **To allocate an Elastic IP address**
   61  

   63  
   64: 1. In the navigation pane, choose **Network & Security**, **Elastic IPs**\.
   65  
   66: 1. Choose **Allocate Elastic IP address**\.
   67  
   68: 1. For **Public IPv4 address pool**, choose one of the following:
   69:    + **Amazon's pool of IPv4 addresses**—If you want an IPv4 address to be allocated from Amazon's pool of IPv4 addresses\.
   70:    + **Public IPv4 address that you bring to your AWS account**—If you want to allocate an IPv4 address from an IP address pool that you have brought to your AWS account\. This option is disabled if you do not have any IP address pools\.
   71:    + **Customer owned pool of IPv4 addresses**—If you want to allocate an IPv4 address from a pool created from your on\-premises network for use with an AWS Outpost\. This option is disabled if you do not have an AWS Outpost\.
   72  

   74  
   75:    \[Add a tag\] Choose **Add new tag** and do the following:
   76:    + For **Key**, enter the key name\.
   77:    + For **Value**, enter the key value\.
   78  
   79:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
   80  
   81: 1. Choose **Allocate**\.
   82  

   85  
   86: **To allocate an Elastic IP address**  
   87  Use the [allocate\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/allocate-address.html) AWS CLI command\.

   91  
   92: **To allocate an Elastic IP address**  
   93  Use the [New\-EC2Address](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Address.html) AWS Tools for Windows PowerShell command\.

  103  
  104: **To describe your Elastic IP addresses**
  105  

  107  
  108: 1. In the navigation pane, choose **Elastic IPs**\.
  109  
  110: 1. Select the Elastic IP address to view and choose **Actions**, **View details**\.
  111  

  114  
  115: **To describe your Elastic IP addresses**  
  116  Use the [describe\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-addresses.html) AWS CLI command\.

  120  
  121: **To describe your Elastic IP addresses**  
  122  Use the [Get\-EC2Address](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Address.html) AWS Tools for Windows PowerShell command\.

  136  
  137: **To tag an Elastic IP address**
  138  

  140  
  141: 1. In the navigation pane, choose **Elastic IPs**\. 
  142  
  143: 1. Select the Elastic IP address to tag and choose **Actions**, **View details**\. 
  144  
  145: 1. In the **Tags** section, choose **Manage tags**\.
  146  

  148  
  149: 1. \(Optional\) Choose **Add tag** to add additional tags\.
  150  
  151: 1. Choose **Save**\.
  152  

  155  
  156: **To tag an Elastic IP address**  
  157  Use the [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) AWS CLI command\.

  165  
  166: **To tag an Elastic IP address**  
  167  Use the [New\-EC2Tag](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Tag.html) AWS Tools for Windows PowerShell command\.

  191  
  192: **To associate an Elastic IP address with an instance**
  193  

  195  
  196: 1. In the navigation pane, choose **Elastic IPs**\. 
  197  
  198: 1. Select the Elastic IP address to associate and choose **Actions**, **Associate Elastic IP address**\. 
  199  
  200: 1. For **Resource type**, choose **Instance**\.
  201  

  203  
  204: 1. \(Optional\) For **Private IP address**, specify a private IP address with which to associate the Elastic IP address\.
  205  
  206: 1. Choose **Associate**\.
  207  
  208: **To associate an Elastic IP address with a network interface**
  209  

  211  
  212: 1. In the navigation pane, choose **Elastic IPs**\. 
  213  
  214: 1. Select the Elastic IP address to associate and choose **Actions**, **Associate Elastic IP address**\. 
  215  
  216: 1. For **Resource type**, choose **Network interface**\.
  217  
  218: 1. For **Network interface**, choose the network interface with which to associate the Elastic IP address\. You can also enter text to search for a specific network interface\.
  219  
  220: 1. \(Optional\) For **Private IP address**, specify a private IP address with which to associate the Elastic IP address\.
  221  
  222: 1. Choose **Associate**\.
  223  

  226  
  227: **To associate an Elastic IP address**  
  228  Use the [associate\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/associate-address.html) AWS CLI command\.

  232  
  233: **To associate an Elastic IP address**  
  234  Use the [Register\-EC2Address](https://docs.aws.amazon.com/powershell/latest/reference/items/Register-EC2Address.html) AWS Tools for Windows PowerShell command\.

  246  
  247: **To disassociate and reassociate an Elastic IP address**
  248  

  250  
  251: 1. In the navigation pane, choose **Elastic IPs**\.
  252  
  253: 1. Select the Elastic IP address to disassociate, choose **Actions**, **Disassociate Elastic IP address**\.
  254  
  255: 1. Choose **Disassociate**\.
  256  

  259  
  260: **To disassociate an Elastic IP address**  
  261  Use the [disassociate\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/disassociate-address.html) AWS CLI command\.

  265  
  266: **To disassociate an Elastic IP address**  
  267  Use the [Unregister\-EC2Address](https://docs.aws.amazon.com/powershell/latest/reference/items/Unregister-EC2Address.html) AWS Tools for Windows PowerShell command\.

  273  This section describes how to transfer Elastic IP addresses from one AWS account to another\. Transferring Elastic IP addresses can be helpful in the following situations:
  274: + **Organizational restructuring** – Use Elastic IP address transfers to quickly move workloads from one AWS account to another\. You don't have to wait for new Elastic IP addresses to be allowlisted in your security groups and NACLs\.
  275: + **Centralized security administration** – Use a centralized AWS security account to track and transfer Elastic IP addresses that have been vetted for security compliance\.
  276: + **Disaster recovery** – Use Elastic IP address transfers to quickly remap IPs for public\-facing internet workloads during emergency events\.
  277  

  279  
  280: **Topics**
  281  + [Enable Elastic IP address transfer](#using-instance-addressing-eips-transfer-enable-ec2)

  300  
  301: **To enable Elastic IP address transfer**
  302  

  306  
  307: 1. In the navigation pane, choose **Elastic IPs**\.
  308  
  309: 1. Select one or more Elastic IP address to enable for transfer and choose **Actions**, **Enable transfer**\.
  310  
  311: 1. If you are transferring multiple Elastic IP addresses, you’ll see the **Transfer type** option\. Choose one of the following options:
  312:    + Choose **Single account** if you are transferring the Elastic IP addresses to a single AWS account\.
  313:    + Choose **Multiple accounts** if you are transferring the Elastic IP addresses to multiple AWS accounts\.
  314  
  315: 1. Under **Transfer account ID**, enter the IDs of the AWS accounts that you want to transfer the Elastic IP addresses to\.
  316  
  317: 1. Confirm the transfer by entering **enable** in the text box\.
  318  
  319: 1. Choose **Submit**\.
  320  

  325  
  326: **To enable Elastic IP address transfer**
  327  

  332  
  333: **To enable Elastic IP address transfer**
  334  

  347  
  348: **To disable an Elastic IP address transfer**
  349  

  353  
  354: 1. In the navigation pane, choose **Elastic IPs**\.
  355  
  356: 1. In the resource list of Elastic IPs, ensure that you have the property enabled that shows the column **Transfer status**\.
  357  
  358: 1. Select one or more Elastic IP address that have a **Transfer status** of **Pending**, and choose **Actions**, **Disable transfer**\.
  359  
  360: 1. Confirm by entering **disable** in the text box\.
  361  
  362: 1. Choose **Submit**\.
  363  

  366  
  367: **To disable Elastic IP address transfer**
  368  

  373  
  374: **To disable Elastic IP address transfer**
  375  

  386  When accepting transfers, note the following exceptions that might occur and how to resolve them:
  387: + **AddressLimitExceeded**: If your transfer account has exceeded the Elastic IP address quota, the source account can enable Elastic IP address transfer, but this exception occurs when the transfer account tries to accept the transfer\. By default, all AWS accounts are limited to 5 Elastic IP addresses per Region\. See [Elastic IP address limit](#using-instance-addressing-limit) for instructions on increasing the limit\.
  388: + **InvalidTransfer\.AddressCustomPtrSet**: If you or someone in your organization has configured the Elastic IP address that you are attempting to transfer to use reverse DNS lookup, the source account can enable transfer for the Elastic IP address, but this exception occurs when the transfer account tries to accept the transfer\. To resolve this issue, the source account must remove the DNS record for the Elastic IP address\. For more information, see [Use reverse DNS for email applications](#Using_Elastic_Addressing_Reverse_DNS)\.
  389: + **InvalidTransfer\.AddressAssociated**: If an Elastic IP address is associated with an ENI or EC2 instance, the source account can enable transfer for the Elastic IP address, but this exception occurs when the transfer account tries to accept the transfer\. To resolve this issue, the source account must disassociate the Elastic IP address\. For more information, see [Disassociate an Elastic IP address](#using-instance-addressing-eips-associating-different)\.
  390  

  397  
  398: **To accept an Elastic IP address transfer**
  399  

  403  
  404: 1. In the navigation pane, choose **Elastic IPs**\.
  405  
  406: 1. Choose **Actions**, **Accept transfer**\.
  407  
  408: 1. No tags that are associated with the Elastic IP address being transferred are transferred with the Elastic IP address when you accept the transfer\. If you want to define a **Name** tag for the Elastic IP address that you are accepting, select **Create a tag with a key of 'Name' and a value that you specify**\.
  409  

  411  
  412: 1. If you are accepting multiple transferred Elastic IP addresses, choose **Add address** to enter an additional Elastic IP address\.
  413  
  414: 1. Choose **Submit**\.
  415  

  418  
  419: **To accept an Elastic IP address transfer**
  420  

  425  
  426: **To accept an Elastic IP address transfer**
  427  

  435  
  436: **Note**  
  437  If you contacted AWS support to set up reverse DNS for an Elastic IP \(EIP\) address, you can remove the reverse DNS, but you can’t release the Elastic IP address because it’s been locked by AWS support\. To unlock the Elastic IP address, contact [AWS Support](https://console.aws.amazon.com/support/home#/)\. Once the Elastic IP address is unlocked, you can release the Elastic IP address\.

  441  
  442: **To release an Elastic IP address**
  443  

  445  
  446: 1. In the navigation pane, choose **Elastic IPs**\.
  447  
  448: 1. Select the Elastic IP address to release and choose **Actions**, **Release Elastic IP addresses**\.
  449  
  450: 1. Choose **Release**\.
  451  

  454  
  455: **To release an Elastic IP address**  
  456  Use the [release\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/release-address.html) AWS CLI command\.

  460  
  461: **To release an Elastic IP address**  
  462  Use the [Remove\-EC2Address](https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2Address.html) AWS Tools for Windows PowerShell command\.

  475  
  476: **To recover an Elastic IP address**  
  477  Use the [allocate\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/allocate-address.html) AWS CLI command and specify the IP address using the `--address` parameter as follows\.

  485  
  486: **To recover an Elastic IP address**  
  487  Use the [New\-EC2Address](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Address.html) AWS Tools for Windows PowerShell command and specify the IP address using the `-Address` parameter as follows\.

  498  
  499: **Considerations**
  500  + Before you create a reverse DNS record, you must set a corresponding forward DNS record \(record type A\) that points to your Elastic IP address\.

  503  
  504: **AWS GovCloud \(US\) Region**  
  505  You can't create a reverse DNS record using the console or AWS CLI\. AWS must assign the static reverse DNS records for you\. Open [Request to remove reverse DNS and email sending limitations](https://console.aws.amazon.com/support/contacts?#/rdns-limits) and provide us with your Elastic IP addresses and reverse DNS records\.

  515  
  516: 1. In the navigation pane, choose **Elastic IPs**\.
  517  
  518: 1. Select the Elastic IP address and choose **Actions**, **Update reverse DNS**\.
  519  
  520: 1. For **Reverse DNS domain name**, enter the domain name\.
  521  
  522: 1. Enter **update** to confirm\.
  523  
  524: 1. Choose **Update**\.
  525  

  557  
  558: 1. In the navigation pane, choose **Elastic IPs**\.
  559  
  560: 1. Select the Elastic IP address and choose **Actions**, **Update reverse DNS**\.
  561  
  562: 1. For **Reverse DNS domain name**, clear the domain name\.
  563  
  564: 1. Enter **update** to confirm\.
  565  
  566: 1. Choose **Update**\.
  567  

  588  
  589: **Note**  
  590  If you receive the following error when you run the command, you can submit a [Request to remove email sending limitations](http://aws.amazon.com/forms/ec2-email-limit-rdns-request) to customer support for assistance\.  

  598  
  599: **To verify how many Elastic IP addresses are in use**  
  600: Open the Amazon EC2 console at [https://console\.aws\.amazon\.com/ec2/](https://console.aws.amazon.com/ec2/) and choose **Elastic IPs** from the navigation pane\.
  601  
  602: **To verify your current account limit for Elastic IP addresses**  
  603  You can verify your limit in either the Amazon EC2 console or the Service Quotas console\. Do one of the following:

  605  
  606:   Choose **Limits** from the navigation pane, and then enter **IP** in the search field\. The limit is **EC2\-VPC Elastic IPs**\. If you have access to EC2\-Classic, there is an additional limit, **EC2\-Classic Elastic IPs**\.
  607  + Open the Service Quotas console at [https://console\.aws\.amazon\.com/servicequotas/](https://console.aws.amazon.com/servicequotas/)\.
  608  
  609:   On the Dashboard, choose **Amazon Elastic Compute Cloud \(Amazon EC2\)**\. If Amazon Elastic Compute Cloud \(Amazon EC2\) is not listed on the Dashboard, choose **AWS services**, enter **EC2** in the search field, and then choose **Amazon Elastic Compute Cloud \(Amazon EC2\)**\.
  610  
  611:   On the Amazon EC2 service quotas page, enter **IP** in the search field\. The limit is **EC2\-VPC Elastic IPs**\. If you have access to EC2\-Classic, there is an additional limit, **EC2\-Classic Elastic IPs**\. For more information, choose the limit\.
  612  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/enable-nitrotpm-prerequisites.md:
   2  
   3: To launch a Windows instance with NitroTPM enabled, the following prerequisites must be in place\. For the prerequisites for launching a Linux instance, see [Prerequisites for launching Linux instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enable-nitrotpm-prerequisites.html) in the ***Amazon EC2 User Guide for Linux Instances*\.
   4  
   5: **AMI**  
   6  Requires an AMI with NitroTPM enabled\.  

  19  
  20: **Operating system**  
  21  The AMI must include an operating system with a TPM 2\.0 Command Response Buffer \(CRB\) driver\. Most current operating systems, such as TPM\-Windows\_Server\-2022\-English\-Full\-Base, contain a TPM 2\.0 CRB driver\.
  22  
  23: **Instance type**  
  24  Supported virtualized instance types: `C5`, `C5a`, `C5ad`, `C5d`, `C5n`, `C6i`, `D3`, `D3en`, `G4dn`, `G5`, `Hpc6a`, `I3en`, `I4i`, `Inf1`, `M5`, `M5a`, `M5ad`, `M5d`, `M5dn`, `M5n`, `M5zn`, `M6a`, `M6i`, `R5`, `R5a`, `R5ad`, `R5b`, `R5d`, `R5dn`, `R5n`, `R6i`, `T3`, `T3a`, `U-3tb1`, `U-6tb1`, `U-9tb1`, `U-12tb1`, `X2idn`, `X2iedn`, `X2iezn`, and `z1d`\.  

  27  
  28: **UEFI boot mode**  
  29  NitroTPM requires that an instance runs in UEFI boot mode, which requires that the AMI must be configured for UEFI boot mode\. For more information, see [UEFI Secure Boot](uefi-secure-boot.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/enhanced-networking-ena.md:
    4  
    5: **Topics**
    6  + [Requirements](#ena-requirements)

   34  
   35: **Instance attribute \(enaSupport\)**
   36  

   48  
   49: **Image attribute \(enaSupport\)**  
   50  To check whether an AMI has the enhanced networking `enaSupport` attribute set, use one of the following commands\. If the attribute is set, the response is true\.

   65  
   66: **To enable enhanced networking**
   67  

   82     1. Install the driver by running the `install.ps1` PowerShell script\.
   83: **Note**  
   84  If you get an execution policy error, set the policy to `Unrestricted` \(by default it is set to `Restricted` or `RemoteSigned`\)\. In a command line, run `Set-ExecutionPolicy -ExecutionPolicy Unrestricted`, and then run the `install.ps1` PowerShell script again\.

  137  
  138:    1. Right\-click the network icon and choose **Open Network and Sharing Center**\.
  139  
  140:    1. Choose the Ethernet adapter \(for example, **Ethernet 2**\)\.
  141  
  142:    1. Choose **Details**\. For **Network Connection Details**, check that **Description** is **Amazon Elastic Network Adapter**\.
  143  

  187  
  188: **To subscribe to EC2 notifications**
  189  

  191  
  192: 1. In the navigation bar, change the Region to **US East \(N\. Virginia\)**, if necessary\. You must select this Region because the SNS notifications that you are subscribing to are in this Region\.
  193  
  194: 1. In the navigation pane, choose **Subscriptions**\.
  195  
  196: 1. Choose **Create subscription**\.
  197  
  198: 1. In the **Create subscription** dialog box, do the following:
  199  
  200:    1. For **TopicARN**, copy the following Amazon Resource Name \(ARN\):
  201  

  203  
  204:    1. For **Protocol**, choose `Email`\.
  205  
  206:    1. For **Endpoint**, enter an email address that you can use to receive the notifications\.
  207  
  208:    1. Choose **Create subscription**\.
  209  

  213  
  214: **To unsubscribe from Amazon EC2 Windows driver notification**
  215  

  217  
  218: 1. In the navigation pane, choose **Subscriptions**\.
  219  
  220: 1. Select the check box for the subscription and then choose **Actions**, **Delete subscriptions**\. When prompted for confirmation, choose **Delete**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/enhanced-networking-os.md:
  4  
  5: **Note**  
  6  TCP chimney offloading should be disabled in most use cases, and has been deprecated as of Windows Server 2016\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/finding-an-interrupted-Spot-Instance.md:
   2  
   3: In the console, the **Instances** pane displays all instances, including Spot Instances\. You can identify a Spot Instance from the `spot` value in the **Instance lifecycle** column\. The **Instance state** column indicates whether the instance is `pending`, `running`, `stopping`, `stopped`, `shutting-down`, or `terminated`\. For a hibernated Spot Instance, the instance state is `stopped`\.
   4  
   5: **To find an interrupted Spot Instance \(console\)**
   6  

   8  
   9: 1. In the navigation pane, choose **Instances**\. In the top right corner, choose the settings icon \( ![\[Settings icon.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/settings-icon.png) \), and under **Attribute columns**, select **Instance lifecycle**\. For Spot Instances, **Instance lifecycle** is `spot`\.
  10  
  11:    Alternatively, in the navigation pane, choose **Spot Requests**\. You can see both Spot Instance requests and Spot Fleet requests\. To view the IDs of the instances, select a Spot Instance request or a Spot Fleet request and choose the **Instances** tab\. Choose an instance ID to display the instance in the **Instances** pane\.
  12  
  13: 1. For each Spot Instance, you can view its state in the **Instance State** column\.
  14  
  15: **To find interrupted Spot Instances \(AWS CLI\)**  
  16  You can list your interrupted Spot Instances using the [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) command with the `--filters` parameter\. To list only the instance IDs in the output, include the `--query` parameter\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/fleet_create-eventbridge-rules.md:
  6  
  7: **Topics**
  8  + [Create Amazon EventBridge rules to monitor EC2 Fleet events](ec2-fleet-using-eventbridge.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/fleet-examples.md:
  4  
  5: **Topics**
  6  + [EC2 Fleet example configurations](ec2-fleet-examples.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/fleet-monitor.md:
  6  
  7: **Topics**
  8  + [EC2 Fleet event types](ec2-fleet-event-types.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/fleet-quotas.md:
   7  
   8: ****  
   9  

  31  
  32: **To request a quota increase for target capacity**
  33  

  35  
  36: 1. Choose **Service limit increase**\.
  37  
  38: 1. For **Limit type**, choose **EC2 Fleet**\.
  39  
  40: 1. For **Region**, choose the AWS Region in which to request the quota increase\.
  41  
  42: 1. For **Limit**, choose **Target Fleet Capacity per Fleet \(in units\)** or **Target Fleet Capacity per Region \(in units\)**, depending on which quota you want to increase\.
  43  
  44: 1. For **New limit value**, enter the new quota value\.
  45  
  46: 1. To request an increase for another quota, choose **Add another request**, and repeat Steps 4–6\.
  47  
  48: 1. For **Use case description**, enter your reason for requesting a quota increase\.
  49  
  50: 1. Under **Contact options**, specify your preferred contact language and contact method\.
  51  
  52: 1. Choose **Submit**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/Fleets.md:
  4  
  5: **Topics**
  6  + [EC2 Fleet](ec2-fleet.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/general-purpose-instances.md:
    4  
    5: **M5 and M5a instances**
    6  

   16  
   17: **M5zn**
   18  

   25  
   26: **M6i and M6id instances**
   27  

   39  
   40: **M6in and M6idn instances**
   41  

   50  
   51: **T2, T3, and T3a instances**
   52  

   60  
   61: **Topics**
   62  + [Hardware specifications](#general-purpose-hardware)

  226  
  227: **AMD processors**
  228: + **AMD EPYC 7000 series processors \(AMD EPYC 7571\)**: M5a, M5ad, T3a
  229: + **3rd generation AMD EPYC processors \(AMD EPYC 7R13\)**: M6a
  230  
  231: **Intel processors**
  232: + **Intel Xeon Scalable processors \(Haswell E5\-2676 v3 or Broadwell E5\-2686 v4\)**: M4, T2
  233: + **Intel Xeon Scalable processors \(Skylake 8175M or Cascade Lake 8259CL\)**: M5, M5d, T3
  234: + **2nd generation Intel Xeon Scalable processors \(Cascade Lake 8259CL\)**: M5n
  235: + **2nd generation Intel Xeon Scalable processors \(Cascade Lake 8252C\)**: M5zn
  236: + **3rd generation Intel Xeon Scalable processors \(Ice Lake 8375C\)**: M6i, M6id
  237  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/general-purpose.md:
   8  
   9: **Topics**
  10  + [General Purpose SSD \(gp3\) volumes](#gp3-ebs-volume-type)

  18  
  19: **Topics**
  20  + [gp3 volume performance](#gp3-performance)

  25  
  26: **Tip**  
  27  gp3 volumes do not use burst performance\. They can indefinitely sustain their full provisioned IOPS and throughput performance\.
  28  
  29: **IOPS performance**  
  30  gp3 volumes deliver a consistent baseline IOPS performance of 3,000 IOPS, which is included with the price of storage\. You can provision additional IOPS \(up to a maximum of 16,000\) for an additional cost at a ratio of 500 IOPS per GiB of volume size\. Maximum IOPS can be provisioned for volumes 32 GiB or larger \(500 IOPS per GiB × 32 GiB = 16,000 IOPS\)\.
  31  
  32: **Throughput performance**  
  33  gp3 volumes deliver a consistent baseline throughput performance of 125 MiB/s, which is included with the price of storage\. You can provision additional throughput \(up to a maximum of 1,000 MiB/s\) for an additional cost at a ratio of 0\.25 MiB/s per provisioned IOPS\. Maximum throughput can be provisioned at 4,000 IOPS or higher and 8 GiB or larger \(4,000 IOPS × 0\.25 MiB/s per IOPS = 1,000 MiB/s\)\.

  48  
  49: **Tip**  
  50  `gp3` volumes are the latest generation of General Purpose SSD volumes\. They offer more predictable performance scaling and prices that are up to 20 percent lower than `gp2` volumes\. For more information, see [General Purpose SSD \(gp3\) volumes](#gp3-ebs-volume-type)\.   

  54  
  55: **Topics**
  56  + [`gp2` volume performance](#gp2-performance)

  60  
  61: **IOPS performance**  
  62  Baseline IOPS performance scales linearly between a minimum of 100 and a maximum of 16,000 at a rate of 3 IOPS per GiB of volume size\. IOPS performance is provisioned as follows:

  66  
  67: `gp2` volumes smaller than 1 TiB \(and that are provisioned with less than 3,000 IOPS\) can **burst** to 3,000 IOPS when needed for an extended period of time\. A volume's ability to burst is governed by I/O credits\. When I/O demand is greater than baseline performance, the volume **spends I/O credits** to burst to the required performance level \(up to 3,000 IOPS\)\. While bursting, I/O credits are not accumulated and they are spent at the rate of IOPS that is being used above baseline IOPS \(spend rate = burst IOPS \- baseline IOPS\)\. The more I/O credits a volume has accrued, the longer it can sustain its burst performance\. You can calculate **Burst duration** as follows:
  68  

  74  
  75: When I/O demand drops to baseline performance level or lower, the volume starts to **earn I/O credits** at a rate of 3 I/O credits per GiB of volume size per second\. Volumes have an **I/O credit accrual limit** of 5\.4 million I/O credits, which is enough to sustain the maximum burst performance of 3,000 IOPS for at least 30 minutes\.
  76  
  77: **Note**  
  78  Each volume receives an initial I/O credit balance of 5\.4 million I/O credits, which provides a fast initial boot cycle for boot volumes and a good bootstrapping experience for other applications\.

  95  
  96: **Throughput performance**  
  97  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/get-set-up-for-amazon-ec2.md:
   18  
   19: **To sign up for an AWS account**
   20  

   28  
   29: AWS sends you a confirmation email after the sign\-up process is complete\. At any time, you can view your current account activity and manage your account by going to [https://aws\.amazon\.com/](https://aws.amazon.com/) and choosing **My Account**\.
   30  

   34  
   35: **Secure your AWS account root user**
   36  
   37: 1.  Sign in to the [AWS Management Console](https://console.aws.amazon.com/) as the account owner by choosing **Root user** and entering your AWS account email address\. On the next page, enter your password\.
   38  

   44  
   45: **Create an administrative user**
   46  + For your daily administrative tasks, grant administrative access to an administrative user in AWS IAM Identity Center \(successor to AWS Single Sign\-On\)\.

   49  
   50: **Sign in as the administrative user**
   51  + To sign in with your IAM Identity Center user, use the sign\-in URL that was sent to your email address when you created the IAM Identity Center user\.

   60  
   61: **To create your key pair**
   62  

   64  
   65: 1. In the navigation pane, choose **Key Pairs**\.
   66  
   67: 1. Choose **Create key pair**\.
   68  
   69: 1. For **Name**, enter a descriptive name for the key pair\. Amazon EC2 associates the public key with the name that you specify as the key name\. A key name can include up to 255 ASCII characters\. It can’t include leading or trailing spaces\.
   70  
   71: 1. For **Key pair type**, choose either **RSA** or **ED25519**\. Note that **ED25519** keys are not supported for Windows instances\.
   72  
   73: 1. For **Private key file format**, choose the format in which to save the private key\. To save the private key in a format that can be used with OpenSSH, choose **pem**\. To save the private key in a format that can be used with PuTTY, choose **ppk**\.
   74  
   75: 1. Choose **Create key pair**\.
   76  
   77  1. The private key file is automatically downloaded by your browser\. The base file name is the name you specified as the name of your key pair, and the file name extension is determined by the file format you chose\. Save the private key file in a safe place\.
   78: **Important**  
   79  This is the only chance for you to save the private key file\.

   88  
   89: **Prerequisites**  
   90  You'll need the public IPv4 address of your local computer\. The security group editor in the Amazon EC2 console can automatically detect the public IPv4 address for you\. Alternatively, you can use the search phrase "what is my IP address" in an internet browser, or use the following service: [Check IP](http://checkip.amazonaws.com/)\. If you are connecting through an Internet service provider \(ISP\) or from behind a firewall without a static IP address, you need to find out the range of IP addresses used by client computers\.

   96  
   97: **To create a security group with least privilege**
   98  

  102  
  103: 1. In the left navigation pane, choose **Security Groups**\.
  104  
  105: 1. Choose **Create security group**\.
  106  
  107: 1. For **Basic details**, do the following:
  108  

  110  
  111:    1. In the **VPC** list, select your default VPC for the Region\.
  112  
  113: 1. For **Inbound rules**, create rules that allow specific traffic to reach your instance\. For example, use the following rules for a web server that accepts HTTP and HTTPS traffic\. For more examples, see [Security group rules for different use cases](security-group-rules-reference.md)\.
  114  
  115:    1. Choose **Add rule**\. For **Type**, choose **HTTP**\. For **Source**, choose **Anywhere**\.
  116  
  117:    1. Choose **Add rule**\. For **Type**, choose **HTTPS**\. For **Source**, choose **Anywhere**\.
  118  
  119:    1. Choose **Add rule**\. For **Type**, choose **RDP**\. For **Source**, do one of the following:
  120:       + Choose **My IP** to automatically add the public IPv4 address of your local computer\.
  121:       + Choose **Custom** and specify the public IPv4 address of your computer or network in CIDR notation\. To specify an individual IP address in CIDR notation, add the routing suffix `/32`, for example, `203.0.113.25/32`\. If your company or your router allocates addresses from a range, specify the entire range, such as `203.0.113.0/24`\.
  122: **Warning**  
  123: For security reasons, do not choose **Anywhere** for **Source** with a rule for RDP\. This would allow access to your instance from all IP addresses on the internet\. This is acceptable for a short time in a test environment, but it is unsafe for production environments\.
  124  
  125: 1. For **Outbound rules**, keep the default rule, which allows all outbound traffic\.
  126  
  127: 1. Choose **Create security group**\.
  128  

  131  
  132: **To create a security group with least privilege**
  133  

  135  
  136: 1. In the left navigation pane, choose **Security Groups**\.
  137  
  138: 1. Choose **Create Security Group**\.
  139  

  141  
  142: 1. In the **VPC** list, select your default VPC for the Region\.
  143  
  144: 1. On the **Inbound rules** tab, create the following rules \(choose **Add rule** for each new rule\):
  145:    + Choose **HTTP** from the **Type** list, and make sure that **Source** is set to **Anywhere** \(`0.0.0.0/0`\)\.
  146:    + Choose **HTTPS** from the **Type** list, and make sure that **Source** is set to **Anywhere** \(`0.0.0.0/0`\)\.
  147:    + Choose **RDP** from the **Type** list\. In the **Source** box, choose **My IP** to automatically populate the field with the public IPv4 address of your local computer\. Alternatively, choose **Custom** and specify the public IPv4 address of your computer or network in CIDR notation\. To specify an individual IP address in CIDR notation, add the routing suffix `/32`, for example, `203.0.113.25/32`\. If your company allocates addresses from a range, specify the entire range, such as `203.0.113.0/24`\.
  148: **Warning**  
  149  For security reasons, do not allow RDP access from all IP addresses to your instance\. This is acceptable for a short time in a test environment, but it is unsafe for production environments\.
  150  
  151: 1. On the **Outbound rules** tab, keep the default rule, which allows all outbound traffic\.
  152  
  153: 1. Choose **Create security group**\.
  154  

  157  
  158: **To create a security group with least privilege**
  159  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/graphs-in-the-aws-management-console.md:
   2  
   3: After you launch an instance, you can open the Amazon EC2 console and view the monitoring graphs for the instance on the **Monitoring** tab\. Each graph is based on one of the available Amazon EC2 metrics\.
   4  

  18  
  19: **Graph metrics using the CloudWatch console**  
  20  You can also use the CloudWatch console to graph metric data generated by Amazon EC2 and other AWS services\. For more information, see [Graphing metrics](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/graph_metrics.html) in the *Amazon CloudWatch User Guide*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/hibernating-prerequisites.md:
   2  
   3: **Topics**
   4  + [Supported Windows AMIs](#hibernation-prereqs-supported-amis)

  32  
  33: **To see the available instance types that support hibernation in a specific Region**  
  34  The available instance types vary by Region\. To see the available instance types that support hibernation in a Region, use the [describe\-instance\-types](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-types.html) command with the `--region` parameter\. Include the `--filters` parameter to scope the results to the instance types that support hibernation and the `--query` parameter to scope the output to the value of `InstanceType`\.

  82  Use one of the following three options to ensure that the root volume is an encrypted EBS volume:
  83: + **EBS encryption by default** – You can enable EBS encryption by default to ensure that all new EBS volumes created in your AWS account are encrypted\. This way, you can enable hibernation for your instances without specifying encryption intent at instance launch\. For more information, see [Encryption by default](EBSEncryption.md#encryption-by-default)\.
  84: + **EBS "single\-step" encryption** – You can launch encrypted EBS\-backed EC2 instances from an unencrypted AMI and also enable hibernation at the same time\. For more information, see [Use encryption with EBS\-backed AMIs](AMIEncryption.md)\.
  85: + **Encrypted AMI** – You can enable EBS encryption by using an encrypted AMI to launch your instance\. If your AMI does not have an encrypted root snapshot, you can copy it to a new AMI and request encryption\. For more information, see [Encrypt an unencrypted image during copy](AMIEncryption.md#copy-unencrypted-to-encrypted) and [Copy an AMI](CopyingAMIs.md#ami-copy-steps)\.
  86  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/hibernating-resuming.md:
   7  
   8: **To start a hibernated instance**
   9  

  11  
  12: 1. In the navigation pane, choose **Instances**\.
  13  
  14: 1. Select a hibernated instance, and choose **Instance state**, **Start instance**\. It can take a few minutes for the instance to enter the `running` state\. During this time, the instance [status checks](monitoring-system-instance-status-check.md#types-of-instance-status-checks) show the instance in a failed state until the instance has started\.
  15  

  18  
  19: **To start a hibernated instance**  
  20  Use the [start\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/start-instances.html) command\.

  29  
  30: **To start a hibernated instance using the AWS Tools for Windows PowerShell**  
  31  Use the [Start\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/Start-EC2Instance.html) command\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/how-dedicated-hosts-work.md:
    8  
    9: **Topics**
   10  + [Allocate Dedicated Hosts](#dedicated-hosts-allocating)

   37  
   38: **To allocate a Dedicated Host**
   39  

   41  
   42: 1. In the navigation pane, choose **Dedicated Hosts** and then choose **Allocate Dedicated Host**\.
   43  
   44: 1. For **Instance family**, choose the instance family for the Dedicated Host\.
   45  
   46  1. Specify whether the Dedicated Host supports multiple instance sizes within the selected instance family, or a specific instance type only\. Do one of the following\.
   47:    + To configure the Dedicated Host to support multiple instance types in the selected instance family, for **Support multiple instance types**, choose **Enable**\. Enabling this allows you to launch different instance sizes from the same instance family onto the Dedicated Host\. For example, if you choose the `m5` instance family and choose this option, you can launch `m5.xlarge` and `m5.4xlarge` instances onto the Dedicated Host\.
   48:    + To configure the Dedicated Host to support a single instance type within the selected instance family, clear **Support multiple instance types**, and then for **Instance type**, choose the instance type to support\. This allows you to launch a single instance type on the Dedicated Host\. For example, if you choose this option and specify `m5.4xlarge` as the supported instance type, you can launch only `m5.4xlarge` instances onto the Dedicated Host\.
   49  
   50: 1. For **Availability Zone**, choose the Availability Zone in which to allocate the Dedicated Host\.
   51  
   52: 1. To allow the Dedicated Host to accept untargeted instance launches that match its instance type, for **Instance auto\-placement**, choose **Enable**\. For more information about auto\-placement, see [Understand auto\-placement and affinity](#dedicated-hosts-understanding)\.
   53  
   54: 1. To enable host recovery for the Dedicated Host, for **Host recovery**, choose **Enable**\. For more information, see [Host recovery](dedicated-hosts-recovery.md)\.
   55  
   56: 1. For **Quantity**, enter the number of Dedicated Hosts to allocate\.
   57  
   58: 1. \(Optional\) Choose **Add new tag** and enter a tag key and a tag value\.
   59  
   60: 1. Choose **Allocate**\.
   61  

   64  
   65: **To allocate a Dedicated Host**
   66  

   68  
   69: 1. In the navigation pane, choose **Dedicated Hosts**, **Allocate Dedicated Host**\.
   70  
   71: 1. For **Instance family**, choose the instance family for the Dedicated Host\.
   72  
   73  1. Specify whether the Dedicated Host supports multiple instance sizes within the selected instance family, or a specific instance type only\. Do one of the following\.
   74:    + To configure the Dedicated Host to support multiple instance types in the selected instance family, select **Support multiple instance types**\. Enabling this allows you to launch different instance sizes from the same instance family onto the Dedicated Host\. For example, if you choose the `m5` instance family and choose this option, you can launch `m5.xlarge` and `m5.4xlarge` instances onto the Dedicated Host\. The instance family must be powered by the Nitro System\.
   75:    + To configure the Dedicated Host to support a single instance type within the selected instance family, clear **Support multiple instance types**, and then for **Instance type**, choose the instance type to support\. This allows you to launch a single instance type on the Dedicated Host\. For example, if you choose this option and specify `m5.4xlarge` as the supported instance type, you can launch only `m5.4xlarge` instances onto the Dedicated Host\.
   76  
   77: 1. For **Availability Zone**, choose the Availability Zone in which to allocate the Dedicated Host\.
   78  
   79: 1. To allow the Dedicated Host to accept untargeted instance launches that match its instance type, for **Instance auto\-placement**, choose **Enable**\. For more information about auto\-placement, see [Understand auto\-placement and affinity](#dedicated-hosts-understanding)\.
   80  
   81: 1. To enable host recovery for the Dedicated Host, for **Host recovery** choose **Enable**\. For more information, see [Host recovery](dedicated-hosts-recovery.md)\.
   82  
   83: 1. For **Quantity**, enter the number of Dedicated Hosts to allocate\.
   84  
   85: 1. \(Optional\) Choose **Add Tag** and enter a tag key and a tag value\.
   86  
   87: 1. Choose **Allocate host**\.
   88  

   91  
   92: **To allocate a Dedicated Host**  
   93  Use the [allocate\-hosts](https://docs.aws.amazon.com/cli/latest/reference/ec2/allocate-hosts.html) AWS CLI command\. The following command allocates a Dedicated Host that supports multiple instance types from the `m5` instance family in `us-east-1a` Availability Zone\. The host also has host recovery enabled and it has auto\-placement disabled\.

  107  
  108: **To allocate a Dedicated Host**  
  109  Use the [New\-EC2Host](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Host.html) AWS Tools for Windows PowerShell command\. The following command allocates a Dedicated Host that supports multiple instance types from the `m5` instance family in `us-east-1a` Availability Zone\. The host also has host recovery enabled and it has auto\-placement disabled\.

  137  
  138: **Tip**  
  139  For Dedicated Hosts that support multiple instance sizes, we recommend that you launch the larger instance sizes first, and then fill the remaining instance capacity with the smaller instance sizes as needed\.

  147  
  148: **To launch an instance onto a specific Dedicated Host from the Dedicated Hosts page**
  149  

  151  
  152: 1. Choose **Dedicated Hosts** in the navigation pane\.
  153  
  154: 1. On the **Dedicated Hosts** page, select a host and choose **Actions**, **Launch Instance\(s\) onto host**\.
  155  
  156: 1. In the **Application and OS Images** section, select an AMI from the list\.
  157: **Note**  
  158  SQL Server, SUSE, and RHEL AMIs provided by Amazon EC2 can't be used with Dedicated Hosts\.
  159  
  160: 1. In the **Instance type** section, select the instance type to launch\.
  161: **Note**  
  162  If the Dedicated Host supports a single instance type only, the supported instance type is selected by default and can't be changed\.  

  164  
  165: 1. In the **Key pair** section, select the key pair to associate with the instance\.
  166  
  167: 1. In the **Advanced details** section, for **Tenancy affinity**, do one of the following:
  168:    + Select **Off** — The instance launches onto the specified host, but it is not guaranteed to restart on the same Dedicated Host if stopped\.
  169     + Select the Dedicated Host ID — If stopped, the instance always restarts on this specific host\. 

  171     For more information about Affinity, see [Understand auto\-placement and affinity](#dedicated-hosts-understanding)\.
  172: **Note**  
  173: The **Tenancy** and **Host** options are pre\-configured based on the host that you selected\.
  174  

  176  
  177: 1. Choose **Launch instance**\.
  178  
  179: **To launch an instance onto a Dedicated Host using the Launch Instance wizard**
  180  

  182  
  183: 1. In the navigation pane, choose **Instances**, **Launch instance**\.
  184  
  185: 1. In the **Application and OS Images** section, select an AMI from the list\.
  186: **Note**  
  187  SQL Server, SUSE, and RHEL AMIs provided by Amazon EC2 can't be used with Dedicated Hosts\.
  188  
  189: 1. In the **Instance type** section, select the instance type to launch\.
  190  
  191: 1. In the **Key pair** section, select the key pair to associate with the instance\.
  192  
  193: 1. In the **Advanced details** section, do the following:
  194  
  195:    1. For **Tenancy**, select **Dedicated Host**\.
  196  
  197:    1. For **Target host by**, select **Host ID**\.
  198  
  199:    1. For **Target host ID**, select the host onto which to launch the instance\.
  200  
  201:    1. For **Tenancy affinity**, do one of the following:
  202:       + Select **Off** — The instance launches onto the specified host, but it is not guaranteed to restart on the same Dedicated Host if stopped\.
  203        + Select the Dedicated Host ID — If stopped, the instance always restarts on this specific host\. 

  208  
  209: 1. Choose **Launch instance**\.
  210  

  213  
  214: **To launch an instance onto a Dedicated Host**  
  215  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) AWS CLI command and specify the instance affinity, tenancy, and host in the `Placement` request parameter\.

  219  
  220: **To launch an instance onto a Dedicated Host**  
  221  Use the [New\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Instance.html) AWS Tools for Windows PowerShell command and specify the instance affinity, tenancy, and host in the `Placement` request parameter\.

  228  
  229: **Requirements and limits**
  230  + You must associate a core\- or socket\-based license configuration with the AMI\.

  238  
  239: **To launch an instance into a host resource group**
  240  

  242  
  243: 1. In the navigation pane, choose **Instances**, **Launch instance**\.
  244  
  245: 1. In the **Application and OS Images** section, select an AMI from the list\.
  246: **Note**  
  247  SQL Server, SUSE, and RHEL AMIs provided by Amazon EC2 can't be used with Dedicated Hosts\.
  248  
  249: 1. In the **Instance type** section, select the instance type to launch\.
  250  
  251: 1. In the **Key pair** section, select the key pair to associate with the instance\.
  252  
  253: 1. In the **Advanced details** section, do the following:
  254  
  255:    1. For **Tenancy**, select **Dedicated Host**\.
  256  
  257:    1. For **Target host by**, select **Host resource group**\.
  258  
  259:    1. For **Tenancy host resource group**, select the host resource group into which to launch the instance\.
  260  
  261:    1. For **Tenancy affinity**, do one of the following:
  262:       + Select **Off** — The instance launches onto the specified host, but it is not guaranteed to restart on the same Dedicated Host if stopped\.
  263        + Select the Dedicated Host ID — If stopped, the instance always restarts on this specific host\. 

  268  
  269: 1. Choose **Launch instance**\.
  270  

  273  
  274: **To launch an instance into a host resource group**  
  275  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) AWS CLI command, and in the `Placement` request parameter, omit the Tenancy option and specify the host resource group ARN\.

  279  
  280: **To launch an instance into a host resource group**  
  281  Use the [New\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Instance.html) AWS Tools for Windows PowerShell command, and in the `Placement` request parameter, omit the Tenancy option and specify the host resource group ARN\.

  313  
  314: **To modify the auto\-placement of a Dedicated Host**
  315  

  317  
  318: 1. In the navigation pane, choose **Dedicated Hosts**\.
  319  
  320: 1. Select a host and choose **Actions**, **Modify host**\.
  321  
  322: 1. For **Instance auto\-placement**, choose **Enable** to enable auto\-placement, or clear **Enable** to disable auto\-placement\. For more information, see [Understand auto\-placement and affinity](#dedicated-hosts-understanding)\.
  323  
  324: 1. Choose **Save**\.
  325  

  328  
  329: **To modify the auto\-placement of a Dedicated Host**
  330  

  332  
  333: 1. Choose **Dedicated Hosts** in the navigation pane\.
  334  
  335: 1. On the **Dedicated Hosts** page, select a host and choose **Actions**, **Modify Auto\-Placement**\.
  336  
  337: 1. On the Modify Auto\-placement window, for **Allow instance auto\-placement**, choose **Yes** to enable auto\-placement, or choose **No** to disable auto\-placement\. For more information, see [Understand auto\-placement and affinity](#dedicated-hosts-understanding)\.
  338  
  339: 1. Choose **Save**\.
  340  

  343  
  344: **To modify the auto\-placement of a Dedicated Host**  
  345  Use the [modify\-hosts](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-hosts.html) AWS CLI command\. The following example enables auto\-placement for the specified Dedicated Host\.

  353  
  354: **To modify the auto\-placement of a Dedicated Host**  
  355  Use the [Edit\-EC2Host](https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2Host.html) AWS Tools for Windows PowerShell command\. The following example enables auto\-placement for the specified Dedicated Host\.

  381  
  382: **To modify the supported instance types for a Dedicated Host**
  383  

  385  
  386: 1. In the Navigation pane, choose **Dedicated Host**\.
  387  
  388: 1. Select the Dedicated Host to modify and choose **Actions**, **Modify host**\.
  389  
  390  1. Do one of the following, depending on the current configuration of the Dedicated Host:
  391:    + If the Dedicated Host currently supports a specific instance type, **Support multiple instance types** is not enabled, and **Instance type** lists the supported instance type\. To modify the host to support multiple types in the current instance family, for **Support multiple instance types**, choose **Enable**\.
  392  
  393       You must first stop all instances running on the host before modifying it to support multiple instance types\.
  394:    + If the Dedicated Host currently supports multiple instance types in an instance family, **Enabled** is selected for **Support multiple instance types**\. To modify the host to support a specific instance type, for **Support multiple instance types**, clear **Enable**, and then for **Instance type**, select the specific instance type to support\.
  395  

  397  
  398: 1. Choose **Save**\.
  399  

  402  
  403: **To modify the supported instance types for a Dedicated Host**
  404  

  406  
  407: 1. In the Navigation pane, choose **Dedicated Host**\.
  408  
  409: 1. Select the Dedicated Host to modify and choose **Actions**, **Modify Supported Instance Types**\.
  410  
  411  1. Do one of the following, depending on the current configuration of the Dedicated Host:
  412:    + If the Dedicated Host currently supports a specific instance type, **No** is selected for **Support multiple instance types**\. To modify the host to support multiple types in the current instance family, for **Support multiple instance types**, select **Yes**\.
  413  
  414       You must first stop all instances running on the host before modifying it to support multiple instance types\.
  415:    + If the Dedicated Host currently supports multiple instance types in an instance family, **Yes** is selected for **Support multiple instance types**, and **Instance family** displays the supported instance family\. To modify the host to support a specific instance type, for **Support multiple instance types**, select **No**, and then for **Instance type**, select the specific instance type to support\.
  416  

  418  
  419: 1. Choose **Save**\.
  420  

  423  
  424: **To modify the supported instance types for a Dedicated Host**  
  425  Use the [modify\-hosts](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-hosts.html) AWS CLI command\.

  441  
  442: **To modify the supported instance types for a Dedicated Host**  
  443  Use the [Edit\-EC2Host](https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2Host.html) AWS Tools for Windows PowerShell command\.

  462  
  463: **Note**  
  464  For T3 instances, you can't change the tenancy from `dedicated` to `host`, or from `host` to `dedicated`\. Attempting to make one of these unsupported tenancy changes results in the `InvalidTenancy` error code\.

  470  
  471: **To modify instance tenancy or affinity**
  472  

  474  
  475: 1. Choose **Instances**, and select the instance to modify\.
  476  
  477: 1. Choose **Instance state**, **Stop**\.
  478  
  479: 1. Open the context \(right\-click\) menu on the instance and choose **Instance Settings**, **Modify Instance Placement**\.
  480  
  481: 1. On the **Modify Instance Placement** page, configure the following:
  482:    + **Tenancy**—Choose one of the following:
  483       + Run a dedicated hardware instance—Launches the instance as a Dedicated Instance\. For more information, see [Dedicated Instances](dedicated-instance.md)\.
  484       + Launch the instance on a Dedicated Host—Launches the instance onto a Dedicated Host with configurable affinity\.
  485:    + **Affinity**—Choose one of the following:
  486       + This instance can run on any one of my hosts—The instance launches onto any available Dedicated Host in your account that supports its instance type\.
  487:      + This instance can only run on the selected host—The instance is only able to run on the Dedicated Host selected for **Target Host**\.
  488:    + **Target Host**—Select the Dedicated Host that the instance must run on\. If no target host is listed, you might not have available, compatible Dedicated Hosts in your account\.
  489  

  491  
  492: 1. Choose **Save**\.
  493  

  496  
  497: **To modify instance tenancy or affinity**  
  498  Use the [modify\-instance\-placement](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-placement.html) AWS CLI command\. The following example changes the specified instance's affinity from `default` to `host`, and specifies the Dedicated Host that the instance has affinity with\.

  506  
  507: **To modify instance tenancy or affinity**  
  508  Use the [Edit\-EC2InstancePlacement](https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2InstancePlacement.html) AWS Tools for Windows PowerShell command\. The following example changes the specified instance's affinity from `default` to `host`, and specifies the Dedicated Host that the instance has affinity with\.

  522  
  523: **To view the details of a Dedicated Host**
  524  

  526  
  527: 1. In the navigation pane, choose **Dedicated Hosts**\.
  528  
  529: 1. On the **Dedicated Hosts** page, select a host\.
  530  
  531: 1. For information about the host, choose **Details**\.
  532  
  533:    **Available vCPUs** indicates the vCPUs that are available on the Dedicated Host for new instance launches\. For example, a Dedicated Host that supports multiple instance types within the `c5` instance family, and that has no instances running on it, has 72 available vCPUs\. This means that you can launch different combinations of instance types onto the Dedicated Host to consume the 72 available vCPUs\.
  534  
  535:    For information about instances running on the host, choose **Running instances**\.
  536  

  539  
  540: **To view the details of a Dedicated Host**
  541  

  543  
  544: 1. In the navigation pane, choose **Dedicated Hosts**\.
  545  
  546: 1. On the **Dedicated Hosts** page, select a host\.
  547  
  548: 1. For information about the host, choose **Description**\. **Available vCPUs** indicates the vCPUs that are available on the Dedicated Host for new instance launches\. For example, a Dedicated Host that supports multiple instance types within the `c5` instance family, and that has no instances running on it, has 72 available vCPUs\. This means that you can launch different combinations of instance types onto the Dedicated Host to consume the 72 available vCPUs\.
  549  
  550:    For information about instances running on the host, choose **Instances**\.
  551  

  554  
  555: **To view the capacity of a Dedicated Host**  
  556  Use the [describe\-hosts](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-hosts.html) AWS CLI command\.

  578  
  579: **To view the instance capacity of a Dedicated Host**  
  580  Use the [Get\-EC2Host](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Host.html) AWS Tools for Windows PowerShell command\.

  598  
  599: **To tag a Dedicated Host**
  600  

  602  
  603: 1. In the navigation pane, choose **Dedicated Hosts**\. 
  604  
  605: 1. Select the Dedicated Host to tag, and then choose **Actions**, **Manage tags**\.
  606  
  607: 1. In the **Manage tags** screen, choose **Add tag**, and then specify the key and value for the tag\.
  608  
  609: 1. \(Optional\) Choose **Add tag** to add additional tags to the Dedicated Host\.
  610  
  611: 1. Choose **Save changes**\.
  612  

  615  
  616: **To tag a Dedicated Host**
  617  

  619  
  620: 1. In the navigation pane, choose **Dedicated Hosts**\. 
  621  
  622: 1. Select the Dedicated Host to tag, and then choose **Tags**\. 
  623  
  624: 1. Choose **Add/Edit Tags**\.
  625  
  626: 1. In the **Add/Edit Tags** dialog box, choose **Create Tag**, and then specify the key and value for the tag\.
  627  
  628: 1. \(Optional\) Choose **Create Tag** to add additional tags to the Dedicated Host\.
  629  
  630: 1. Choose **Save**\.
  631  

  634  
  635: **To tag a Dedicated Host**  
  636  Use the [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) AWS CLI command\.

  646  
  647: **To tag a Dedicated Host**  
  648  Use the [New\-EC2Tag](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Tag.html) AWS Tools for Windows PowerShell command\.

  672  
  673: **To view the state of a Dedicated Host**
  674  

  676  
  677: 1. In the navigation pane, choose **Dedicated Hosts**\.
  678  
  679: 1. Locate the Dedicated Host in the list and review the value in the **State** column\.
  680  

  683  
  684: **To view the state of a Dedicated Host**  
  685  Use the [describe\-hosts](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-hosts.html) AWS CLI command and then review the `state` property in the `hostSet` response element\.

  693  
  694: **To view the state of a Dedicated Host**  
  695  Use the [Get\-EC2Host](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Host.html) AWS Tools for Windows PowerShell command and then review the `state` property in the `hostSet` response element\.

  705  
  706: | **State** | **Description** | 
  707  | --- | --- | 

  723  
  724: **To release a Dedicated Host**
  725  

  727  
  728: 1. In the navigation pane, choose **Dedicated Hosts**\.
  729  
  730: 1. On the **Dedicated Hosts** page, select the Dedicated Host to release\.
  731  
  732: 1. Choose **Actions**, **Release host**\.
  733  
  734: 1. To confirm, choose **Release**\.
  735  

  738  
  739: **To release a Dedicated Host**
  740  

  742  
  743: 1. Choose **Dedicated Hosts** in the navigation pane\.
  744  
  745: 1. On the **Dedicated Hosts** page, select the Dedicated Host to release\.
  746  
  747: 1. Choose **Actions**, **Release Hosts**\.
  748  
  749: 1. Choose **Release** to confirm\.
  750  

  753  
  754: **To release a Dedicated Host**  
  755  Use the [release\-hosts](https://docs.aws.amazon.com/cli/latest/reference/ec2/release-hosts.html) AWS CLI command\.

  763  
  764: **To release a Dedicated Host**  
  765  Use the [Remove\-EC2Hosts](https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2Host.html) AWS Tools for Windows PowerShell command\.

  774  
  775: **Note**  
  776  If you have recently released Dedicated Hosts, it can take some time for them to stop counting towards your limit\. During this time, you might experience `LimitExceeded` errors when trying to allocate new Dedicated Hosts\. If this is the case, try allocating new hosts again after a few minutes\.
  777  
  778: The instances that were stopped are still available for use and are listed on the **Instances** page\. They retain their `host` tenancy setting\.
  779  

  786  
  787: **To purchase reservations**
  788  

  790  
  791: 1. Choose **Dedicated Hosts**, **Dedicated Host Reservations**, **Purchase Dedicated Host Reservation**\.
  792  
  793: 1. On the **Purchase Dedicated Host Reservation** screen, you can search for available offerings using the default settings, or you can specify custom values for the following:
  794:    + **Host instance family**—The options listed correspond with the Dedicated Hosts in your account that are not already assigned to a reservation\.
  795:    + **Availability Zone**—The Availability Zone of the Dedicated Hosts in your account that aren't already assigned to a reservation\.
  796:    + **Payment option**—The payment option for the offering\.
  797:    + **Term**—The term of the reservation, which can be one or three years\.
  798  
  799: 1. Choose **Find offering** and select an offering that matches your requirements\.
  800  
  801: 1. Choose the Dedicated Hosts to associate with the reservation, and then choose **Review**\.
  802  
  803: 1. Review your order and choose **Order**\.
  804  

  807  
  808: **To purchase reservations**
  809  
  810  1. Use the [describe\-host\-reservation\-offerings](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-host-reservation-offerings.html) AWS CLI command to list the available offerings that match your needs\. The following example lists the offerings that support instances in the `m4` instance family and have a one\-year term\.
  811: **Note**  
  812  The term is specified in seconds\. A one\-year term includes 31,536,000 seconds, and a three\-year term includes 94,608,000 seconds\.

  828  
  829: **To purchase reservations**
  830  
  831  1. Use the [Get\-EC2HostReservationOffering](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2HostReservationOffering.html) AWS Tools for Windows PowerShell command to list the available offerings that match your needs\. The following examples list the offerings that support instances in the `m4` instance family and have a one\-year term\.
  832: **Note**  
  833  The term is specified in seconds\. A one\-year term includes 31,536,000 seconds, and a three\-year term includes 94,608,000 seconds\.

  864  
  865: **To view the details of a Dedicated Host reservation**
  866  

  868  
  869: 1. Choose **Dedicated Hosts** in the navigation pane\.
  870  
  871: 1. On the **Dedicated Hosts** page, choose **Dedicated Host Reservations**, and then select the reservation from the list provided\.
  872  
  873: 1. Choose **Details** for information about the reservation\.
  874  
  875: 1. Choose **Hosts** for information about the Dedicated Hosts with which the reservation is associated\.
  876  

  879  
  880: **To view the details of a Dedicated Host reservation**  
  881  Use the [describe\-host\-reservations](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-host-reservations.html) AWS CLI command\.

  889  
  890: **To view the details of a Dedicated Host reservation**  
  891  Use the [Get\-EC2HostReservation](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2HostReservation.html) AWS Tools for Windows PowerShell command\.

  907  
  908: **To tag a Dedicated Host Reservation**  
  909  Use the [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) AWS CLI command\.

  917  
  918: **To tag a Dedicated Host Reservation**  
  919  Use the [New\-EC2Tag](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Tag.html) AWS Tools for Windows PowerShell command\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/how-spot-fleet-works.md:
  10  
  11: **Topics**
  12  + [Plan a Spot Fleet request](plan-spot-fleet.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/iam-policies-ec2-console.md:
    6  
    7: **Tip**  
    8  To help you work out which API actions are required to perform tasks in the console, you can use a service such as AWS CloudTrail\. For more information, see the [AWS CloudTrail User Guide](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/)\. If your policy does not grant permission to create or modify a specific resource, the console displays an encoded message with diagnostic information\. You can decode the message using the [DecodeAuthorizationMessage](https://docs.aws.amazon.com/STS/latest/APIReference/API_DecodeAuthorizationMessage.html) API action for AWS STS, or the [decode\-authorization\-message](https://docs.aws.amazon.com/cli/latest/reference/sts/decode-authorization-message.html) command in the AWS CLI\.
    9  
   10: **Topics**
   11  + [Read\-only access](#ex-read-only)

   21  
   22: **View instances, AMIs, and snapshots**
   23  

   42  
   43: **Note**  
   44  The Amazon EC2 `ec2:Describe*` API actions do not support resource\-level permissions, so you cannot control which individual resources users can view in the console\. Therefore, the \* wildcard is necessary in the `Resource` element of the above statement\. For more information about which ARNs you can use with which Amazon EC2 API actions, see [Actions, resources, and condition keys for Amazon EC2](https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonec2.html)\.
   45  
   46: **View instances and CloudWatch metrics**
   47  
   48: The following policy allows users to view instances in the Amazon EC2 console, as well as CloudWatch alarms and metrics in the **Monitoring** tab of the **Instances** page\. The Amazon EC2 console uses the CloudWatch API to display the alarms and metrics, so you must grant users permission to use the `cloudwatch:DescribeAlarms` and `cloudwatch:GetMetricStatistics` actions\.
   49  

   69  
   70: **Basic launch wizard access**
   71  

  114  + `ec2:CreateTags`: To tag the resources that are created by `RunInstances`\. For more information, see [Grant permission to tag resources during creation](supported-iam-actions-tagging.md)\. If users do not have permission to use this action and they attempt to apply tags on the tagging page of the launch wizard, the launch fails\.
  115: **Important**  
  116: Specifying a **Name** while launching an instance creates a tag and requires the `ec2:CreateTags` action\. Be careful about granting users permission to use the `ec2:CreateTags` action, because doing so limits your ability to use the `aws:ResourceTag` condition key to restrict their use of other resources\. If you grant users permission to use the `ec2:CreateTags` action, they can change a resource's tag in order to bypass those restrictions\. For more information, see [Control access to EC2 resources using resource tags](control-access-with-tags.md)\.
  117: + To use Systems Manager parameters when selecting an AMI, you must add `ssm:DescribeParameters` and `ssm:GetParameters` to your policy\. `ssm:DescribeParameters` grants your users the permission to view and select Systems Manager parameters\. `ssm:GetParameters` grants your users the permission to get the values of the Systems Manager parameters\. You can also restrict access to specific Systems Manager parameters\. For more information, see **Restrict access to specific Systems Manager parameters** later in this section\.
  118  

  120  
  121: **Restrict access to a specific instance type, subnet, and Region**
  122  

  184  
  185: **Restrict access to specific Systems Manager parameters**
  186  

  215  
  216: Users can attach any volume to instances that have the tag "`purpose=test`", and also detach volumes from those instances\. To attach a volume using the Amazon EC2 console, it is helpful for users to have permission to use the `ec2:DescribeInstances` action, as this allows them to select an instance from a pre\-populated list in the **Attach Volume** dialog box\. However, this also allows users to view all instances on the **Instances** page in the console, so you can omit this action\.
  217  

  261  
  262: **View security groups and add and remove rules**
  263  

  311  
  312: **Work with the Create Security Group dialog box**
  313  
  314: You can create a policy that allows users to work with the **Create Security Group** dialog box in the Amazon EC2 console\. To use this dialog box, users must be granted permission to use at the least the following API actions:
  315  + `ec2:CreateSecurityGroup`: To create a new security group\. 
  316: + `ec2:DescribeVpcs`: To view a list of existing VPCs in the **VPC** list\.
  317  
  318: With these permissions, users can create a new security group successfully, but they cannot add any rules to it\. To work with rules in the **Create Security Group** dialog box, you can add the following API actions to your policy:
  319  + `ec2:AuthorizeSecurityGroupIngress`: To add inbound rules\.
  320  + `ec2:AuthorizeSecurityGroupEgress`: To add outbound rules to VPC security groups\.
  321: + `ec2:RevokeSecurityGroupIngress`: To modify or delete existing inbound rules\. This is useful to allow users to use the **Copy to new** feature in the console\. This feature opens the **Create Security Group** dialog box and populates it with the same rules as the security group that was selected\. 
  322  + `ec2:RevokeSecurityGroupEgress`: To modify or delete outbound rules for VPC security groups\. This is useful to allow users to modify or delete the default outbound rule that allows all outbound traffic\.
  323: + `ec2:DeleteSecurityGroup`: To cater for when invalid rules cannot be saved\. The console first creates the security group, and then adds the specified rules\. If the rules are invalid, the action fails, and the console attempts to delete the security group\. The user remains in the **Create Security Group** dialog box so that they can correct the invalid rule and try to create the security group again\. This API action is not required, but if a user is not granted permission to use it and attempts to create a security group with invalid rules, the security group is created without any rules, and the user must add them afterward\.
  324  + `ec2:UpdateSecurityGroupRuleDescriptionsIngress`: To add or update descriptions of ingress \(inbound\) security group rules\.

  328  
  329: The following policy grants users permission to use the **Create Security Group** dialog box, and to create inbound and outbound rules for security groups that are associated with a specific VPC \(`vpc-1a2b3c4d`\)\. Users can create security groups for EC2\-Classic or another VPC, but they cannot add any rules to them\. Similarly, users cannot add any rules to any existing security group that's not associated with VPC `vpc-1a2b3c4d`\. Users are also granted permission to view all security groups in the console\. This makes it easier for users to identify the security groups to which they can add inbound rules\. This policy also grants users permission to delete security groups that are associated with VPC `vpc-1a2b3c4d`\. 
  330  

  368  + `ec2:AssociateAddress`: To associate an Elastic IP address with an instance or a network interface\.
  369: + `ec2:DescribeNetworkInterfaces` and `ec2:DescribeInstances`: To work with the **Associate address** screen\. The screen displays the available instances or network interfaces to which you can associate an Elastic IP address\.
  370  + `ec2:DisassociateAddress`: To disassociate an Elastic IP address from an instance or a network interface\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/identify_ec2_instances.md:
  14  
  15: **Example : Get the UUID using WMI or Windows PowerShell**  
  16  Use the Windows Management Instrumentation command line \(WMIC\) as follows:  

  40  
  41: **Example : Retrieve the virtual machine generation identifier from Windows**  
  42  You can create a sample application to retrieve the virtual machine generation identifier from your instances running Windows\. For more information, see [Obtaining the virtual machine generation identifier](https://docs.microsoft.com/en-us/windows/win32/hyperv_v2/virtual-machine-generation-identifier#obtaining-the-virtual-machine-generation-identifier) in the Microsoft documentation\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/index.md:
  3  -----
  4: *****Copyright &copy; Amazon Web Services, Inc. and/or its affiliates. All rights reserved.*****
  5  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/install-amd-driver.md:
   6  
   7: **Contents**
   8  + [AMD Radeon Pro Software for Enterprise Driver](#amd-radeon-pro-software-for-enterprise-driver)

  15  
  16: **Supported APIs**
  17  + OpenGL, OpenCL

  32  
  33: **Prerequisites**
  34  + Configure default credentials for the AWS Tools for Windows PowerShell on your Windows instance\. For more information, see [Getting Started with the AWS Tools for Windows PowerShell](https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-started.html) in the *AWS Tools for Windows PowerShell User Guide*\.
  35: + Your user or role must have the permissions granted that contains the **AmazonS3ReadOnlyAccess** policy\. For more information, see [AWS managed policy: AmazonS3ReadOnlyAccess](https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-iam-awsmanpol.html#security-iam-awsmanpol-amazons3readonlyaccess) in the *Amazon Simple Storage Service User Guide*\.
  36  
  37: **To install the AMD driver on your Windows instance**
  38  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/install-nvidia-driver.md:
    6  
    7: **Contents**
    8  + [Types of NVIDIA drivers](#nvidia-driver-types)

   25  
   26: **Configured mode**  
   27  On Windows, the Tesla drivers are configured to run in Tesla Compute Cluster \(TCC\) mode\. The GRID and gaming drivers are configured to run in Windows Display Driver Model \(WDDM\) mode\. In TCC mode, the card is dedicated to compute workloads\. In WDDM mode, the card supports both compute and graphics workloads\.
   28  
   29: **NVIDIA control panel**  
   30  The NVIDIA control panel is supported with GRID and Gaming drivers\. It is not supported with Tesla drivers\.
   31  
   32: **Supported APIs for Tesla drivers**
   33  + OpenCL

   36  
   37: **Supported APIs for GRID and gaming drivers**
   38  + DirectX, Direct2D, DirectX Video Acceleration, DirectX Raytracing

   77  
   78: **To download a public NVIDIA driver**  
   79: Log on to your Windows instance and download the 64\-bit NVIDIA driver appropriate for the instance type from [http://www\.nvidia\.com/Download/Find\.aspx](http://www.nvidia.com/Download/Find.aspx)\. For **Product Type**, **Product Series**, and **Product**, use the options in the following table\.
   80  

   92  
   93: **To install the NVIDIA driver on Windows**
   94  

   96  
   97: 1. Disable the built\-in display adapter using Device Manager\. Install these Windows features: **Media Foundation** and **Quality Windows Audio Video Experience**\.
   98  

  106  
  107: **Prerequisites**
  108  + If you launch your Windows instance using a custom Windows AMI, the AMI must be a standardized image created [using Sysprep](Creating_EBSbacked_WinAMI.md#ami-create-standard) to ensure that the GRID driver works\.
  109  + Configure default credentials for the AWS Tools for Windows PowerShell on your Windows instance\. For more information, see [Getting Started with the AWS Tools for Windows PowerShell](https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-started.html) in the *AWS Tools for Windows PowerShell User Guide*\.
  110: + Your user or role must have the permissions granted that contains the **AmazonS3ReadOnlyAccess** policy\. For more information, see [AWS managed policy: AmazonS3ReadOnlyAccess](https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-iam-awsmanpol.html#security-iam-awsmanpol-amazons3readonlyaccess) in the *Amazon Simple Storage Service User Guide*\.
  111  + G3 instances require AWS provided DNS resolution for GRID licensing to work\.

  113  
  114: **To install the NVIDIA GRID driver on your Windows instance**
  115  

  157  
  158: **Prerequisites**
  159  + If you launch your Windows instance using a custom Windows AMI, the AMI must be a standardized image created [using Sysprep](Creating_EBSbacked_WinAMI.md#ami-create-standard) to ensure that the gaming driver works\.
  160  + Configure default credentials for the AWS Tools for Windows PowerShell on your Windows instance\. For more information, see [Getting Started with the AWS Tools for Windows PowerShell](https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-started.html) in the *AWS Tools for Windows PowerShell User Guide*\.
  161: + Your users or role must have the permissions granted that contains the **AmazonS3ReadOnlyAccess** policy\. For more information, see [AWS managed policy: AmazonS3ReadOnlyAccess](https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-iam-awsmanpol.html#security-iam-awsmanpol-amazons3readonlyaccess) in the *Amazon Simple Storage Service User Guide*\.
  162  + G3 instances require AWS provided DNS resolution for GRID licensing to work\.

  164  
  165: **To install the NVIDIA gaming driver on your Windows instance**
  166: **Note**  
  167  

  205  
  206: **PowerShell**  
  207  Run the following PowerShell command to create this registry value\. The AWS Tools for PowerShell in AWS Windows AMIs defaults to the 32\-bit version and this command fails\. Instead, use the 64\-bit version of PowerShell included with the operating system\.

  212  
  213: **Command Prompt**  
  214  Run the following registry command to create this registry value\. You can run it using the Command Prompt window or a 64\-bit version of PowerShell\.

  232  
  233: **PowerShell**  
  234  Run the following PowerShell command to create this registry value\. The AWS Tools for PowerShell in AWS Windows AMIs defaults to the 32\-bit version and this command fails\. Instead, use the 64\-bit version of PowerShell included with the operating system\.

  239  
  240: **Command Prompt**  
  241  Run the following registry command to create this registry key with the Command Prompt window\. You can also use this command in the 64\-bit version of PowerShell\.

  287  
  288: **To install the CUDA toolkit**
  289  

  293  
  294: 1. For **Installer Type**, select **exe \(local\)** and then choose **Download**\.
  295  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instance-optimize-cpu.md:
   4  
   5: **Note**  
   6  Each vCPU is a thread of a CPU core, except for T2 instances and instances powered by AWS Graviton2 processors\.

   8  In most cases, there is an Amazon EC2 instance type that has a combination of memory and number of vCPUs to suit your workloads\. However, you can specify the following CPU options to optimize your instance for specific workloads or business needs:
   9: + **Number of CPU cores**: You can customize the number of CPU cores for the instance\. You might do this to potentially optimize the licensing costs of your software with an instance that has sufficient amounts of RAM for memory\-intensive workloads but fewer CPU cores\.
  10: + **Threads per core**: You can disable multithreading by specifying a single thread per CPU core\. You might do this for certain workloads, such as high performance computing \(HPC\) workloads\.
  11  

  13  
  14: **Topics**
  15  + [Rules for specifying CPU options](instance-cpu-options-rules.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instance-purchasing-options.md:
   3  Amazon EC2 provides the following purchasing options to enable you to optimize your costs based on your needs:
   4: + **On\-Demand Instances** – Pay, by the second, for the instances that you launch\.
   5: + **Savings Plans** – Reduce your Amazon EC2 costs by making a commitment to a consistent amount of usage, in USD per hour, for a term of 1 or 3 years\.
   6: + **Reserved Instances** – Reduce your Amazon EC2 costs by making a commitment to a consistent instance configuration, including instance type and Region, for a term of 1 or 3 years\.
   7: + **Spot Instances** – Request unused EC2 instances, which can reduce your Amazon EC2 costs significantly\.
   8: + **Dedicated Hosts** – Pay for a physical host that is fully dedicated to running your instances, and bring your existing per\-socket, per\-core, or per\-VM software licenses to reduce costs\.
   9: + **Dedicated Instances** – Pay, by the hour, for instances that run on single\-tenant hardware\.
  10: + **Capacity Reservations** – Reserve capacity for your EC2 instances in a specific Availability Zone for any duration\.
  11  

  15  
  16: **Topics**
  17  + [Determine the instance lifecycle](#check-instance-lifecycle)

  31  
  32: **To determine the instance lifecycle using the console**
  33  

  35  
  36: 1. In the navigation pane, choose **Instances**\.
  37  

  39  
  40: 1. On the **Details** tab, under **Instance details**, find **Lifecycle**\. If the value is `spot`, the instance is a Spot Instance\. If the value is `normal`, the instance is either an On\-Demand Instance or a Reserved Instance\.
  41  
  42: 1. On the **Details** tab, under **Host and placement group**, find **Tenancy**\. If the value is `host`, the instance is running on a Dedicated Host\. If the value is `dedicated`, the instance is a Dedicated Instance\.
  43  

  45  
  46: **To determine the instance lifecycle using the AWS CLI**  
  47  Use the following [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) command:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instance-specify-cpu-options.md:
   20  
   21: **To disable multithreading during instance launch**
   22  

   24  
   25: 1. Expand **Advanced details**, and select the **Specify CPU options** check box\.
   26  
   27: 1. For **Core count**, choose the number of required CPU cores\. In this example, to specify the default CPU core count for an `r4.4xlarge` instance, choose `8`\.
   28  
   29: 1. To disable multithreading, for **Threads per core**, choose **1**\.
   30  
   31: 1. In the **Summary** panel, review your instance configuration, and then choose **Launch instance**\. For more information, see [Launch an instance using the new launch instance wizard](ec2-launch-instance-wizard.md)\.
   32  

   35  
   36: **To disable multithreading during instance launch**
   37  

   39  
   40: 1. On the **Configure Instance Details** page, for **CPU options**, choose **Specify CPU options**\.
   41  
   42: 1. For **Core count**, choose the number of required CPU cores\. In this example, to specify the default CPU core count for an `r4.4xlarge` instance, choose `8`\.
   43  
   44: 1. To disable multithreading, for **Threads per core**, choose **1**\.
   45  
   46: 1. Continue as prompted by the wizard\. When you've finished reviewing your options on the **Review Instance Launch** page, choose **Launch**\. For more information, see [Launch an instance using the old launch instance wizard](launching-instance.md)\.
   47  

   50  
   51: **To disable multithreading during instance launch**  
   52  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) AWS CLI command and specify a value of `1` for `ThreadsPerCore` for the `--cpu-options` parameter\. For `CoreCount`, specify the number of CPU cores\. In this example, to specify the default CPU core count for an `r4.4xlarge` instance, specify a value of `8`\.

   72  
   73: **To specify a custom number of vCPUs during instance launch**
   74  

   76  
   77: 1. Expand **Advanced details**, and select the **Specify CPU options** check box\.
   78  
   79  1. To get six vCPUs, specify three CPU cores and two threads per core, as follows:
   80:    + For **Core count**, choose **3**\.
   81:    + For **Threads per core**, choose **2**\.
   82  
   83: 1. In the **Summary** panel, review your instance configuration, and then choose **Launch instance**\. For more information, see [Launch an instance using the new launch instance wizard](ec2-launch-instance-wizard.md)\.
   84  

   87  
   88: **To specify a custom number of vCPUs during instance launch**
   89  

   91  
   92: 1. On the **Configure Instance Details** page, for **CPU options**, choose **Specify CPU options**\.
   93  
   94  1. To get six vCPUs, specify three CPU cores and two threads per core, as follows:
   95:    + For **Core count**, choose **3**\.
   96:    + For **Threads per core**, choose **2**\.
   97  
   98: 1. Continue as prompted by the wizard\. When you've finished reviewing your options on the **Review Instance Launch** page, choose **Launch**\. For more information, see [Launch an instance using the old launch instance wizard](launching-instance.md)\.
   99  

  102  
  103: **To specify a custom number of vCPUs during instance launch**  
  104  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) AWS CLI command and specify the number of CPU cores and number of threads in the `--cpu-options` parameter\. You can specify three CPU cores and two threads per core to get six vCPUs\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instance-type-boot-mode.md:
  4  
  5: **To determine the supported boot modes of an instance type**  
  6  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-types.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-types.html) command to determine the supported boot modes of an instance type\. By including the `--query` parameter, you can filter the output\. In this example, the output is filtered to return only the supported boot modes\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instance-types.md:
   15  The following are the additional capabilities indicated by the instance type names:
   16: + **a** – AMD processors
   17: + **g** – AWS Graviton processors
   18: + **i** – Intel processors
   19: + **d** – Instance store volumes
   20: + **n** – Network optimization
   21: + **b** – Block storage optimization
   22: + **e** – Extra storage or memory
   23: + **z** – High frequency
   24  
   25: **Topics**
   26  + [Instance type names](#instance-type-names)

   48  
   49: **Topics**
   50  + [General purpose](#current-gp)

  180  
  181: **Intel processor features**  
  182  Amazon EC2 instances that run on Intel processors may include the following features\. Not all of the following processor features are supported by all instance types\. For detailed information about which features are available for each instance type, see [Amazon EC2 Instance Types\.](http://aws.amazon.com/ec2/instance-types/) 
  183: + **Intel AES New Instructions \(AES\-NI\)** — Intel AES\-NI encryption instruction set improves upon the original Advanced Encryption Standard \(AES\) algorithm to provide faster data protection and greater security\. All current generation EC2 instances support this processor feature\.
  184: + **Intel Advanced Vector Extensions \(Intel AVX, Intel AVX2, and Intel AVX\-512\)** — Intel AVX and Intel AVX2 are 256\-bit, and Intel AVX\-512 is a 512\-bit instruction set extension designed for applications that are Floating Point \(FP\) intensive\. Intel AVX instructions improve performance for applications like image and audio/video processing, scientific simulations, financial analytics, and 3D modeling and analysis\. These features are only available on instances launched with HVM AMIs\.
  185: + **Intel Turbo Boost Technology** — Intel Turbo Boost Technology processors automatically run cores faster than the base operating frequency\.
  186: + **Intel Deep Learning Boost \(Intel DL Boost\)** — Accelerates AI deep learning use cases\. The 2nd Gen Intel Xeon Scalable processors extend Intel AVX\-512 with a new Vector Neural Network Instruction \(VNNI/INT8\) that significantly increases deep learning inference performance over previous generation Intel Xeon Scalable processors \(with FP32\) for image recognition/segmentation, object detection, speech recognition, language translation, recommendation systems, reinforcement learning, and more\. VNNI may not be compatible with all Linux distributions\. 
  187  

  199  
  200: **Nitro components**
  201  

  214  The following virtualized instances are built on the Nitro System:
  215: + **General purpose:** M5, M5a, M5ad, M5d, M5dn, M5n, M5zn, M6a, M6i, M6id, M6idn, M6in, T3, and T3a
  216: + **Compute optimized:** C5, C5a, C5ad, C5d, C5n, C6a, C6i, C6id, and C6in
  217: + **Memory optimized:** Hpc6id, R5, R5a, R5ad, R5b, R5d, R5dn, R5n, R6a, R6i, R6idn, R6in, R6id, U\-3tb1, U\-6tb1, U\-9tb1, U\-12tb1, X2idn, X2iedn, X2iezn, and z1d
  218: + **Storage optimized:** D3, D3en, I3en, and I4i
  219: + **Accelerated computing:** G4ad, G4dn, G5, and P3dn
  220  

  223  The following bare metal instances are built on the Nitro System:
  224: + **General purpose:** `m5.metal` \| `m5d.metal` \| `m5dn.metal` \| `m5n.metal` \| `m5zn.metal` \| `m6a.metal` \| `m6i.metal` \| `m6id.metal`
  225: + **Compute optimized:** `c5.metal` \| `c5d.metal` \| `c5n.metal` \| `c6a.metal` \| `c6i.metal` \| `c6id.metal`
  226: + **Memory optimized:** `r5.metal` \| `r5b.metal` \| `r5d.metal` \| `r5dn.metal` \| `r5n.metal` \| `r6a.metal` \| `r6i.metal` \| `r6id.metal` \| `u-6tb1.metal` \| `u-9tb1.metal` \| `u-12tb1.metal` \| `u-18tb1.metal` \| `u-24tb1.metal` \| `x2idn.metal` \| `x2iedn.metal` \| `x2iezn.metal` \| `z1d.metal`
  227: + **Storage optimized:** `i3.metal` \| `i3en.metal` \| `i4i.metal`
  228: + **Accelerated computing:** `g4dn.metal`
  229  
  230: **Learn more**
  231  

  241  
  242: **Networking features**
  243  + IPv6 is supported on all current generation instance types and the C3, R3, and I2 previous generation instance types\.

  251  
  252: **Storage features**
  253  + Some instance types support EBS volumes and instance store volumes, while other instance types support only EBS volumes\. Some instance types that support instance store volumes use solid state drives \(SSD\) to deliver very high random I/O performance\. Some instance types support NVMe instance store volumes\. Some instance types support NVMe EBS volumes\. For more information, see [Amazon EBS and NVMe on Windows instances](nvme-ebs-volumes.md) and [NVMe SSD volumes](ssd-instance-store.md#nvme-ssd-volumes)\.

  259  
  260: **Topics**
  261  + [General purpose](#current-features-gp)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instancedata-add-user-data.md:
  19  
  20: **Note**  
  21  The examples in this section use the IPv4 address of the instance metadata service: `169.254.169.254`\. If you are retrieving instance metadata for EC2 instances over the IPv6 address, ensure that you enable and use the IPv6 address instead: `fd00:ec2::254`\. The IPv6 address of the instance metadata service is compatible with IMDSv2 commands\. The IPv6 address is only accessible on [Instances built on the Nitro System](instance-types.md#ec2-nitro-instances)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/Instances.md:
  10  
  11: **Q\. What instance type best meets my needs?**  
  12  Amazon EC2 provides different instance types to enable you to choose the CPU, memory, storage, and networking capacity that you need to run your applications\. For more information, see [Instance types](instance-types.md)\.
  13  
  14: **Q\. What purchasing option best meets my needs?**  
  15  Amazon EC2 supports On\-Demand Instances \(the default\), Spot Instances, and Reserved Instances\. For more information, see [Instance purchasing options](instance-purchasing-options.md)\.
  16  
  17: **Q\. Can I remotely manage a fleet of EC2 instances *and* machines in my hybrid environment?**  
  18  AWS Systems Manager enables you to remotely and securely manage the configuration of your Amazon EC2 instances, and your on\-premises instances and virtual machines \(VMs\) in hybrid environments, including VMs from other cloud providers\. For more information, see the *[AWS Systems Manager User Guide](https://docs.aws.amazon.com/systems-manager/latest/userguide/)*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/instant-fleet.md:
   7  Instead of using RunInstances to launch Spot Instances, we recommend that you rather use the CreateFleet API with the `type` parameter set to `instant` for the following benefits: 
   8: + **Launch On\-Demand Instances and Spot Instances in one request\.** An EC2 Fleet can launch On\-Demand Instances, Spot Instances, or both\. The request for Spot Instances is fulfilled if there is available capacity and the maximum price per hour for your request exceeds the Spot price\.
   9: + **Increase the availability of Spot Instances\.** By using an EC2 Fleet of type `instant`, you can launch Spot Instances following [ Spot best practices](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-best-practices.html) with the resulting benefits:
  10:   + **Spot best practice: Be flexible about instance types and Availability Zones\.**
  11  
  12      Benefit: By specifying several instance types and Availability Zones, you increase the number of Spot capacity pools\. This gives the Spot service a better chance of finding and allocating your desired Spot compute capacity\. A good rule of thumb is to be flexible across at least 10 instance types for each workload and make sure that all Availability Zones are configured for use in your VPC\.
  13:   + **Spot best practice: Use the capacity\-optimized allocation strategy\.**
  14  
  15      Benefit: The `capacity-optimized` allocation strategy automatically provisions instances from the most\-available Spot capacity pools\. Because your Spot Instance capacity is sourced from pools with optimal capacity, this decreases the possibility that your Spot Instances will be interrupted when Amazon EC2 needs the capacity back\.
  16: + **Get access to a wider set of capabilities\.** For workloads that need a launch\-only API, and where you prefer to manage the lifecycle of your instance rather than let EC2 Fleet manage it for you, use the EC2 Fleet of type `instant` instead of the [RunInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) API\. EC2 Fleet provides a wider set of capabilities than RunInstances, as demonstrated in the following examples\. For all other workloads, you should use Amazon EC2 Auto Scaling because it supplies a more comprehensive feature set for a wide variety of workloads, like ELB\-backed applications, containerized workloads, and queue processing jobs\.
  17  

  43  
  44: **Topics**
  45  + [Example 1: Launch Spot Instances with the capacity\-optimized allocation strategy](#instant-fleet-example-1)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/interface-vpc-endpoints.md:
   6  
   7: **Topics**
   8  + [Create an interface VPC endpoint](#create-endpoint)

  13  Create an interface endpoint for Amazon EC2 using the following service name:
  14: + **com\.amazonaws\.*region*\.ec2** — Creates an endpoint for the Amazon EC2 API actions\.
  15  

  26  
  27: **Important**  
  28  When a non\-default policy is applied to an interface VPC endpoint for Amazon EC2, certain failed API requests, such as those failing from `RequestLimitExceeded`, might not be logged to AWS CloudTrail or Amazon CloudWatch\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/interruption-behavior.md:
  12  The way in which you specify the interruption behavior is different depending on how you request Spot Instances\.
  13: + If you request Spot Instances using the [launch instance wizard](ec2-launch-instance-wizard.md), you can specify the interruption behavior as follows: From **Request type**, choose **Persistent** \(new console\) or select the **Persistent request** check box \(old console\) and then, from **Interruption behavior**, choose an interruption behavior\.
  14: + If you request Spot Instances using the [Spot console](work-with-spot-fleets.md#create-spot-fleet), you can specify the interruption behavior as follows: Select the **Maintain target capacity** check box and then, from **Interruption behavior**, choose an interruption behavior\.
  15: + If you configure Spot Instances in a [launch template](create-launch-template.md), you can specify the interruption behavior as follows: In the launch template, expand **Advanced details** and select the **Request Spot Instances** check box\. Choose **Customize** and then, from **Interruption behavior**, choose an interruption behavior\.
  16  + If you configure Spot Instances in the request configuration when using the [create\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html) CLI, you can specify the interruption behavior as follows: For `InstanceInterruptionBehavior`, specify an interruption behavior\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/launch-instances-from-launch-template.md:
    4  
    5: **Topics**
    6  + [Launch an instance from a launch template](#launch-instance-from-launch-template)

   19  
   20: **To launch an instance from a launch template using the console**
   21  

   23  
   24: 1. In the navigation pane, choose **Launch Templates**\.
   25  
   26: 1. Select the launch template and choose **Actions**, **Launch instance from template**\.
   27  
   28: 1. For **Source template version**, select the launch template version to use\.
   29  
   30: 1. For **Number of instances**, specify the number of instances to launch\.
   31  
   32: 1. \(Optional\) You can override or add launch template parameters by changing and adding parameters in the **Instance details** section\.
   33  
   34: 1. Choose **Launch instance from template**\.
   35  

   38  
   39: **To launch an instance from a launch template using the AWS CLI**
   40  + Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) command and specify the `--launch-template` parameter\. Optionally specify the launch template version to use\. If you don't specify the version, the default version is used\.

   80  
   81: **To create a launch template to use with Auto Scaling using the console**
   82  

   84  
   85: 1. In the navigation pane, choose **Launch Templates**, and then choose **Create launch template**\.
   86  
   87: 1. For **Launch template name**, enter a descriptive name for the launch template\.
   88  
   89: 1. For **Template version description**, provide a brief description of this version of the launch template\.
   90  
   91: 1. Under **Auto Scaling guidance**, select the check box to have Amazon EC2 provide guidance to help create a template to use with Auto Scaling\.
   92  

   94  
   95: 1. Choose **Create launch template**\.
   96  
   97: 1. \(Optional\) To create an Auto Scaling group using this launch template, on the **Next steps** page, choose **Create Auto Scaling group**\.
   98  
   99: **To create or update an Amazon EC2 Auto Scaling group with a launch template using the AWS CLI**
  100  + Use the [create\-auto\-scaling\-group](https://docs.aws.amazon.com/cli/latest/reference/autoscaling/create-auto-scaling-group.html) or the [update\-auto\-scaling\-group](https://docs.aws.amazon.com/cli/latest/reference/autoscaling/update-auto-scaling-group.html) command and specify the `--launch-template` parameter\.

  107  
  108: **To create an EC2 Fleet with a launch template using the AWS CLI**
  109  + Use the [create\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html) command\. Use the `--launch-template-configs` parameter to specify the launch template and any overrides for the launch template\.

  116  
  117: **To create a Spot Fleet request with a launch template using the console**
  118  

  120  
  121: 1. In the navigation pane, choose **Spot Requests**, and then choose **Request Spot Instances**\.
  122  
  123: 1. Under **Launch parameters**, choose **Use a launch template**\.
  124  
  125: 1. For **Launch template**, choose a launch template, and then, from the field to the right, choose the launch template version\.
  126  

  128  
  129: 1. When you're ready to create your Spot Fleet, choose **Launch**\.
  130  
  131: **To create a Spot Fleet request with a launch template using the AWS CLI**
  132  + Use the [request\-spot\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/request-spot-fleet.html) command\. Use the `LaunchTemplateConfigs` parameter to specify the launch template and any overrides for the launch template\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/launch-marketplace-console.md:
   7  
   8: **To launch an instance from the AWS Marketplace using the launch wizard**
   9  

  11  
  12: 1. From the Amazon EC2 console dashboard, choose **Launch instance**\.
  13  
  14: 1. \(Optional\) Under **Name and tags**, for **Name**, enter a descriptive name for your instance\.
  15  
  16: 1. Under **Application and OS Images \(Amazon Machine Image\)**, choose **Browse more AMIs**, and then choose the **AWS Marketplace AMIs** tab\. Find a suitable AMI by browsing the categories or using the search functionality\. To choose a product, choose **Select**\.
  17  
  18: 1. A dialog box opens with an overview of the product you've selected\. You can view the pricing information, as well as any other information that the vendor has provided\. When you're ready, choose **Continue**\.
  19: **Note**  
  20  You're not charged for using the product until you have launched an instance with the AMI\. Take note of the pricing for each supported instance type when you select an instance type\. Additional taxes might also apply to the product\.
  21  
  22: 1. For **Instance type**, select an instance type for your instance\. The instance type defines the hardware configuration and size of the instance to launch\.
  23  
  24: 1. Under **Key pair \(login\)**, for **Key pair name**, choose an existing key pair or create a new one\.
  25  
  26: 1. Under **Network settings**, **Firewall \(security groups\)**, take note of the new security group that was created according to the vendor's specifications for the product\. The security group might include rules that allow all IPv4 addresses \(`0.0.0.0/0`\) access on SSH \(port 22\) on Linux or RDP \(port 3389\) on Windows\. We recommend that you adjust these rules to allow only a specific address or range of addresses to access your instance over those ports\.
  27  

  29  
  30: 1. In the **Summary** panel, under **Software Image \(AMI\)**, check the details of the AMI from which you're about to launch the instance\. Also check the other configuration details that you specified\. When you're ready to launch your instance, choose **Launch instance**\.
  31  
  32: 1. Depending on the product you've subscribed to, the instance might take a few minutes or more to launch\. You are first subscribed to the product before your instance can launch\. If there are any problems with your credit card details, you will be asked to update your account details\. When the launch confirmation page displays, choose **View all instances** to go to the **Instances** page\. 
  33: **Note**  
  34  You are charged the subscription price as long as your instance is in the `running` state, even if it is idle\. If your instance is stopped, you might still be charged for storage\.
  35  
  36: 1. When your instance is in the `running` state, you can connect to it\. To do this, select your instance in the list, choose **Connect**, and choose a connection option\. For more information about connecting to your instance, see [Connect to your Windows instance](connecting_to_windows_instance.md)\.
  37: **Important**  
  38  Check the vendor's usage instructions carefully, as you might need to use a specific user name to connect to your instance\. For information about accessing your subscription details, see [Manage your AWS Marketplace subscriptions](paid-amis.md#marketplace-manage-subscriptions)\.

  44  
  45: **To launch an instance from the AWS Marketplace using the launch wizard**
  46  

  48  
  49: 1. From the Amazon EC2 dashboard, choose **Launch instance**\.
  50  
  51: 1. On the **Choose an Amazon Machine Image \(AMI\)** page, choose the **AWS Marketplace** category on the left\. Find a suitable AMI by browsing the categories, or using the search functionality\. Choose **Select** to choose your product\.
  52  
  53: 1. A dialog displays an overview of the product you've selected\. You can view the pricing information, as well as any other information that the vendor has provided\. When you're ready, choose **Continue**\.
  54: **Note**  
  55  You are not charged for using the product until you have launched an instance with the AMI\. Take note of the pricing for each supported instance type, as you will be prompted to select an instance type on the next page of the wizard\. Additional taxes may also apply to the product\.
  56  
  57: 1. On the **Choose an Instance Type** page, select the hardware configuration and size of the instance to launch\. When you're done, choose **Next: Configure Instance Details**\.
  58  
  59: 1. On the next pages of the wizard, you can configure your instance, add storage, and add tags\. For more information about the different options you can configure, see [Launch an instance using the old launch instance wizard](launching-instance.md)\. Choose **Next** until you reach the **Configure Security Group** page\. 
  60  

  62  
  63:    When you are ready, choose **Review and Launch**\.
  64  
  65: 1. On the **Review Instance Launch** page, check the details of the AMI from which you're about to launch the instance, as well as the other configuration details you set up in the wizard\. When you're ready, choose **Launch** to select or create a key pair, and launch your instance\.
  66  
  67: 1. Depending on the product you've subscribed to, the instance may take a few minutes or more to launch\. You are first subscribed to the product before your instance can launch\. If there are any problems with your credit card details, you will be asked to update your account details\. When the launch confirmation page displays, choose **View Instances** to go to the Instances page\. 
  68: **Note**  
  69  You are charged the subscription price as long as your instance is running, even if it is idle\. If your instance is stopped, you may still be charged for storage\.
  70  
  71: 1. When your instance is in the `running` state, you can connect to it\. To do this, select your instance in the list and choose **Connect**\. Follow the instructions in the dialog\. For more information about connecting to your instance, see [Connect to your Windows instance](connecting_to_windows_instance.md)\.
  72: **Important**  
  73  Check the vendor's usage instructions carefully, as you may need to use a specific user name to log in to the instance\. For more information about accessing your subscription details, see [Manage your AWS Marketplace subscriptions](paid-amis.md#marketplace-manage-subscriptions)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/launch-more-like-this.md:
   2  
   3: The Amazon EC2 console provides a **Launch more like this** option that enables you to use a current instance as a base for launching other instances\. This option automatically populates the Amazon EC2 launch instance wizard with certain configuration details from the selected instance\. 
   4  
   5: **Note**  
   6: The **Launch more like this** option does not clone your selected instance; it only replicates some configuration details\. To create a copy of your instance, first create an AMI from it, then launch more instances from the AMI\.  
   7  Alternatively, create a [launch template](ec2-launch-templates.md) to store the launch parameters for your instances\.

  30  
  31: **To use your current instance as a template**
  32  

  34  
  35: 1. In the navigation pane, choose **Instances**\.
  36  
  37: 1. Select the instance you want to use, and then choose **Actions**, **Images and templates**, **Launch more like this**\.
  38  

  40  
  41:    When you are ready to launch your instance, choose **Launch instance**\.
  42  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/launch-template-restrictions.md:
  3  The following rules apply to launch templates and launch template versions:
  4: + **Quotas** – You are limited to creating 5,000 launch templates per Region and 10,000 versions per launch template\.
  5: + **Parameters are optional** – Launch template parameters are optional\. However, you must ensure that your request to launch an instance includes all the required parameters\. For example, if your launch template does not include an AMI ID, you must specify both the launch template and an AMI ID when you launch an instance\.
  6: + **Parameters not validated** – Launch template parameters are not fully validated when you create the launch template\. If you specify incorrect values for parameters, or if you do not use supported parameter combinations, no instances can launch using this launch template\. Ensure that you specify the correct values for the parameters and that you use supported parameter combinations\. For example, to launch an instance in a placement group, you must specify a supported instance type\.
  7: + **Tags** – You can tag a launch template, but you cannot tag a launch template version\.
  8: + **Immutable** – Launch templates are immutable\. To modify a launch template, you must create a new version of the launch template\.
  9: + **Version numbers** – Launch template versions are numbered in the order in which they are created\. When you create a launch template version, you cannot specify the version number yourself\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/LaunchingAndUsingInstances.md:
  21  
  22: **Note**  
  23  To launch an EC2 instance into an IPv6\-only subnet, you must use [Instances built on the Nitro System](instance-types.md#ec2-nitro-instances)\.
  24  
  25: **Note**  
  26  When launching an IPv6\-only instance, it is possible that DHCPv6 may not immediately provide the instance with the IPv6 DNS name server\. During this initial delay, the instance may not be able to resolve public domains\.   

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/logging-ebs-apis-using-cloudtrail.md:
   2  
   3: ⟪ 292 characters skipped ⟫ivery of CloudTrail events to an Amazon Simple Storage Service \(Amazon S3\) bucket\. If you don't configure a trail, you can still view the most recent management events in the CloudTrail console in **Event history**\. Data events are not captured in Event history\. You can use the information collected by CloudTrail to determine the request that was made to EBS direct APIs, the IP address from which the request was made, who made the request, when it was made, and additional details\.
   4  

   8  
   9: CloudTrail is enabled on your AWS account when you create the account\. When supported event activity occurs in EBS direct APIs, that activity is recorded in a CloudTrail event along with other AWS service events in **Event history**\. You can view, search, and download recent events in your AWS account\. For more information, see [Viewing Events with CloudTrail Event History](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html)\.
  10  

  19  For EBS direct APIs, you can use CloudTrail to log two types of events:
  20: + **Management events** — Management events provide visibility into management operations that are performed on snapshots in your AWS account\. The following API actions are logged by default as management events in trails:
  21    + [ StartSnapshot](https://docs.aws.amazon.com/ebs/latest/APIReference/API_StartSnapshot.html)

  24    For more information about logging management events, see [Logging management events for trails](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-management-events-with-cloudtrail.html) in the *CloudTrail User Guide*\.
  25: + **Data events** — These events provide visibility into the snapshot operations performed on or within a snapshot\. The following API actions can optionally be logged as data events in trails:
  26    + [ListSnapshotBlocks](https://docs.aws.amazon.com/ebs/latest/APIReference/API_ListSnapshotBlocks.html)

  31    Data events are not logged by default when you create a trail\. You can use only *advanced event selectors* to record data events on EBS direct API calls\. For more information, see [ Logging data events for trails](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-data-events-with-cloudtrail.html) in the *CloudTrail User Guide*\.
  32: **Note**  
  33  If you perform an action on a snapshot that is shared with you, data events are not sent to the AWS account that owns the snapshot\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/manage-ec2-fleet.md:
   10  
   11: **Topics**
   12  + [EC2 Fleet request states](#EC2-fleet-states)

   49  
   50: **Topics**
   51  + [Launch template](#ec2-fleet-prerequisites-launch-template)

   72  
   73: **Note**  
   74  An `instant` EC2 Fleet does not require this role\.

   77  
   78: **To create the AWSServiceRoleForEC2Fleet role for EC2 Fleet**
   79  

   81  
   82: 1. In the navigation pane, choose **Roles**, and then choose **Create role**\.
   83  
   84: 1. For **Select type of trusted entity**, choose **AWS service**\.
   85  
   86: 1. For **Choose the service that will use this role**, choose **EC2 \- Fleet**, and then choose **Next: Permissions**, **Next: Tags**, and **Next: Review**\.
   87  
   88: 1. On the **Review** page, choose **Create role**\.
   89  
   90: If you no longer need to use EC2 Fleet, we recommend that you delete the **AWSServiceRoleForEC2Fleet** role\. After this role is deleted from your account, you can create the role again if you create another fleet\.
   91  

   95  
   96: If you specify an [encrypted AMI](AMIEncryption.md) or an [encrypted Amazon EBS snapshot](EBSEncryption.md) in your EC2 Fleet and you use an AWS KMS key for encryption, you must grant the **AWSServiceRoleForEC2Fleet** role permission to use the customer managed key so that Amazon EC2 can launch instances on your behalf\. To do this, you must add a grant to the customer managed key, as shown in the following procedure\.
   97  

   99  
  100: **To grant the AWSServiceRoleForEC2Fleet role permissions to use the customer managed key**
  101: + Use the [create\-grant](https://docs.aws.amazon.com/cli/latest/reference/kms/create-grant.html) command to add a grant to the customer managed key and to specify the principal \(the **AWSServiceRoleForEC2Fleet** service\-linked role\) that is given permission to perform the operations that the grant permits\. The customer managed key is specified by the `key-id` parameter and the ARN of the customer managed key\. The principal is specified by the `grantee-principal` parameter and the ARN of the **AWSServiceRoleForEC2Fleet** service\-linked role\.
  102  

  114  
  115: **To create a policy for EC2 Fleet**
  116  

  118  
  119: 1. In the navigation pane, choose **Policies**\.
  120  
  121: 1. Choose **Create policy**\.
  122  
  123: 1. On the **Create policy** page, choose the **JSON** tab, replace the text with the following, and choose **Review policy**\.
  124  

  160  
  161: 1. On the **Review policy** page, enter a policy name and description, and choose **Create policy**\.
  162  

  181  
  182: **Requirements**
  183  + Health check replacement is supported only for EC2 Fleets that maintain a target capacity \(fleets of type `maintain`\), and not for fleets of type `request` or `instant`\.

  187  
  188: **To configure an EC2 Fleet to replace unhealthy Spot Instances**
  189  

  197  
  198: **To generate a JSON file with all possible EC2 Fleet parameters using the command line**
  199  + Use the [create\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html) \(AWS CLI\) command and the `--generate-cli-skeleton` parameter to generate an EC2 Fleet JSON file, and direct the output to a file to save it\.

  368  
  369: **To create an EC2 Fleet \(AWS CLI\)**
  370  + Use the [create\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html) \(AWS CLI\) command to create an EC2 Fleet and specify the JSON file that contains the fleet configuration parameters\.

  521  
  522: **Note**  
  523  For `instant` fleet types, you can tag volumes that are attached to On\-Demand Instances and Spot Instances\. For `request` or `maintain` fleet types, you can only tag volumes that are attached to On\-Demand Instances\.

  526  
  527: **Prerequisite**
  528  

  530  
  531: **To grant a user the permission to tag resources**  
  532  Create a IAM policy that includes the following:

  551  
  552: **Important**  
  553  We currently do not support resource\-level permissions for the `create-fleet` resource\. If you specify `create-fleet` as a resource, you will get an unauthorized exception when you try to tag the fleet\. The following example illustrates how *not* to set the policy\.   

  576  
  577: **To tag a new EC2 Fleet request**  
  578  To tag an EC2 Fleet request when you create it, specify the key\-value pair in the [JSON file](#ec2-fleet-cli-skeleton) used to create the fleet\. The value for `ResourceType` must be `fleet`\. If you specify another value, the fleet request fails\.
  579  
  580: **To tag instances and volumes launched by an EC2 Fleet**  
  581  To tag instances and volumes when they are launched by the fleet, specify the tags in the [launch template](create-launch-template.md) that is referenced in the EC2 Fleet request\.
  582  
  583: **Note**  
  584  You can't tag volumes attached to Spot Instances that are launched by a `request` or `maintain` fleet type\.
  585  
  586: **To tag an existing EC2 Fleet request, instance, and volume \(AWS CLI\)**  
  587  Use the [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) command to tag existing resources\.

  598  
  599: **To describe your EC2 Fleets \(AWS CLI\)**  
  600  Use the [describe\-fleets](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-fleets.html) command to describe your EC2 Fleets\.

  605  
  606: **Important**  
  607  If a fleet is of type `instant`, you must specify the fleet ID, otherwise it does not appear in the response\. Include `--fleet-ids` as follows:  

  758  
  759: **To modify an EC2 Fleet \(AWS CLI\)**  
  760  Use the [modify\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-fleet.html) command to update the target capacity of the specified EC2 Fleet\.

  784  
  785: **Restrictions**
  786  + You can delete up to 25 `instant` fleets in a single request\. If you exceed this number, no `instant` fleets are deleted and an error is returned\. There is no restriction on the number of fleets of type `maintain` or `request` that can be deleted in a single request\.

  788  
  789: **To delete an EC2 Fleet and terminate its instances \(AWS CLI\)**  
  790  Use the [delete\-fleets](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-fleets.html) command and the `--terminate-instances` parameter to delete the specified EC2 Fleet and terminate its associated instances\.

  812  
  813: **To delete an EC2 Fleet without terminating its instances \(AWS CLI\)**  
  814  You can modify the previous command using the `--no-terminate-instances` parameter to delete the specified EC2 Fleet without terminating its associated instances\.
  815  
  816: **Note**  
  817  `--no-terminate-instances` is not supported for `instant` fleets\.

  852  
  853: **Troubleshooting `ExceededInstantFleetNumForDeletion`**  
  854  If you try to delete more than 25 `instant` fleets in a single request, the `ExceededInstantFleetNumForDeletion` error is returned\. The following is example output for this error\.

  880  
  881: **Troubleshoot `NoTerminateInstancesNotSupported`**  
  882  If you specify that the instances in an `instant` fleet must not be terminated when you delete the fleet, the `NoTerminateInstancesNotSupported` error is returned\. `--no-terminate-instances` is not supported for `instant` fleets\. The following is example output for this error\.

  897  
  898: **Troubleshoot `UnauthorizedOperation`**  
  899  If you do not have permission to terminate instances, you get the `UnauthorizedOperation` error when deleting a fleet that must terminate its instances\. The following is the error response\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/managed-policies.md:
   8  
   9: The following are the AWS managed policies that Amazon Data Lifecycle Manager provides\. You can also find these AWS managed policies in the **Policies** section of the IAM console\.
  10  

  13  
  14: The **AWSDataLifecycleManagerServiceRole** policy provides appropriate permissions to Amazon Data Lifecycle Manager to create and manage Amazon EBS snapshot policies and cross\-account copy event policies\.
  15  

  67  
  68: The **AWSDataLifecycleManagerServiceRoleForAMIManagement** policy provides appropriate permissions to Amazon Data Lifecycle Manager to create and manage Amazon EBS\-backed AMI policies\.
  69  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/modify-volume-requirements.md:
   4  
   5: **Topics**
   6  + [Supported instance types](#instance-support)

  19  
  20: By default, Windows initializes volumes with a Master Boot Record \(MBR\) partition table\. Because MBR supports only volumes smaller than 2 TiB \(2,048 GiB\), Windows prevents you from resizing MBR volumes beyond this limit\. In such a case, the **Extend Volume** option is disabled in the Windows **Disk Management** utility\. If you use the AWS Management Console or AWS CLI to create an MBR\-partitioned volume that exceeds the size limit, Windows cannot detect or use the additional space\. For requirements affecting Linux volumes, see [Requirements for Linux volumes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/volume_constraints.html) in the *Amazon EC2 User Guide for Linux Instances*\.
  21  

  23  
  24: **To create a GPT volume**
  25  
  26  1. Create a new, empty volume of the desired size in the Availability Zone of the EC2 instance and attach it to your instance\. 
  27: **Note**  
  28  The new volume must not be a volume restored from a snapshot\.
  29  
  30: 1. Log in to your Windows system and open **Disk Management** \(diskmgmt\.exe\)\. 
  31  
  32: 1. Open the context \(right\-click\) menu for the new disk and choose **Online**\.
  33  
  34: 1. In the **Initialize Disk** window, select the new disk and choose **GPT \(GUID Partition Table\)**, **OK**\.
  35  

  37  
  38: 1. In **Disk Management**, change the drive letters to appropriate values and take the old volume offline\.
  39  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitor-ami-events.md:
   20  
   21: **Topics**
   22  + [AMI events](#ami-events)

   26  
   27: **There are three `EC2 AMI State Change` events:**
   28  + [`available`](#ami-event-available)

  148  
  149: **To create an EventBridge rule to send a notification when an AMI is created and in the `available` state**
  150  

  152  
  153: 1. Choose **Create rule**\.
  154  
  155: 1. For **Define rule detail**, do the following:
  156  
  157:    1. Enter a **Name** for the rule, and, optionally, a description\.
  158  

  160  
  161:    1. For **Event bus**, choose **default**\. When an AWS service in your account generates an event, it always goes to your account's default event bus\.
  162  
  163:    1. For **Rule type**, choose **Rule with an event pattern**\.
  164  
  165:    1. Choose **Next**\.
  166  
  167: 1. For **Build event pattern**, do the following:
  168  
  169:    1. For **Event source**, choose **AWS events or EventBridge partner events**\.
  170  
  171:    1. For **Event pattern**, for this example you’ll specify the following event pattern to match any `EC2 AMI State Change` event that is generated when an AMI enters the `available` state:
  172  

  180  
  181:       To add the event pattern, you can either use a template by choosing **Event pattern form**, or specify your own pattern by choosing **Custom pattern \(JSON editor\)**, as follows:
  182  

  184  
  185:          1. Choose **Event pattern form**\.
  186  
  187:          1. For **Event source**, choose **AWS services**\.
  188  
  189:          1. For **AWS Service**, choose **EC2**\.
  190  
  191:          1. For **Event type**, choose **EC2 AMI State Change**\.
  192  
  193:          1. To customize the template, choose **Edit pattern** and make your changes to match the example event pattern\.
  194  

  196  
  197:          1. Choose **Custom pattern \(JSON editor\)**\.
  198  
  199:          1. In the **Event pattern** box, add the event pattern for this example\.
  200  
  201:    1. Choose **Next**\.
  202  
  203: 1. For **Select target\(s\)**, do the following:
  204  
  205:    1. For **Target types**, choose **AWS service**\.
  206  
  207:    1. For **Select a target**, choose **SNS topic** to send an email, text message, or mobile push notification when the event occurs\.
  208  
  209:    1. For **Topic**, choose an existing topic\. You first need to create an Amazon SNS topic using the Amazon SNS console\. For more information, see [Using Amazon SNS for application\-to\-person \(A2P\) messaging](https://docs.aws.amazon.com/sns/latest/dg/sns-user-notifications.html) in the *Amazon Simple Notification Service Developer Guide*\.
  210  
  211:    1. \(Optional\) Under **Additional settings**, you can optionally configure additional settings\. For more information, see [Creating Amazon EventBridge rules that react to events](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-create-rule.html) \(step 16\) in the *Amazon EventBridge User Guide*\.
  212  
  213:    1. Choose **Next**\.
  214  
  215: 1. \(Optional\) For **Tags**, you can optionally assign one or more tags to your rule, and then choose **Next**\.
  216  
  217: 1. For **Review and create**, do the following:
  218  

  220  
  221:    1. Choose **Create rule**\.
  222  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitor-cloudwatch-events.md:
  6  
  7: **Note**  
  8  No events are emitted for AMI lifecycle policy actions\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitoring_automated_manual.md:
   4  
   5: **Topics**
   6  + [Automated monitoring tools](#monitoring_automated_tools)

  11  You can use the following automated monitoring tools to watch Amazon EC2 and report back to you when something is wrong:
  12: + **System status checks** – monitor the AWS systems required to use your instance to ensure that they are working properly\. These checks detect problems with your instance that require AWS involvement to repair\. When a system status check fails, you can choose to wait for AWS to fix the issue or you can resolve it yourself \(for example, by stopping and restarting or terminating and replacing an instance\)\. Examples of problems that cause system status checks to fail include:
  13    + Loss of network connectivity

  18    For more information, see [Status checks for your instances](monitoring-system-instance-status-check.md)\.
  19: + **Instance status checks** – monitor the software and network configuration of your individual instance\. These checks detect problems that require your involvement to repair\. When an instance status check fails, typically you will need to address the problem yourself \(for example, by rebooting the instance or by making modifications in your operating system\)\. Examples of problems that may cause instance status checks to fail include:
  20    + Failed system status checks

  26    For more information, see [Status checks for your instances](monitoring-system-instance-status-check.md)\.
  27: + **Amazon CloudWatch alarms** – watch a single metric over a time period you specify, and perform one or more actions based on the value of the metric relative to a given threshold over a number of time periods\. The action is a notification sent to an Amazon Simple Notification Service \(Amazon SNS\) topic or Amazon EC2 Auto Scaling policy\. Alarms invoke actions for sustained state changes only\. CloudWatch alarms will not invoke actions simply because they are in a particular state; the state must have changed and been maintained for a specified number of periods\. For more information, see [Monitor your instances using CloudWatch](using-cloudwatch.md)\.
  28: + **Amazon EventBridge** – automate your AWS services and respond automatically to system events\. Events from AWS services are delivered to EventBridge in near real time, and you can specify automated actions to take when an event matches a rule you write\. For more information, see [What is Amazon EventBridge?](https://docs.aws.amazon.com/eventbridge/latest/userguide/what-is-amazon-eventbridge.html)\.
  29: + **Amazon CloudWatch Logs** – monitor, store, and access your log files from Amazon EC2 instances, AWS CloudTrail, or other sources\. For more information, see the [Amazon CloudWatch Logs User Guide](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/)\.
  30: + **CloudWatch agent** – collect logs and system\-level metrics from both hosts and guests on your EC2 instances and on\-premises servers\. For more information, see [Collecting Metrics and Logs from Amazon EC2 Instances and On\-Premises Servers with the CloudWatch Agent](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html) in the *Amazon CloudWatch User Guide*\.
  31: + **AWS Management Pack for Microsoft System Center Operations Manager** – links Amazon EC2 instances and the Windows or Linux operating systems running inside them\. The AWS Management Pack is an extension to Microsoft System Center Operations Manager\. It uses a designated computer in your datacenter \(called a watcher node\) and the Amazon Web Services APIs to remotely discover and collect information about your AWS resources\. For more information, see [AWS Management Pack for Microsoft System Center](AWSManagementPack.md)\.
  32  

  40    + Alarm status
  41:   + Instance metric details \(In the navigation pane choose **Instances**, select an instance, and choose the **Monitoring** tab\)
  42:   + Volume metric details \(In the navigation pane choose **Volumes**, select a volume, and choose the **Monitoring** tab\)
  43  + Amazon CloudWatch Dashboard shows:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitoring_get_statistics.md:
  4  
  5: **Topics**
  6  + [Statistics overview](#overview-statistics)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitoring-instances-status-check_sched.md:
    8  
    9: **Note**  
   10  When an instance is affected by a scheduled event, and it is part of an Auto Scaling group, Amazon EC2 Auto Scaling eventually replaces it as part of its health checks, with no further action necessary on your part\. For more information about the health checks performed by Amazon EC2 Auto Scaling, see [Health checks for Auto Scaling instances](https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-health-checks.html) in the *Amazon EC2 Auto Scaling User Guide*\.
   11  
   12: **Topics**
   13  + [Types of scheduled events](#types-of-scheduled-events)

   24  Amazon EC2 can create the following types of events for your instances, where the event occurs at a scheduled time:
   25: + **Instance stop**: At the scheduled time, the instance is stopped\. When you start it again, it's migrated to a new host\. Applies only to instances backed by Amazon EBS\.
   26: + **Instance retirement**: At the scheduled time, the instance is stopped if it is backed by Amazon EBS, or terminated if it is backed by instance store\.
   27: + **Instance reboot**: At the scheduled time, the instance is rebooted\.
   28: + **System reboot**: At the scheduled time, the host for the instance is rebooted\.
   29: + **System maintenance**: At the scheduled time, the instance might be temporarily affected by network maintenance or power maintenance\.
   30  

   37  
   38: **To view scheduled events for your instances using the console**
   39  

   42  1. You can view scheduled events in the following screens:
   43:    + In the navigation pane, choose **Events**\. Any resources with an associated event are displayed\. You can filter by **Resource ID**, **Resource type**, **Availability zone**, **Event status**, or **Event type**\.  
   44  ![\[Viewing events using the Events page.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/events-instance-scheduled-stop.png)
   45:    + Alternatively, in the navigation pane, choose **EC2 Dashboard**\. Any resources with an associated event are displayed under **Scheduled events**\.  
   46  ![\[Viewing events using the dashboard.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/dashboard-scheduled-events.png)

   50  
   51: **To view scheduled events for your instances using the console**
   52  

   55  1. You can view scheduled events in the following screens:
   56:    + In the navigation pane, choose **Events**\. Any resources with an associated event are displayed\. You can filter by resource type, or by specific event types\. You can select the resource to view details\.  
   57  ![\[Viewing events using the Events page.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/events-instance-stop.png)
   58:    + Alternatively, in the navigation pane, choose **EC2 Dashboard**\. Any resources with an associated event are displayed under **Scheduled Events**\.  
   59  ![\[Viewing events using the dashboard.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/dashboard-scheduled-events-old.png)
   60:    + Some events are also shown for affected resources\. For example, in the navigation pane, choose **Instances** and select an instance\. If the instance has an associated instance stop or instance retirement event, it is displayed in the lower pane\.  
   61  ![\[Viewing events in the instance details.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/event-instance-retirement-old.png)

   65  
   66: **To view scheduled events for your instances using the AWS CLI**  
   67  Use the [describe\-instance\-status](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-status.html) command\.

  110  
  111: **To view scheduled events for your instances using the AWS Tools for Windows PowerShell**  
  112  Use the following [Get\-EC2InstanceStatus](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2InstanceStatus.html) command\.

  128  
  129: **To view scheduled events for your instances using instance metadata**  
  130  You can retrieve information about active maintenance events for your instances from the [instance metadata](ec2-instance-metadata.md) by using Instance Metadata Service Version 2 or Instance Metadata Service Version 1\.

  159  <a name="viewing-event-history"></a>
  160: **To view event history about completed or canceled events for your instances using instance metadata**  
  161  You can retrieve information about completed or canceled events for your instances from [instance metadata](ec2-instance-metadata.md) by using Instance Metadata Service Version 2 or Instance Metadata Service Version 1\.

  219  
  220: **Topics**
  221  + [Include tags in event notifications](#register-tags)

  233  
  234: **To include tags in event notifications**
  235  

  237  
  238: 1. In the navigation pane, choose **Events**\.
  239  
  240: 1. Choose **Actions**, **Manage event notifications**\.
  241  
  242: 1. Select **Include resource tags in event notifications**\.
  243  
  244  1. Do one of the following, depending on the tags that you want to include in event notifications:
  245:    + To include all of the tags associated with the affected instance or Dedicated Host, select **Include all resource tags**\.
  246:    + To manually select the tags to include, select **Choose the tags to include**, and then for **Choose the tags to include**, enter the tag key and press **Enter**\.
  247  
  248: 1. Choose **Save**\.
  249  

  252  
  253: **To include all tags in event notifications**  
  254  Use the [ register\-instance\-event\-notification\-attributes](https://docs.aws.amazon.com/cli/latest/reference/ec2/register-instance-event-notification-attributes.html) AWS CLI command and set the `IncludeAllTagsOfInstance` parameter to `true`\.

  259  
  260: **To include specific tags in event notifications**  
  261  Use the [ register\-instance\-event\-notification\-attributes](https://docs.aws.amazon.com/cli/latest/reference/ec2/register-instance-event-notification-attributes.html) AWS CLI command and specify the tags to include by using the `InstanceTagKeys` parameter\.

  275  
  276: **To remove tags from event notifications**
  277  

  279  
  280: 1. In the navigation pane, choose **Events**\.
  281  
  282: 1. Choose **Actions**, **Manage event notifications**\.
  283  
  284  1. Do one of the following, depending on the tag that you want to remove from event notifications\.
  285:    + To remove all tags from event notifications, clear **Include resource tags in event notifications**\.
  286:    + To remove specific tags from event notifications, choose **Remove** \(**X**\) for the tags listed below the **Choose the tags to include** field\.
  287  
  288: 1. Choose **Save**\.
  289  

  292  
  293: **To remove all tags from event notifications**  
  294  Use the [ deregister\-instance\-event\-notification\-attributes](https://docs.aws.amazon.com/cli/latest/reference/ec2/deregister-instance-event-notification-attributes.html) AWS CLI command and set the `IncludeAllTagsOfInstance` parameter to `false`\.

  299  
  300: **To remove specific tags from event notifications**  
  301  Use the [ deregister\-instance\-event\-notification\-attributes](https://docs.aws.amazon.com/cli/latest/reference/ec2/deregister-instance-event-notification-attributes.html) AWS CLI command and specify the tags to remove by using the `InstanceTagKeys` parameter\.

  315  
  316: **To view the tags that are to be included in event notifications**
  317  

  319  
  320: 1. In the navigation pane, choose **Events**\.
  321  
  322: 1. Choose **Actions**, **Manage event notifications**\.
  323  

  326  
  327: **To view the tags that are to be included in event notifications**  
  328  Use the [ describe\-instance\-event\-notification\-attributes](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-event-notification-attributes.html) AWS CLI command\.

  339  
  340: **Important**  
  341  Any data stored on instance store volumes is lost when an instance is stopped, hibernated, or terminated\. This includes instance store volumes that are attached to an instance that has an EBS volume as the root device\. Be sure to save data from your instance store volumes that you might need later before the instance is stopped, hibernated, or terminated\.
  342  
  343: **Actions for Instances Backed by Amazon EBS**  
  344  You can wait for the instance to stop as scheduled\. Alternatively, you can stop and start the instance yourself, which migrates it to a new host\. For more information about stopping your instance, in addition to information about the changes to your instance configuration when it's stopped, see [Stop and start your instance](Stop_Start.md)\.

  347  
  348: **Actions for Instances Backed by Instance Store**  
  349  We recommend that you launch a replacement instance from your most recent AMI and migrate all necessary data to the replacement instance before the instance is scheduled to terminate\. Then, you can terminate the original instance, or wait for it to terminate as scheduled\.

  363  
  364: **To view the type of scheduled reboot event using the console**
  365  

  367  
  368: 1. In the navigation pane, choose **Events**\.
  369  
  370: 1. Choose **Resource type: instance** from the filter list\.
  371  
  372: 1. For each instance, view the value in the **Event type** column\. The value is either **system\-reboot** or **instance\-reboot**\.
  373  

  376  
  377: **To view the type of scheduled reboot event using the console**
  378  

  380  
  381: 1. In the navigation pane, choose **Events**\.
  382  
  383: 1. Choose **Instance resources** from the filter list\.
  384  
  385: 1. For each instance, view the value in the **Event Type** column\. The value is either **system\-reboot** or **instance\-reboot**\.
  386  

  389  
  390: **To view the type of scheduled reboot event using the AWS CLI**  
  391  Use the [describe\-instance\-status](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-status.html) command\.

  415  <a name="schedevents_actions_instancereboot"></a>
  416: **Actions for instance reboot**  
  417  You can wait for the instance reboot to occur within its scheduled maintenance window, [reschedule](#reschedule-event) the instance reboot to a date and time that suits you, or [reboot](ec2-instance-reboot.md) the instance yourself at a time that is convenient for you\.

  420  <a name="schedevents_actions_systemreboot"></a>
  421: **Actions for system reboot**  
  422  It is not possible for you to reboot the system yourself\. You can wait for the system reboot to occur during its scheduled maintenance window, or you can [reschedule](#reschedule-event) the system reboot to a date and time that suits you\. A system reboot typically completes in a matter of minutes\. After the system reboot has occurred, the instance retains its IP address and DNS name, and any data on local instance store volumes is preserved\. After the system reboot is complete, the scheduled event for the instance is cleared, and you can verify that the software on your instance is operating as expected\.

  433  
  434: After your instance has rebooted \(this normally takes a few minutes\), verify that your application is working as expected\. At this point, your instance should no longer have a scheduled event associated with it, or if it does, the description of the scheduled event begins with **\[Completed\]**\. It sometimes takes up to 1 hour for the instance status description to refresh\. Completed maintenance events are displayed on the Amazon EC2 console dashboard for up to a week\.
  435  
  436: **Actions for Instances Backed by Amazon EBS**  
  437  You can wait for the maintenance to occur as scheduled\. Alternatively, you can stop and start the instance, which migrates it to a new host\. For more information about stopping your instance, in addition to information about the changes to your instance configuration when it's stopped, see [Stop and start your instance](Stop_Start.md)\.

  440  
  441: **Actions for instances backed by instance store**  
  442  You can wait for the maintenance to occur as scheduled\. Alternatively, if you want to maintain normal operation during a scheduled maintenance window, you can launch a replacement instance from your most recent AMI, migrate all necessary data to the replacement instance before the scheduled maintenance window, and then terminate the original instance\.

  452  
  453: **To reschedule an event using the console**
  454  

  456  
  457: 1. In the navigation pane, choose **Events**\.
  458  
  459: 1. Choose **Resource type: instance** from the filter list\.
  460  
  461: 1. Select one or more instances, and then choose **Actions**, **Schedule event**\.
  462  
  463:    Only events that have an event deadline date, indicated by a value for **Deadline**, can be rescheduled\. If one of the selected events does not have a deadline date, **Actions**, **Schedule event** is disabled\.
  464  
  465: 1. For **New start time**, enter a new date and time for the event\. The new date and time must occur before the **Event deadline**\.
  466  
  467: 1. Choose **Save**\.
  468  

  473  
  474: **To reschedule an event using the console**
  475  

  477  
  478: 1. In the navigation pane, choose **Events**\.
  479  
  480: 1. Choose **Instance resources** from the filter list\.
  481  
  482: 1. Select one or more instances, and then choose **Actions**, **Schedule Event**\.
  483  
  484:    Only events that have an event deadline date, indicated by a value for **Event Deadline**, can be rescheduled\. 
  485  
  486: 1. For **Event start time**, enter a new date and time for the event\. The new date and time must occur before the **Event Deadline**\.
  487  
  488: 1. Choose **Schedule Event**\.
  489  

  494  
  495: **To reschedule an event using the AWS CLI**
  496  

  530  ### Limitations<a name="limitations-for-rescheduling"></a>
  531: + Only events with an event deadline date can be rescheduled\. The event can be rescheduled up to the event deadline date\. The **Deadline** column in the console and the `NotBeforeDeadline` field in the AWS CLI indicate if the event has a deadline date\.
  532: + Only events that have not yet started can be rescheduled\. The **Start time** column in the console and the `NotBefore` field in the AWS CLI indicate the event start time\. Events that are scheduled to start in the next 5 minutes cannot be rescheduled\.
  533  + The new event start time must be at least 60 minutes from the current time\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitoring-instances-status-check.md:
  8  
  9: **Topics**
  10  + [Status checks for your instances](monitoring-system-instance-status-check.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/monitoring-system-instance-status-check.md:
    4  
    5: Status checks are performed every minute, returning a pass or a fail status\. If all checks pass, the overall status of the instance is **OK**\. If one or more checks fail, the overall status is **impaired**\. Status checks are built into Amazon EC2, so they cannot be disabled or deleted\.
    6  

   10  
   11: **Topics**
   12  + [Types of status checks](#types-of-instance-status-checks)

   30  
   31: **Note**  
   32  If you perform a restart from the operating system on a bare metal instance, the system status check might temporarily return a fail status\. When the instance becomes available, the system status check should return a pass status\.

   44  
   45: **Note**  
   46  If you perform a restart from the operating system on a bare metal instance, the instance status check might temporarily return a fail status\. When the instance becomes available, the instance status check should return a pass status\.

   55  
   56: **To view status checks \(console\)**
   57  

   59  
   60: 1. In the navigation pane, choose **Instances**\.
   61  
   62: 1. On the **Instances** page, the **Status check** column lists the operational status of each instance\.
   63  
   64: 1. To view the status of a specific instance, select the instance, and then choose the **Status checks** tab\.  
   65  ![\[View the instance status checks on the Status checks tab.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/status-check-tab.png)

   68  
   69: 1. To review the CloudWatch metrics for status checks, select the instance, and then choose the **Monitoring** tab\. Scroll until you see the graphs for the following metrics:
   70:    + **Status check failed \(any\)**
   71:    + **Status check failed \(instance\)**
   72:    + **Status check failed \(system\)**
   73  

  109  
  110: **To report instance status \(console\)**
  111  

  113  
  114: 1. In the navigation pane, choose **Instances**\.
  115  
  116: 1. Select the instance, choose the **Status Checks** tab, choose **Actions** \(the second **Actions** menu in the bottom half of the page\), and then choose **Report instance status**\.
  117  
  118: 1. Complete the **Report instance status** form, and then choose **Submit**\.
  119  

  142  
  143: **To create a status check alarm \(console\)**
  144  

  146  
  147: 1. In the navigation pane, choose **Instances**\.
  148  
  149: 1. Select the instance, choose the **Status Checks** tab, and choose **Actions**, **Create status check alarm**\.
  150  
  151: 1. On the **Manage CloudWatch alarms** page, under **Add or edit alarm**, choose **Create an alarm**\.
  152  
  153: 1. For **Alarm notification**, turn the toggle on to configure Amazon Simple Notification Service \(Amazon SNS\) notifications\. Select an existing Amazon SNS topic or enter a name to create a new topic\.
  154  

  156  
  157: 1. For **Alarm action**, turn the toggle on to specify an action to take when the alarm is triggered\. Select the action\.
  158  
  159: 1. For **Alarm thresholds**, specify the metric and criteria for the alarm\.
  160  
  161:    You can leave the default settings for **Group samples by** \(**Average**\) and **Type of data to sample** \(**Status check failed:either**\), or you can change them to suit your needs\.
  162  
  163:    For **Consecutive period**, set the number of periods to evaluate and, in **Period**, enter the evaluation period duration before triggering the alarm and sending an email\.
  164  
  165: 1. \(Optional\) For **Sample metric data**, choose **Add to dashboard**\.
  166  
  167: 1. Choose **Create**\.
  168  

  170  
  171: **To edit a status check alarm using the console**
  172  

  174  
  175: 1. In the navigation pane, choose **Instances**\.
  176  
  177: 1. Select the instance and choose **Actions**, **Monitoring**, **Manage CloudWatch alarms**\.
  178  
  179: 1. On the **Manage CloudWatch alarms** page, under **Add or edit alarm**, choose **Edit an alarm**\.
  180  
  181: 1. For **Search for alarm**, choose the alarm\.
  182  
  183: 1. When you are finished making changes, choose **Update**\.
  184  

  188  
  189: **To create a status check alarm using the AWS CLI**
  190  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/MultipleIP.md:
    9  
   10: **Topics**
   11  + [How multiple IP addresses work](#MultipleIPReqs)

   38  
   39: **Topics**
   40  + [Assign a secondary private IPv4 address](#ManageMultipleIP)

   56  
   57: **To assign a secondary private IPv4 address when launching an instance**
   58  
   59: 1. Follow the procedure to [launch an instance](ec2-launch-instance-wizard.md#liw-launch-instance-with-defined-parameters), and when you configure [Network Settings](ec2-launch-instance-wizard.md#liw-network-settings), choose **Advanced network configuration**\.
   60  
   61: 1. Under **Secondary IP**, choose **Automatically assign** to have Amazon automatically assign a secondary IPv4 address or choose **Manually assign** to manually enter a CIDR\.
   62  

   67  
   68: **To assign a secondary private IPv4 address when launching an instance**
   69  

   71  
   72: 1. Choose **Launch Instance**\.
   73  
   74: 1. Select an AMI, then choose an instance type and choose **Next: Configure Instance Details**\.
   75  
   76: 1. On the **Configure Instance Details** page, for **Network**, select a VPC and for **Subnet**, select a subnet\.
   77  
   78: 1. In the **Network Interfaces** section, do the following, and then choose **Next: Add Storage**:
   79:    + To add another network interface, choose **Add Device**\. The console enables you to specify up to two network interfaces when you launch an instance\. After you launch the instance, choose **Network Interfaces** in the navigation pane to add additional network interfaces\. The total number of network interfaces that you can attach varies by instance type\. For more information, see [IP addresses per network interface per instance type](using-eni.md#AvailableIpPerENI)\. 
   80: **Important**  
   81  When you add a second network interface, the system can no longer auto\-assign a public IPv4 address\. You will not be able to connect to the instance over IPv4 unless you assign an Elastic IP address to the primary network interface \(eth0\)\. You can assign the Elastic IP address after you complete the Launch wizard\. For more information, see [Work with Elastic IP addresses](elastic-ip-addresses-eip.md#working-with-eips)\.
   82:    + For each network interface, under **Secondary IP addresses**, choose **Add IP**, and then enter a private IP address from the subnet range, or accept the default `Auto-assign` value to let Amazon select an address\.
   83  
   84: 1. On the next **Add Storage** page, you can specify volumes to attach to the instance besides the volumes specified by the AMI \(such as the root device volume\), and then choose **Next: Add Tags**\.
   85  
   86: 1. On the **Add Tags** page, specify tags for the instance, such as a user\-friendly name, and then choose **Next: Configure Security Group**\.
   87  
   88: 1. On the **Configure Security Group** page, select an existing security group or create a new one\. Choose **Review and Launch**\. 
   89  
   90: 1. On the **Review Instance Launch** page, review your settings, and then choose **Launch** to choose a key pair and launch your instance\. If you're new to Amazon EC2 and haven't created any key pairs, the wizard prompts you to create one\.
   91  
   92: **Important**  
   93  After you have added a secondary private IP address to a network interface, you must connect to the instance and configure the secondary private IP address on the instance itself\. For more information, see [Configure the operating system on your instance to recognize secondary private IPv4 addresses](#StepTwoConfigOS)\.

   96  
   97: **To assign a secondary IPv4 address during launch using the command line**
   98  + You can use one of the following commands\. For more information about these command line interfaces, see [Access Amazon EC2](concepts.md#access-ec2)\.

  101  
  102: **To assign a secondary private IPv4 address to a network interface**
  103  

  105  
  106: 1. In the navigation pane, choose **Network Interfaces**, and then select the network interface attached to the instance\.
  107  
  108: 1. Choose **Actions**, **Manage IP Addresses**\.
  109  
  110: 1. Under **IPv4 Addresses**, choose **Assign new IP**\.
  111  

  113  
  114: 1. \(Optional\) Choose **Allow reassignment** to allow the secondary private IP address to be reassigned if it is already assigned to another network interface\.
  115  
  116: 1. Choose **Yes, Update**\.
  117  
  118: Alternatively, you can assign a secondary private IPv4 address to an instance\. Choose **Instances** in the navigation pane, select the instance, and then choose **Actions**, **Networking**, **Manage IP addresses**\. You can configure the same information as you did in the steps above\. The IP address is assigned to the primary network interface \(eth0\) for the instance\. <a name="assignIP-existing-cmd"></a>
  119  
  120: **To assign a secondary private IPv4 to an existing instance using the command line**
  121  + You can use one of the following commands\. For more information about these command line interfaces, see [Access Amazon EC2](concepts.md#access-ec2)\.

  132  
  133: **To associate an Elastic IP address with a secondary private IPv4 address**
  134  

  136  
  137: 1. In the navigation pane, choose** Elastic IPs**\.
  138  
  139: 1. Choose **Actions**, and then select **Associate address**\.
  140  
  141: 1. For **Network interface**, select the network interface, and then select the secondary IP address from the **Private IP** list\.
  142  
  143: 1. Choose **Associate**\.
  144  
  145: **To associate an Elastic IP address with a secondary private IPv4 address using the command line**
  146  + You can use one of the following commands\. For more information about these command line interfaces, see [Access Amazon EC2](concepts.md#access-ec2)\.

  151  
  152: **To view the private IPv4 addresses assigned to a network interface**
  153  

  155  
  156: 1. In the navigation pane, choose **Network Interfaces**\.
  157  

  159  
  160: 1. On the **Details** tab in the details pane, check the **Primary private IPv4 IP** and **Secondary private IPv4 IPs** fields for the primary private IPv4 address and any secondary private IPv4 addresses assigned to the network interface\.
  161  
  162: **To view the private IPv4 addresses assigned to an instance**
  163  

  165  
  166: 1. In the navigation pane, choose **Instances**\.
  167  

  169  
  170: 1. On the **Description** tab in the details pane, check the **Private IPs** and **Secondary private IPs** fields for the primary private IPv4 address and any secondary private IPv4 addresses assigned to the instance through its network interface\.
  171  

  175  
  176: **To unassign a secondary private IPv4 address from an instance**
  177  

  179  
  180: 1. In the navigation pane, choose **Instances**\.
  181  
  182: 1. Select an instance, choose **Actions**, **Networking**, **Manage IP addresses**\.
  183  
  184: 1. Under **IPv4 Addresses**, choose **Unassign** for the IPv4 address to unassign\.
  185  
  186: 1. Choose **Yes, Update**\.
  187  
  188: **To unassign a secondary private IPv4 address from a network interface**
  189  

  191  
  192: 1. In the navigation pane, choose **Network Interfaces**\.
  193  
  194: 1. Select the network interface, choose **Actions**, **Manage IP Addresses**\.
  195  
  196: 1. Under **IPv4 Addresses**, choose **Unassign** for the IPv4 address to unassign\.
  197  
  198: 1. Choose **Yes, Update**\.
  199  
  200: **To unassign a secondary private IPv4 address using the command line**
  201  + You can use one of the following commands\. For more information about these command line interfaces, see [Access Amazon EC2](concepts.md#access-ec2)\.

  208  
  209: **Topics**
  210  + [Assign multiple IPv6 addresses](#assign-multiple-ipv6)

  220  
  221: **To assign multiple IPv6 addresses during launch**
  222  
  223: 1. Follow the procedure to [launch an instance](ec2-launch-instance-wizard.md#liw-launch-instance-with-defined-parameters), and when you configure [Network Settings](ec2-launch-instance-wizard.md#liw-network-settings), choose **Advanced network configuration**\.
  224  
  225: 1. To assign a secondary IPv6 address, under **IPv6 IPs**, choose **Automatically assign** to have Amazon automatically assign a secondary IPv6 address or choose **Manually assign** to manually enter a CIDR\.
  226  

  231  
  232: **To assign multiple IPv6 addresses during launch**
  233  

  235  
  236: 1. From the dashboard, choose **Launch Instance**\.
  237  
  238: 1. Select an AMI, choose an instance type, and choose **Next: Configure Instance Details**\. Ensure that you choose an instance type that support IPv6\. For more information, see [Instance types](instance-types.md)\.
  239  
  240: 1. On the **Configure Instance Details** page, select a VPC from the **Network** list, and a subnet from the **Subnet** list\. 
  241  
  242: 1. In the **Network Interfaces** section, do the following, and then choose **Next: Add Storage**:
  243:    + To assign a single IPv6 address to the primary network interface \(eth0\), under **IPv6 IPs**, choose **Add IP**\. To add a secondary IPv6 address, choose **Add IP** again\. You can enter an IPv6 address from the range of the subnet, or leave the default **Auto\-assign** value to let Amazon choose an IPv6 address from the subnet for you\.
  244:    + Choose **Add Device** to add another network interface and repeat the steps above to add one or more IPv6 addresses to the network interface\. The console enables you to specify up to two network interfaces when you launch an instance\. After you launch the instance, choose **Network Interfaces** in the navigation pane to add additional network interfaces\. The total number of network interfaces that you can attach varies by instance type\. For more information, see [IP addresses per network interface per instance type](using-eni.md#AvailableIpPerENI)\. 
  245  

  247  
  248: 1. On the **Configure Security Group** page, select an existing security group or create a new one\. If you want your instance to be reachable over IPv6, ensure that your security group has rules that allow access from IPv6 addresses\. For more information, see [Security group rules for different use cases](security-group-rules-reference.md)\. Choose **Review and Launch**\. 
  249  
  250: 1. On the **Review Instance Launch** page, review your settings, and then choose **Launch** to choose a key pair and launch your instance\. If you're new to Amazon EC2 and haven't created any key pairs, the wizard prompts you to create one\.
  251  

  253  
  254: You can use the **Instances** screen Amazon EC2 console to assign multiple IPv6 addresses to an existing instance\. This assigns the IPv6 addresses to the primary network interface \(eth0\) for the instance\. To assign a specific IPv6 address to the instance, ensure that the IPv6 address is not already assigned to another instance or network interface\.
  255  
  256: **To assign multiple IPv6 addresses to an existing instance**
  257  

  259  
  260: 1. In the navigation pane, choose **Instances**\.
  261  
  262: 1. Select your instance, choose **Actions**, **Networking**, **Manage IP Addresses**\.
  263  
  264: 1. Under **IPv6 Addresses**, choose **Assign new IP** for each IPv6 address you want to add\. You can specify an IPv6 address from the range of the subnet, or leave the **Auto\-assign** value to let Amazon choose an IPv6 address for you\.
  265  
  266: 1. Choose **Yes, Update**\.
  267  

  269  
  270: **To assign multiple IPv6 addresses to a network interface**
  271  

  273  
  274: 1. In the navigation pane, choose **Network Interfaces**\.
  275  
  276: 1. Select your network interface, choose **Actions**, **Manage IP Addresses**\.
  277  
  278: 1. Under **IPv6 Addresses**, choose **Assign new IP** for each IPv6 address you want to add\. You can specify an IPv6 address from the range of the subnet, or leave the **Auto\-assign** value to let Amazon choose an IPv6 address for you\.
  279  
  280: 1. Choose **Yes, Update**\.
  281  
  282: **CLI overview**
  283  
  284  You can use one of the following commands\. For more information about these command line interfaces, see [Access Amazon EC2](concepts.md#access-ec2)\.
  285: + **Assign an IPv6 address during launch**:
  286    + Use the `--ipv6-addresses` or `--ipv6-address-count` options with the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) command \(AWS CLI\)
  287    + Define `-NetworkInterface` and specify the `Ipv6Addresses` or `Ipv6AddressCount` parameters with the [New\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Instance.html) command \(AWS Tools for Windows PowerShell\)\.
  288: + **Assign an IPv6 address to a network interface**:
  289    + [assign\-ipv6\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/assign-ipv6-addresses.html) \(AWS CLI\)

  295  
  296: **To view the IPv6 addresses assigned to an instance**
  297  

  299  
  300: 1. In the navigation pane, choose **Instances**\.
  301  
  302: 1. Select your instance\. In the details pane, review the **IPv6 IPs** field\.
  303  
  304: **To view the IPv6 addresses assigned to a network interface**
  305  

  307  
  308: 1. In the navigation pane, choose **Network Interfaces**\.
  309  
  310: 1. Select your network interface\. In the details pane, review the **IPv6 IPs** field\.
  311  
  312: **CLI overview**
  313  
  314  You can use one of the following commands\. For more information about these command line interfaces, see [Access Amazon EC2](concepts.md#access-ec2)\.
  315: + **View the IPv6 addresses for an instance**:
  316    + [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) \(AWS CLI\)
  317    + [Get\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Instance.html) \(AWS Tools for Windows PowerShell\)\.
  318: + **View the IPv6 addresses for a network interface**:
  319    + [describe\-network\-interfaces](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-network-interfaces.html) \(AWS CLI\)

  325  
  326: **To unassign an IPv6 address from an instance**
  327  

  329  
  330: 1. In the navigation pane, choose **Instances**\.
  331  
  332: 1. Select your instance, choose **Actions**, **Networking**, **Manage IP Addresses**\.
  333  
  334: 1. Under **IPv6 Addresses**, choose **Unassign** for the IPv6 address to unassign\.
  335  
  336: 1. Choose **Yes, Update**\.
  337  
  338: **To unassign an IPv6 address from a network interface**
  339  

  341  
  342: 1. In the navigation pane, choose **Network Interfaces**\.
  343  
  344: 1. Select your network interface, choose **Actions**, **Manage IP Addresses**\.
  345  
  346: 1. Under **IPv6 Addresses**, choose **Unassign** for the IPv6 address to unassign\.
  347  
  348: 1. Choose **Save**\.
  349  
  350: **CLI overview**
  351  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/nitrotpm.md:
  10  
  11: **Costs**  
  12  There is no additional cost for using NitroTPM\. You pay only for the underlying resources that you use\.
  13  
  14: **Topics**
  15  + [Considerations](nitrotpm-considerations.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/on-demand-in-spot.md:
  10  
  11: **Example: Prioritize instance types**
  12  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/optimize_gpu.md:
  4  
  5: **To optimize GPU settings**
  6  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/option1-task2-launch-ec2-instance.md:
   2  
   3: **Note**  
   4  Launching an instance is not the focus of this tutorial\. If you already have an Amazon EC2 instance and would like to use it in this tutorial, you can skip this task\.

   9  
  10: **Important**  
  11  If you use an existing EC2 instance, make sure that it is in the same VPC as your RDS database so that you can use the automatic connection feature\.

  18  
  19: **EC2 instance configuration**
  20  
  21  The steps in this task configure the EC2 instance as follows:
  22: + Instance name: **tutorial\-instance\-1**
  23  + AMI: Amazon Linux 2

  30  
  31: **Important**  
  32  In a production environment, you should configure your instance to meet your specific needs\.
  33  
  34: **To launch an EC2 instance**
  35  

  39  
  40: 1. On the **EC2 Dashboard**, choose **Launch instance**\.
  41  
  42: 1. Under **Name and tags**, for **Name**, enter a name to identify your instance\. For this tutorial, name the instance **tutorial\-instance\-1**\. While the instance name is not mandatory, when you select your instance in the EC2 console, the name will help you easily identify it\.
  43  
  44: 1. Under **Application and OS Images**, choose an AMI that meets your web server needs\. This tutorial uses **Amazon Linux 2**\.
  45  
  46: 1. Under **Instance type**, for **Instance type**, select an instance type that meets your web server needs\. This tutorial uses `t2.micro`\.
  47: **Note**  
  48  You can use Amazon EC2 under the [Free tier](http://aws.amazon.com/free) provided your AWS account is less than 12 months old and you choose a `t2.micro` instance type \(or `t3.micro` in Regions where `t2.micro` is not available\)\.
  49  
  50: 1. Under **Key pair \(login\)**, for **Key pair name**, choose your key pair\.
  51  
  52: 1. Under **Network settings**, do the following:
  53  
  54:    1. For **Network** and **Subnet**, if you haven’t made changes to your default VPC or subnets, you can keep the default settings\. 
  55  

  61  
  62:       1. To ensure that your instance receives a public IP address, for **Auto\-assign public IP**, check that **Enable** is selected\. If **Disable **is selected, choose **Edit** \(to the right of **Network Settings**\), and then, for **Auto\-assign public IP**, choose **Enable**\.
  63  

  65  
  66:       To make sure that only your IP address can connect to your instance, under **Firewall \(security groups\)**, from the drop\-down list next to the **Allow SSH traffic from** check box, choose **My IP**\.
  67  
  68     1. To allow traffic from the internet to your instance, select the following check boxes:
  69:       + **Allow HTTPs traffic from the internet**
  70:       + **Allow HTTP traffic from the internet**
  71  
  72: 1. In the **Summary** panel, review your instance configuration and then choose **Launch instance**\.
  73  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/option1-task4-verify-connection-configuration.md:
   7  When you use the automatic connection feature in the EC2 console to configure the connectivity, the security groups are automatically created and assigned to the instance and database, as follows:
   8: + Security group **rds\-ec2\-*x*** is created and added to the RDS database\. It has one inbound rule that references the **ec2\-rds\-*x*** security group as its source\. This allows traffic from the EC2 instance with the **ec2\-rds\-*x*** security group to reach the RDS database\.
   9: + Security group **ec2\-rds\-*x*** is created and added to the EC2 instance\. It has one outbound rule that references the **rds\-ec2\-*x*** security group as its destination\. This allows traffic from the EC2 instance to reach the RDS database with the **rds\-ec2\-*x*** security group\.
  10  

  16  
  17: **To verify the connection configuration using the console**
  18  

  20  
  21: 1. In the navigation page, choose **Databases**\.
  22  

  24  
  25: 1. On the **Connectivity & security** tab, under **Security**, **VPC security groups**, verify that a security group called **rds\-ec2\-*x*** is displayed\.
  26  
  27: 1. Choose the **rds\-ec2\-*x*** security group\. The **Security Groups** screen in the EC2 console opens\.
  28  
  29: 1. Choose the **rds\-ec2\-*x*** security group to open it\.
  30  
  31: 1. Choose the **Inbound rules** tab\.
  32  
  33  1. Verify that the following security group rule exists, as follows:
  34:    + Type: **MYSQL/Aurora**
  35:    + Port range: **3306**
  36:    + Source: ***sg\-0987654321example* / ec2\-rds\-*x*** – This is the security group that is assigned to the EC2 instance that you verified in the preceding steps\.
  37:    + Description: **Rule to allow connections from EC2 instances with *sg\-1234567890example* attached**
  38  

  40  
  41: 1. In the navigation pane, choose **Instances**\.
  42  
  43: 1. Choose the EC2 instance that you selected to connect to the RDS database in the previous task, and choose the **Security** tab\.
  44  
  45: 1. Under **Security details**, **Security groups**, verify that a security group called **ec2\-rds\-*x*** is in the list\. *x* is a number\.
  46  
  47: 1. Choose the **ec2\-rds\-*x*** security group to open it\.
  48  
  49: 1. Choose the **Outbound rules** tab\.
  50  
  51  1. Verify that the following security group rule exists, as follows:
  52:    + Type: **MYSQL/Aurora**
  53:    + Port range: **3306**
  54:    + Destination: ***sg\-1234567890example* / rds\-ec2\-*x***
  55:    + Description: **Rule to allow connections to **database\-tutorial** from any instances this security group is attached to**
  56  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/option2-task1-launch-ec2-instance.md:
   2  
   3: **Note**  
   4  Launching an instance is not the focus of this tutorial\. If you already have an Amazon EC2 instance and would like to use it in this tutorial, you can skip this task\.

  15  
  16: **EC2 instance configuration**
  17  
  18  The steps in this task configure the EC2 instance as follows:
  19: + Instance name: **tutorial\-instance\-2**
  20  + AMI: Amazon Linux 2

  27  
  28: **Important**  
  29  In a production environment, you should configure your instance to meet your specific needs\.
  30  
  31: **To launch an EC2 instance**
  32  

  34  
  35: 1. On the **EC2 Dashboard**, choose **Launch instance**\.
  36  
  37: 1. Under **Name and tags**, for **Name**, enter a name to identify your instance\. For this tutorial, name the instance **tutorial\-instance\-2**\. While the instance name is not mandatory, when you select your instance in the RDS console, the name will help you easily identify it\.
  38  
  39: 1. Under **Application and OS Images**, choose an AMI that meets your web server needs\. This tutorial uses **Amazon Linux**\.
  40  
  41: 1. Under **Instance type**, for **Instance type**, select an instance type that meets your web server needs\. This tutorial uses `t2.micro`\.
  42: **Note**  
  43  You can use Amazon EC2 under the [Free tier](http://aws.amazon.com/free) provided your AWS account is less than 12 months old and you choose a `t2.micro` instance type \(or `t3.micro` in Regions where `t2.micro` is not available\)\.
  44  
  45: 1. Under **Key pair \(login\)**, for **Key pair name**, choose your key pair\.
  46  
  47: 1. Under **Network settings**, do the following:
  48  
  49:    1. For **Network** and **Subnet**, if you haven’t made changes to your default VPC or subnets, you can keep the default settings\. 
  50  

  56  
  57:       1. To ensure that your instance receives a public IP address, for **Auto\-assign public IP**, check that **Enable** is selected\. If **Disable **is selected, choose **Edit** \(to the right of **Network Settings**\), and then, for **Auto\-assign public IP**, choose **Enable**\.
  58  

  60  
  61:       To make sure that only your IP address can connect to your instance, under **Firewall \(security groups\)**, from the drop\-down list next to the **Allow SSH traffic from** check box, choose **My IP**\.
  62  
  63     1. To allow traffic from the internet to your instance, select the following check boxes:
  64:       + **Allow HTTPs traffic from the internet**
  65:       + **Allow HTTP traffic from the internet**
  66  
  67: 1. In the **Summary** panel, review your instance configuration and then choose **Launch instance**\.
  68  
  69: 1. Choose **View all instances** to close the confirmation page and return to the console\. Your instance will first be in a `pending` state, and will then go into the `running` state\. 
  70  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/option2-task3-verify-connection-configuration.md:
   7  When you use the automatic connection feature in the RDS console to configure the connectivity, the security groups are automatically created and assigned to the instance and database, as follows:
   8: + Security group **rds\-ec2\-*x*** is created and added to the RDS database\. It has one inbound rule that references the **ec2\-rds\-*x*** security group as its source\. This allows traffic from the EC2 instance with the **ec2\-rds\-*x*** security group to reach the RDS database\.
   9: + Security group **ec2\-rds\-*x*** is created and added to the EC2 instance\. It has one outbound rule that references the **rds\-ec2\-*x*** security group as its destination\. This allows traffic from the EC2 instance to reach the RDS database with the **rds\-ec2\-*x*** security group\.
  10  

  16  
  17: **To verify the connection configuration using the console**
  18  

  20  
  21: 1. In the navigation pane, choose **Instances**\.
  22  
  23: 1. Choose the EC2 instance that you selected to connect to the RDS database in the previous task, and choose the **Security** tab\.
  24  
  25: 1. Under **Security details**, **Security groups**, verify that a security group called **ec2\-rds\-*x*** is in the list\. *x* is a number\.
  26  
  27: 1. Choose the **ec2\-rds\-*x*** security group to open it\.
  28  
  29: 1. Choose the **Outbound rules** tab\.
  30  
  31  1. Verify that the following security group rule exists, as follows:
  32:    + Type: **MYSQL/Aurora**
  33:    + Port range: **3306**
  34:    + Destination: ***sg\-1234567890example* / rds\-ec2\-*x***
  35:    + Description: **Rule to allow connections to **database\-tutorial** from any instances this security group is attached to**
  36  

  38  
  39: 1. In the navigation page, choose **Databases**\.
  40  

  42  
  43: 1. On the **Connectivity & security** tab, under **Security**, **VPC security groups**, verify that a security group called **rds\-ec2\-*x*** is displayed\.
  44  
  45: 1. Choose the **rds\-ec2\-*x*** security group\. The **Security Groups** screen in EC2 console opens\.
  46  
  47: 1. Choose the **rds\-ec2\-*x*** security group open it\.
  48  
  49: 1. Choose the **Inbound rules** tab\.
  50  
  51  1. Verify that the following security group rule exists, as follows:
  52:    + Type: **MYSQL/Aurora**
  53:    + Port range: **3306**
  54:    + Source: ***sg\-0987654321example* / ec2\-rds\-*x*** – This is the security group that is assigned to the EC2 instance that you verified in the preceding steps\.
  55:    + Description: **Rule to allow connections from EC2 instances with *sg\-1234567890example* attached**
  56  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/option3-task2-create-rds-database.md:
   2  
   3: **Note**  
   4  Creating an RDS database is not the focus of this part of the tutorial\. If you already have an RDS database and would like to use it for this tutorial, you can skip this task\.

  15  
  16: **RDS database configuration**
  17  

  20  + Template: Free tier
  21: + DB instance identifier: **tutorial\-database\-manual**
  22  + DB instance class: `db.t3.micro`
  23  
  24: **Important**  
  25  In a production environment, you should configure your instance to meet your specific needs\.
  26  
  27: **To create a MySQL DB instance**
  28  

  32  
  33: 1. On the dashboard, choose **Create database**\.
  34  
  35: 1. Under **Choose a database creation method**, choose **Easy create**\. When you choose this option, the automatic connection feature to automatically configure the connection is not available\.
  36  
  37: 1. Under **Engine options**, for **Engine type**, choose **MySQL**\.
  38  
  39: 1. For **DB instance size**, choose **Free tier**\.
  40  
  41: 1. For **DB instance identifier** enter a name for the RDS database\. For this tutorial, enter **tutorial\-database\-manual**\.
  42  
  43: 1. For **Master username**, leave the default name, which is **admin**\.
  44  
  45: 1. For **Master password**, enter a password that you can remember for this tutorial, and then, for **Confirm password**, enter the password again\.
  46  
  47: 1. Choose **Create database**\.
  48  
  49:    On the **Databases** screen, the **Status** of the new DB instance is **Creating** until the DB instance is ready to use\. When the status changes to **Available**, you can connect to the DB instance\. Depending on the DB instance class and the amount of storage, it can take up to 20 minutes before the new instance is available\.
  50  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/os-boot-mode.md:
  4  
  5: **To determine the boot mode of the instance’s operating system**
  6  

  8  
  9: 1. Go to **System Information** and check the **BIOS Mode** row\.  
  10  ![\[System Information window showing the BIOS Mode row selected. The value for BIOS Mode is Legacy.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/BIOS-mode-win.png)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/os-inplaceupgrade.md:
    4  
    5: **Automated upgrades**  
    6  For steps on how to use AWS Systems Manager to automate the upgrade of your Windows Server 2008 R2 to Server 2012 R2 or from SQL Server 2008 R2 on Windows Server 2012 R2 to SQL Server 2016, see [Upgrade Your End of Support Microsoft 2008 Workloads in AWS with Ease](https://aws.amazon.com/blogs/database/upgrade-your-end-of-support-microsoft-2008-r2-workloads-in-aws-with-ease/)\.

   29  
   30: **To perform the in\-place upgrade**
   31  

   37  
   38: 1. In the navigation pane, choose **Instances**\. Locate the instance\. Make a note of the instance ID and Availability Zone for the instance\. You need this information later in this procedure\.
   39  

   49  
   50:    1. In the left navigation pane, under **Elastic Block Store**, choose **Snapshots**\. In the search bar filter, choose **Public Snapshots**\.
   51  
   52:    1. Add the **Owner alias** filter to the search bar and choose **amazon**\.
   53  
   54:    1. Add the **Description** filter and enter **Windows**\. Select Enter\.
   55  
   56:    1. Select the snapshot that matches the system architecture and language preference you are upgrading to\. For example, select **Windows 2019 English Installation Media** to upgrade to Windows Server 2019\.
   57  
   58:    1. Choose **Actions**, **Create Volume**\.
   59  
   60:    1. In the **Create Volume** dialog box, choose the Availability Zone that matches your Windows instance, and choose **Create Volume**\.
   61  
   62: 1. In the **Create Volume Request Succeeded** message, choose the volume that you just created\.
   63  
   64: 1. Choose **Actions**, **Attach Volume**\.
   65  
   66: 1. In the **Attach Volume** dialog box, enter the instance ID of your Windows instance and choose **Attach**\.
   67  
   68  1. Make the new volume available for use by following the steps at [Make an Amazon EBS volume available for use on Windows](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-using-volumes.html)\.
   69: **Important**  
   70  Do not initialize the disk because doing so will delete the existing data\.

   78        ```
   79: **Note**  
   80  Running the setup\.exe with the `/dynamicupdate` option set to disabled prevents Windows from installing updates during the Windows Server upgrade process, as installing updates during the upgrade can cause failures\. You can install updates with Windows Update after the upgrade completes\.

   87  
   88:    1. For **Select the operating system you want to install**, select the full installation SKU for your Windows Server instance, and choose **Next**\.
   89  
   90:    1. For **Which type of installation do you want?**, choose **Upgrade**\.
   91  

   95  
   96: **Note**  
   97  If upgrading to Windows Server 2019, after the upgrade is complete you can change the desktop background manually to remove the previous operating system name if desired\.

  131  
  132: **To upgrade a Windows Server instance running Citrix PV drivers**
  133  

  135  
  136: 1. In the navigation pane, choose **Instances** and locate the instance\. Make a note of the instance ID and Availability Zone for the instance\. You need this information later in this procedure\.
  137  

  139  
  140:    1. In the navigation pane, choose **Snapshots**, and next to the filter field, choose **Public snapshots**\.
  141  
  142:    1. From the Search field, choose **Owner alias**, then **=**, then **amazon** \(new console\), or choose **Owner** and then **Amazon images** \(old console\)\.
  143  
  144:    1. From the Search field, choose **Description**, then **:** \(contains\), and then enter **Windows** \(new console\), or choose **Description** and then enter **Windows** \(old console\)\. Press Enter\.
  145  
  146:    1. Select the snapshot that matches the system architecture of your instance\. For example, **Windows 2012 Installation Media**\.
  147  
  148:    1. Choose **Actions**, **Create volume from snapshot** \(new console\) or **Create Volume** \(old console\)\.
  149  
  150:    1. In the **Create volume** dialog box, select the Availability Zone that matches your Windows instance, and choose **Create volume**\.
  151  
  152: 1. \(New console\) From the navigation pane, choose **Volumes**, and then choose the volume that you just created
  153  
  154:    \(Old console\) In the **Volume Successfully Created** dialog box, choose the volume that you just created\.
  155  
  156: 1. Choose **Actions**, **Attach volume**\.
  157  
  158: 1. In the **Attach volume** dialog box, enter the instance ID and choose **Attach volume**\.
  159  
  160  1. On your Windows instance, on the `C:\` drive, create a folder named `temp`\.
  161: **Important**  
  162  This folder must be available in the same location after the upgrade\. Creating the folder in a Windows system folder or a user profile folder, such as the desktop, can cause the upgrade to fail\.

  173  
  174: 1. For **Select the operating system you want to install**, select the full installation SKU for your Windows Server instance, and then choose **Next**\.
  175  
  176: 1. For **Which type of installation do you want?**, choose **Upgrade**\.
  177  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/paid-amis.md:
   14  
   15: **Important**  
   16  Amazon DevPay is no longer accepting new sellers or products\. AWS Marketplace is now the single, unified e\-commerce platform for selling software and services through AWS\. For information about how to deploy and sell software from AWS Marketplace, see [Selling in AWS Marketplace](http://aws.amazon.com/marketplace/partners/management-tour)\. AWS Marketplace supports AMIs backed by Amazon EBS\.
   17  
   18: **Topics**
   19  + [Sell your AMI](#selling-your-ami)

   38  
   39: **To find a paid AMI using the console**
   40  

   42  
   43: 1. In the navigation pane, choose **AMIs**\. 
   44  
   45: 1. Choose **Public images** for the first filter\.
   46  
   47: 1. In the Search bar, choose **Owner alias**, then **=**, and then **aws\-marketplace**\.
   48  
   49: 1. If you know the product code, choose **Product code**, then **=**, and then enter the product code\.
   50  

   52  
   53: **To find a paid AMI using AWS Marketplace**
   54  

  126  To use the AWS Marketplace, you must have an AWS account\. To launch instances from AWS Marketplace products, you must be signed up to use the Amazon EC2 service, and you must be subscribed to the product from which to launch the instance\. There are two ways to subscribe to products in the AWS Marketplace:
  127: + **AWS Marketplace website**: You can launch preconfigured software quickly with the 1\-Click deployment feature\.
  128: + **Amazon EC2 launch wizard**: You can search for an AMI and launch an instance directly from the wizard\. For more information, see [Launch an AWS Marketplace instance](launch-marketplace-console.md)\.
  129  

  145  
  146: **Important**  
  147  You can't use a support product with Reserved Instances\. You always pay the price that's specified by the seller of the support product\.

  170  
  171: **To check your subscription details**
  172  

  174  
  175: 1. Choose **Your Marketplace Account**\.
  176  
  177: 1. Choose **Manage your software subscriptions**\. 
  178  
  179: 1. All your current subscriptions are listed\. Choose ** Usage Instructions** to view specific instructions for using the product, for example, a user name for connecting to your running instance\. 
  180  
  181: **To cancel an AWS Marketplace subscription**
  182  

  186  
  187:    1. In the navigation pane, choose **Instances**\.
  188  
  189:    1. Select the instance, and then choose **Instance state**, **Terminate instance**\.
  190  
  191:    1. Choose **Terminate** when prompted for confirmation\.
  192  
  193: 1. Log in to the [AWS Marketplace](https://aws.amazon.com/marketplace), and choose **Your Marketplace Account**, then **Manage your software subscriptions**\.
  194  
  195: 1. Choose **Cancel subscription**\. You are prompted to confirm your cancellation\. 
  196: **Note**  
  197  After you've canceled your subscription, you are no longer able to launch any instances from that AMI\. To use that AMI again, you need to resubscribe to it, either on the AWS Marketplace website, or through the launch wizard in the Amazon EC2 console\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/placement-groups.md:
    3  When you launch a new EC2 instance, the EC2 service attempts to place the instance in such a way that all of your instances are spread out across underlying hardware to minimize correlated failures\. You can use *placement groups* to influence the placement of a group of *interdependent* instances to meet the needs of your workload\. Depending on the type of workload, you can create a placement group using one of the following placement strategies:
    4: + **Cluster** – packs instances close together inside an Availability Zone\. This strategy enables workloads to achieve the low\-latency network performance necessary for tightly\-coupled node\-to\-node communication that is typical of high\-performance computing \(HPC\) applications\.
    5: + **Partition** – spreads your instances across logical partitions such that groups of instances in one partition do not share the underlying hardware with groups of instances in different partitions\. This strategy is typically used by large distributed and replicated workloads, such as Hadoop, Cassandra, and Kafka\.
    6: + **Spread** – strictly places a small group of instances across distinct underlying hardware to reduce correlated failures\.
    7  

   37  
   38: The following image is a simple visual representation of a partition placement group in a single Availability Zone\. It shows instances that are placed into a partition placement group with three partitions—**Partition 1**, **Partition 2**, and **Partition 3**\. Each partition comprises multiple instances\. The instances in a partition do not share racks with the instances in the other partitions, allowing you to contain the impact of a single hardware failure to only the associated partition\.
   39  

   57  
   58: **Rack spread level placement groups**  
   59  The following image shows seven instances in a single Availability Zone that are placed into a spread placement group\. The seven instances are placed on seven different racks, each rack has its own network and power source\.

   64  
   65: **Host level spread placement groups**  
   66  Host spread level placement groups are only available with AWS Outposts\. For host spread level placement groups, there are no restrictions for running instances per Outposts\. For more information, see [Placement groups on AWS Outposts](placement-groups-outpost.md)\.

   69  
   70: **Topics**
   71  + [General rules and limitations](#placement-groups-limitations-general)

  123  
  124: **Topics**
  125  + [Create a placement group](#create-placement-group)

  135  
  136: **Note**  
  137  You can tag a placement group on creation using the command line tools only\.

  141  
  142: **To create a placement group using the console**
  143  

  145  
  146: 1. In the navigation pane, choose **Placement Groups**, **Create placement group**\.
  147  

  149  
  150: 1. Choose the placement strategy for the group\. If you choose **Partition**, choose the number of partitions within the group\.
  151  
  152     Choose the placement strategy for the group\. 
  153:    + If you choose **Spread**, choose the spread level\. 
  154       + Rack \- no restrictions
  155       + Host \- only for Outposts
  156:    + If you choose **Partition**, choose the number of partitions within the group\.
  157  
  158: 1. To tag the placement group, choose **Add tag**, and then enter a key and value\. Choose **Add tag** for each tag that you want to add\.
  159  
  160: 1. Choose **Create group**\.
  161  

  164  
  165: **To create a placement group using the AWS CLI**  
  166  Use the [create\-placement\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-placement-group.html) command\. The following example creates a placement group named `my-cluster` that uses the `cluster` placement strategy, and it applies a tag with a key of `purpose` and a value of `production`\.

  171  
  172: **To create a partition placement group using the AWS CLI**  
  173  Use the [create\-placement\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-placement-group.html) command\. Specify the `--strategy` parameter with the value `partition`, and specify the `--partition-count` parameter with the desired number of partitions\. In this example, the partition placement group is named `HDFS-Group-A` and is created with five partitions\.

  181  
  182: **To create a placement group using the AWS Tools for Windows PowerShell**  
  183  Use the [New\-EC2PlacementGroup](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2PlacementGroup.html) command\.

  202  
  203: **To view, add, or delete a tag for an existing placement group**
  204  

  208  
  209: 1. In the navigation pane, choose **Placement Groups**\.
  210  
  211: 1. Select a placement group, and then choose **Actions**, **Manage tags**\.
  212  
  213: 1. The **Manage tags** section displays any tags that are assigned to the placement group\. Do the following to add or remove tags:
  214:    + To add a tag, choose **Add tag**, and then enter the tag key and value\. You can add up to 50 tags per placement group\. For more information, see [Tag restrictions](Using_Tags.md#tag-restrictions)\.
  215:    + To delete a tag, choose **Remove** next to the tag that you want to delete\.
  216  
  217: 1. Choose **Save changes**\.
  218  

  221  
  222: **To view placement group tags**  
  223  Use the [describe\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-tags.html) command to view the tags for the specified resource\. In the following example, you describe the tags for all of your placement groups\.

  297  
  298: **To tag an existing placement group using the AWS CLI**  
  299  You can use the [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) command to tag existing resources\. In the following example, the existing placement group is tagged with `Key=Cost-Center` and `Value=CC-123`\.

  306  
  307: **To delete a tag from a placement group using the AWS CLI**  
  308  You can use the [delete\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-tags.html) command to delete tags from existing resources\. For examples, see [Examples](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-tags.html#examples) in the *AWS CLI Command Reference*\.

  312  
  313: **To view placement group tags**  
  314  Use the [Get\-EC2Tag](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Tag.html) command\.
  315  
  316: **To describe the tags for a specific placement group**  
  317  Use the [Get\-EC2PlacementGroup](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2PlacementGroup.html) command\.
  318  
  319: **To tag an existing placement group**  
  320  Use the [New\-EC2Tag](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Tag.html) command\.
  321  
  322: **To delete a tag from a placement group**  
  323  Use the [Remove\-EC2Tag](https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2Tag.html) command\.

  333  
  334: **To launch instances into a placement group using the console**
  335  

  337  
  338: 1. From the EC2 console dashboard, in the **Launch instance** box, choose **Launch instance**, and then choose **Launch instance** from the options that appear\. Complete the form as directed, taking care to do the following:
  339:    + Under **Instance type**, select an instance type that can be launched into a placement group\.
  340:    + In the **Summary** box, under **Number of instances**, enter the total number of instances that you need in this placement group, because you might not be able to add instances to the placement group later\.
  341:    + Under **Advanced details**, for **Placement group name**, you can choose to add the instances to a new or existing placement group\. If you choose a placement group with a partition strategy, for **Target partition**, choose the partition in which to launch the instances\.
  342  

  345  
  346: **To launch instances into a placement group using the console**
  347  

  349  
  350: 1. In the navigation pane, choose **Instances**\.
  351  
  352: 1. Choose **Launch Instance**\. Complete the wizard as directed, taking care to do the following:
  353  
  354:    From the EC2 console dashboard, in the **Launch instance** box, choose **Launch instance**, and then choose **Launch instance** from the options that appear\. Complete the wizard as directed, taking care to do the following:
  355:    + On the **Choose an Instance Type** page, select an instance type that can be launched into a placement group\.
  356:    + On the **Configure Instance Details** page, the following fields are applicable to placement groups:
  357:      + For **Number of instances**, enter the total number of instances that you need in this placement group, because you might not be able to add instances to the placement group later\.
  358:      + For **Placement group**, select the **Add instance to placement group** check box\. If you do not see **Placement group** on this page, verify that you have selected an instance type that can be launched into a placement group\. Otherwise, this option is not available\.
  359:      + For **Placement group name**, you can choose to add the instances to an existing placement group or to a new placement group that you create\.
  360:      + For **Placement group strategy**, choose the appropriate strategy\. If you choose **partition**, for **Target partition**, choose **Auto distribution** to have Amazon EC2 do a best effort to distribute the instances evenly across all the partitions in the group\. Alternatively, specify the partition in which to launch the instances\.
  361  

  364  
  365: **To launch instances into a placement group using the AWS CLI**  
  366  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) command and specify the placement group name using the `--placement "GroupName = my-cluster"` parameter\. In this example, the placement group is named `my-cluster`\.

  371  
  372: **To launch instances into a specific partition of a partition placement group using the AWS CLI**  
  373  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) command and specify the placement group name and partition using the `--placement "GroupName = HDFS-Group-A, PartitionNumber = 3"` parameter\. In this example, the placement group is named `HDFS-Group-A` and the partition number is `3`\.

  381  
  382: **To launch instances into a placement group using AWS Tools for Windows PowerShell**  
  383  Use the [New\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Instance.html) command and specify the placement group name using the `-Placement_GroupName` parameter\.

  393  
  394: **To view the placement group and partition number of an instance using the console**
  395  

  397  
  398: 1. In the navigation pane, choose **Instances**\. 
  399  

  401  
  402: 1. On the **Details** tab, under **Host and placement group**, find **Placement group**\. If the instance is not in a placement group, the field is empty\. Otherwise, it contains the name of the placement group name\. If the placement group is a partition placement group, **Partition number** contains the partition number for the instance\.
  403  

  406  
  407: **To view the partition number for an instance in a partition placement group using the AWS CLI**  
  408  Use the [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) command and specify the `--instance-id` parameter\.

  424  
  425: **To filter instances for a specific partition placement group and partition number using the AWS CLI**  
  426  Use the [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) command and specify the `--filters` parameter with the `placement-group-name` and `placement-partition-number` filters\. In this example, the placement group is named `HDFS-Group-A` and the partition number is `7`\.

  475  
  476: **To move an instance to a placement group using the AWS CLI**
  477  

  490  
  491: **To move an instance to a placement group using the AWS Tools for Windows PowerShell**
  492  

  505  
  506: **To remove an instance from a placement group using the AWS CLI**
  507  

  520  
  521: **To remove an instance from a placement group using the AWS Tools for Windows PowerShell**
  522  

  534  
  535: **Requirement**  
  536  Before you can delete a placement group, it must contain no instances\. You can [terminate](terminating-instances.md#terminating-instances-console) all instances that you launched in the placement group, [move](#move-instance-to-placement-group)instances to another placement group, or [remove](#remove-instance-from-placement-group) instances from the placement group\.

  540  
  541: **To delete a placement group using the console**
  542  

  544  
  545: 1. In the navigation pane, choose **Placement Groups**\.
  546  
  547: 1. Select the placement group and choose **Actions**, **Delete**\.
  548  
  549: 1. When prompted for confirmation, enter **Delete** and then choose **Delete**\.
  550  

  553  
  554: **To delete a placement group using the AWS CLI**  
  555   Use the [delete\-placement\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-placement-group.html) command and specify the placement group name to delete the placement group\. In this example, the placement group name is `my-cluster`\.

  563  
  564: **To delete a placement group using the AWS Tools for Windows PowerShell**  
  565  Use the [Remove\-EC2PlacementGroup](https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2PlacementGroup.html) command to delete the placement group\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/pvdrivers-troubleshooting.md:
    4  
    5: **Topics**
    6  + [Windows Server 2012 R2 loses network and storage connectivity after an instance reboot](#server2012R2-instance-unavailable)

   12  
   13: **Important**  
   14  This issue occurs only with AMIs made available before September 2014\.

   19  
   20: **Topics**
   21  + [Choose how to fix problems](#choose-fix)

   39  
   40: 1. In the navigation pane, choose **Instances**\.
   41  
   42: 1. Locate the affected instance\. Select the instance and choose **Instance state**, and then choose **Stop instance**\.
   43: **Warning**  
   44  When you stop an instance, the data on any instance store volumes is erased\. To keep data from instance store volumes, be sure to back it up to persistent storage\.
   45  
   46: 1. After the instance is stopped, create a backup\. Select the instance and choose **Actions**, then **Image and templates**, and then choose **Create image**\.
   47  

   57  
   58: 1. After the upgrade is complete and the instance passes both health checks in the Amazon EC2 console, connect to the instance using Remote Desktop and verify that the new drivers were installed\. In Device Manager, under **Storage Controllers**, locate **AWS PV Storage Host Adapter**\. Verify that the driver version is the same as the latest version listed in the Driver Version History table\. For more information, see [AWS PV driver package history](xen-drivers-overview.md#pv-driver-history)\.
   59  

   67  
   68: 1. In the navigation pane, choose **Instances**\.
   69  
   70: 1. Locate the affected instance\. Select the instance, choose **Instance state**, and then choose **Stop instance**\.
   71: **Warning**  
   72  When you stop an instance, the data on any instance store volumes is erased\. To keep data from instance store volumes, be sure to back it up to persistent storage\.
   73  
   74: 1. Choose **Launch instances** and create a temporary Windows Server 2008 or Windows Server 2012 instance in the same Availability Zone as the affected instance\. Do not create a Windows Server 2012 R2 instance\.
   75: **Important**  
   76  If you do not create the instance in the same Availability Zone as the affected instance you will not be able to attach the root volume of the affected instance to the new instance\.
   77  
   78: 1. In the navigation pane, choose **Volumes**\.
   79  

   83  
   84: 1. On the temporary instance, open the **Run** dialog box, type **regedit**, and press Enter\.
   85  
   86: 1. In the Registry Editor navigation pane, choose **HKEY\_Local\_Machine**, and then from the **File** menu choose **Load Hive**\.
   87  
   88: 1. In the **Load Hive** dialog box, navigate to *Affected Volume*\\Windows\\System32\\config\\System and type a temporary name in the **Key Name** dialog box\. For example, enter OldSys\.
   89  

   91  
   92:     **HKEY\_LOCAL\_MACHINE\\*your\_temporary\_key\_name*\\ControlSet001\\Control\\Class\\4d36e97d\-e325\-11ce\-bfc1\-08002be10318** 
   93  
   94:     **HKEY\_LOCAL\_MACHINE\\*your\_temporary\_key\_name*\\ControlSet001\\Control\\Class\\4d36e96a\-e325\-11ce\-bfc1\-08002be10318** 
   95  
   96: 1. For each key, double\-click **UpperFilters**, enter a value of XENFILT, and then choose **OK**\.  
   97  ![\[Registry key for affected volume.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/troubleshooting-server2012R2-regedit.png)

  100  
  101:     **HKEY\_LOCAL\_MACHINE\\*your\_temporary\_key\_name*\\ControlSet001\\Services\\XENBUS\\Parameters** 
  102  

  104  
  105:     **PCI\\VEN\_5853&DEV\_0001&SUBSYS\_00015853&REV\_01** 
  106  

  108  
  109:     **HKEY\_LOCAL\_MACHINE\\*your\_temporary\_key\_name*\\ControlSet001\\Services\\XENBUS** 
  110  
  111: 1. Change the **Count** from 0 to 1\.
  112  

  114  
  115:     **HKEY\_LOCAL\_MACHINE\\*your\_temporary\_key\_name*\\ControlSet001\\Services\\xenvbd\\StartOverride** 
  116  
  117:     **HKEY\_LOCAL\_MACHINE \\*your\_temporary\_key\_name*\\ControlSet001\\Services\\xenfilt\\StartOverride** 
  118  

  120  
  121: 1. From the **File** menu, choose **Unload Hive**\.
  122  
  123: 1. In the Disk Management Utility, choose the drive you attached earlier, open the context \(right\-click\) menu, and choose **Offline**\.
  124  

  134  
  135: 1. After the upgrade is complete and the instance passes both health checks in the Amazon EC2 console, connect to the instance using Remote Desktop and verify that the new drivers were installed\. In Device Manager, under **Storage Controllers**, locate **AWS PV Storage Host Adapter**\. Verify that the driver version is the same as the latest version listed in the Driver Version History table\. For more information, see [AWS PV driver package history](xen-drivers-overview.md#pv-driver-history)\.
  136  

  142  
  143: **To run the remediation script**
  144  

  146  
  147: 1. In the navigation pane, choose **Instances**\.
  148  
  149: 1. Select the instance for which you want to run the remediation script\. Choose **Instance state**, and then choose **Stop instance**\.
  150: **Warning**  
  151  When you stop an instance, the data on any instance store volumes is erased\. To keep data from instance store volumes, be sure to back it up to persistent storage\.
  152  
  153: 1. After the instance is stopped, create a backup\. Select the instance, choose **Actions**, then **Image and templates**, and then choose **Create image**\.
  154  
  155: 1. Choose **Instance state**, and then choose **Start instance**\.
  156  

  164  
  165: **Important**  
  166  This issue does not apply to instances running AWS PV or Intel network drivers\.

  169  
  170: **Warning**  
  171  Disabling TCP offloading may reduce the network performance of your instance\.
  172  
  173: **To disable TCP offloading for Windows Server 2012 and 2008**
  174  

  176  
  177: 1. If you're using Windows Server 2012, press **Ctrl\+Esc** to access the **Start** screen, and then choose **Control Panel**\. If you're using Windows Server 2008, choose **Start** and select **Control Panel**\.
  178  
  179: 1. Choose **Network and Internet**, then **Network and Sharing Center**\.
  180  
  181: 1. Choose **Change adapter settings**\.
  182  
  183: 1. Right\-click **Citrix PV Ethernet Adapter \#0** and select **Properties**\.  
  184  ![\[Local area connection properties.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/citrix-local-area-conn.png)
  185  
  186: 1. In the **Local Area Connection Properties** dialog box, choose **Configure** to open the **Citrix PV Ethernet Adapter \#0 Properties** dialog box\.
  187  
  188: 1. On the **Advanced** tab, disable each of the properties, except for **Correct TCP/UDP Checksum Value**\. To disable a property, select it from **Property** and choose **Disabled** from **Value**\.
  189  
  190: 1. Choose **OK**\.
  191  

  212  
  213: Disk reads and writes \(IOs\) in the AWS PV drivers occur in two phases: **IO preparation** and **IO completion**\. By default, the preparation phase runs on a single arbitrary core\. The completion phase runs on core `0`\. The amount of computation required to process an IO varies based on it size and other properties\. Some IOs use more computation in the preparation phase, and others in the completion phase\. When an instance drives more than 20,000 IOPS, the preparation or completion phase may result in a bottleneck, where the CPU upon which it runs is at 100% capacity\. Whether or not the preparation or completion phase becomes a bottleneck depends on the properties of the IOs used by the application\.
  214  

  218  
  219: **Prerequisites**
  220  

  227  
  228: **Observe CPU load on your instance**
  229  

  235  
  236:    1. Choose the **Start** menu on your instance\.
  237  
  238:    1. Enter `Task Manager` in the **Start** menu to open Task Manager\.
  239  
  240:    1. If Task Manager displays the Summary View, choose **More details** to expand the detailed view\.
  241  
  242:    1. Choose the **Performance** tab\.
  243  
  244:    1. Select **CPU** in the left pane\.
  245  
  246:    1. Right\-click on the graph in the main pane and select **Change graph to**>**Logical processors** to display each individual core\.
  247  

  255  
  256: **Choose which configuration to apply**    
  257  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/pvdrivers-troubleshooting.html)
  258: **Note**  
  259  We recommend that you do not distribute IO preparation without also distributing IO completion \(setting `DpcRedirection` without setting `NotifierDistributed`\) because the completion phase is sensitive to overload by the preparation phase when the preparation phase is running in parallel\.
  260  
  261: **Registry key values**
  262     + *NotifierDistributed*

  278  
  279: **Default configuration**
  280  

  302  
  303: **Allow driver to choose whether to distribute completion**
  304  

  322  
  323: **Distribute both preparation and completion**
  324  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/raid-config.md:
    6  
    7: **Note**  
    8  You should avoid booting from a RAID volume\. If one of the devices fails, you may be unable to boot the operating system\.

   11  
   12: **Topics**
   13  + [RAID configuration options](#raid-config-options)

   22  
   23: **Important**  
   24  RAID 5 and RAID 6 are not recommended for Amazon EBS because the parity write operations of these RAID modes consume some of the IOPS available to your volumes\. Depending on the configuration of your RAID array, these RAID modes provide 20\-30% fewer usable IOPS than a RAID 0 configuration\. Increased cost is a factor with these RAID modes as well; when using identical volume sizes and speeds, a 2\-volume RAID 0 array can outperform a 4\-volume RAID 6 array that costs twice as much\.  

   34  
   35: **To create a RAID 0 array on Windows**
   36  
   37  1. Create the Amazon EBS volumes for your array\. For more information, see [Create an Amazon EBS volume](ebs-creating-volume.md)\.
   38: **Important**  
   39  Create volumes with identical size and IOPS performance values for your array\. Make sure you do not create an array that exceeds the available bandwidth of your EC2 instance\.

   85        ```
   86: **Note**  
   87  If you receive an error that the disk is write protected, you can clear the read\-only flag with the ATTRIBUTE DISK CLEAR READONLY command and then try the dynamic disk conversion again\.

  117     1. \(Only required if volumes were identified in the previous step\) Select and delete any existing volumes on the disk that you identified in the previous step\.
  118: **Warning**  
  119  This destroys any existing data on the volume\. 

  186     1. Format the volume\.
  187: **Note**  
  188  To perform a full format, omit the `quick` option\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/rbin-condition-keys.md:
   4  
   5: **Topics**
   6  + [`rbin:Request/ResourceType` condition key](#resource-type-parameter)

  12  
  13: **Example 1 \- CreateRule**  
  14: The following sample IAM policy allows IAM principals to make **CreateRule** requests only if the value specified for the `ResourceType` request parameter is `EBS_SNAPSHOT` or `EC2_IMAGE`\. This allows the principal to create new retention rules for snapshots and AMIs only\.
  15  

  35  
  36: **Example 2 \- ListRules**  
  37: The following sample IAM policy allows IAM principals to make **ListRules** requests only if the value specified for the `ResourceType` request parameter is `EBS_SNAPSHOT`\. This allows the principal to list retention rules for snapshots only, and it prevents them from listing retention rules for any other resource type\.
  38  

  62  
  63: **Example 1 \- UpdateRule**  
  64: The following sample IAM policy allows IAM principals to make **UpdateRule** requests only if the `ResourceType` attribute of the requested retention rule is `EBS_SNAPSHOT` or `EC2_IMAGE`\. This allows the principal to update retention rules for snapshots and AMIs only\.
  65  

  85  
  86: **Example 2 \- DeleteRule**  
  87: The following sample IAM policy allows IAM principals to make **DeleteRule** requests only if the `ResourceType` attribute of the requested retention rule is `EBS_SNAPSHOT`\. This allows the principal to delete retention rules for snapshots only\.
  88  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/rbin-eventbridge.md:
   8  
   9: **Topics**
  10  + [RuleLocked](#RuleLocked)

  17  
  18: The following is an example of an event that Recycle Bin generates when a retention rule is successfully locked\. This event can be generated by **CreateRule ** and **LockRule** requests\. The API that generated the event is noted in the `api-name` field\.
  19  

  44  
  45: The following is an example of an event that Recycle Bin generates for unsuccessful attempts to modify or delete a locked rule\. This event can be generated by ** DeleteRule** and **UpdateRule** requests\. The API that generated the event is noted in the `api-name` field\.
  46  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/rbin-monitor.md:
  4  
  5: **Topics**
  6  + [Monitor using EventBridge](rbin-eventbridge.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/readsnapshots.md:
   10  
   11: **Topics**
   12  + [List blocks in a snapshot](#list-blocks)

  117  
  118: Keep the following in mind when making **paginated requests** to list the changed blocks between two snapshots:
  119  + The response can include one or more empty `ChangedBlocks` arrays\. For example:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/recognize-expanded-volume-windows.md:
   6  
   7: **Topics**
   8  + [Extend a Windows file system using the Disk Management utility](#recognize-expanded-volume-windows-disk-management)

  14  
  15: **To extend a file system using Disk Management**
  16  

  20  
  21: 1. In the **Run** dialog, enter **diskmgmt\.msc** and press Enter\. The Disk Management utility opens\.  
  22  ![\[Windows Server Disk Management Utility\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/Expand-Volume-Win2008-before.png)
  23  
  24: 1. On the **Disk Management** menu, choose **Action**, **Rescan Disks**\.
  25  
  26: 1. Open the context \(right\-click\) menu for the expanded drive and choose **Extend Volume**\.
  27: **Note**  
  28: **Extend Volume** might be disabled \(grayed out\) if:  
  29  The unallocated space is not adjacent to the drive\. The unallocated space must be adjacent to the right side of the drive you want to extend\.

  32  
  33: 1. In the **Extend Volume** wizard, choose **Next**\. For **Select the amount of space in MB**, enter the number of megabytes by which to extend the volume\. Generally, you specify the maximum available space\. The highlighted text under **Selected** is the amount of space that is added, not the final size the volume will have\. Complete the wizard\.  
  34  ![\[Windows Server Extend Volume Wizard\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/Extend-Volume-Wizard-Win2008.png)

  41  
  42: **To extend a file system using PowerShell**
  43  

  57  
  58: 1. Run the following command, using the drive letter you noted in step 4 in place of **<drive\-letter>**\. PowerShell returns the minimum and maximum size of the partition allowed, in bytes\.
  59  

  63  
  64: 1. To extend the partition to a specified amount, run the following command, entering the new size of the volume in place of **<size>**\. You can enter the size in `KB`, `MB`, and `GB`; for example, `50GB`\.
  65  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/recycle-bin-ct.md:
  2  
  3: ⟪ 284 characters skipped ⟫ivery of CloudTrail events to an Amazon Simple Storage Service \(Amazon S3\) bucket\. If you don't configure a trail, you can still view the most recent management events in the CloudTrail console in **Event history**\. You can use the information collected by CloudTrail to determine the request that was made to Recycle Bin, the IP address from which the request was made, who made the request, when it was made, and additional details\.
  4  

  8  
  9: CloudTrail is enabled on your AWS account when you create the account\. When supported event activity occurs in Recycle Bin, that activity is recorded in a CloudTrail event along with other AWS service events in **Event history**\. You can view, search, and download recent events in your AWS account\. For more information, see [Viewing Events with CloudTrail Event History](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html)\.
  10  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/recycle-bin-perms.md:
  4  
  5: **Topics**
  6  + [Permissions for working with Recycle Bin and retention rules](#rule-perms)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/recycle-bin-working-with-amis.md:
   10  
   11: **Topics**
   12  + [Permissions for working with AMIs in the Recycle Bin](#ami-perms)

   81  
   82: **To view deleted AMIs in the Recycle Bin using the console**
   83  

   85  
   86: 1. In the navigation pane, choose **Recycle Bin**\.
   87  
   88: 1. The grid lists all of the resources that are currently in the Recycle Bin\. To view the details for a specific AMI, select it in the grid, and choose **Actions**, **View details**\.
   89  

   92  
   93: **To view deleted AMIs in the Recycle Bin using the AWS CLI**  
   94  Use the [ list\-images\-in\-recycle\-bin](https://docs.aws.amazon.com/cli/latest/reference/ec2/list-images-in-recycle-bin.html) AWS CLI command\. To view specific AMIs, include the `--image-id` option and specify the IDs of the AMIs to view\. You can specify up to 20 IDs in a single request\.

  123  
  124: **Important**  
  125  If you receive the following error, you might need to update your AWS CLI version\. For more information, see [Command not found errors ](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-troubleshooting.html#tshoot-install-not-found)\.  

  141  
  142: **To restore an AMI from the Recycle Bin using the console**
  143  

  145  
  146: 1. In the navigation pane, choose **Recycle Bin**\.
  147  
  148: 1. The grid lists all of the resources that are currently in the Recycle Bin\. Select the AMI to restore, and choose **Recover**\.
  149  
  150: 1. When prompted, choose **Recover**\.
  151  

  154  
  155: **To restore a deleted AMI from the Recycle Bin using the AWS CLI**  
  156  Use the [ restore\-image\-from\-recycle\-bin](https://docs.aws.amazon.com/cli/latest/reference/ec2/restore-image-from-recycle-bin.html) AWS CLI command\. For `--image-id`, specify the ID of the AMI to restore\.

  169  
  170: **Important**  
  171  If you receive the following error, you might need to update your AWS CLI version\. For more information, see [Command not found errors ](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-troubleshooting.html#tshoot-install-not-found)\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/recycle-bin-working-with-rules.md:
    8  With Recycle Bin, you can create two types of retention rules:
    9: + **Tag\-level retention rules** — A tag\-level retention rule uses resource tags to identify the resources that are to be retained in the Recycle Bin\. For each retention rule, you specify one or more tag key and value pairs\. Resources of the specified type that are tagged with at least one of the tag key and value pairs that are specified in the retention rule are automatically retained in the Recycle Bin upon deletion\. Use this type of retention rule if you want to protect specific resources in your account based on their tags\.
   10: + **Region\-level retention rules** — A Region\-level retention rule does not have any resource tags specified\. It applies to all of the resources of the specified type in the Region in which the rule is created, even if the resources are not tagged\. Use this type of retention rule if you want to protect all resources of a specific type in a specific Region\.
   11  

   13  
   14: **Topics**
   15  + [Create a retention rule](#recycle-bin-create-rule)

   36  + An optional description for the retention rule\. The description can be up to 255 characters long\.
   37: **Note**  
   38  We recommend that you do not include personally identifying, confidential, or sensitive information in the retention rule description\.

   49  
   50: **To create a retention rule**
   51  

   53  
   54: 1. In the navigation pane, choose **Retention rules**, and then choose **Create retention rule**\.
   55  
   56: 1. In the **Rule details** section, do the following:
   57  
   58:    1. \(*Optional*\) For **Retention rule name**, enter a descriptive name for the retention rule\.
   59  
   60:    1. \(*Optional*\) For **Retention rule description**, enter a brief description for the retention rule\.
   61  
   62: 1. In the **Rule settings** section, do the following:
   63  
   64:    1. For **Resource type**, select choose the type of resource for the retention rule to protect\. The retention rule will retain only resources of this type in the Recycle Bin\.
   65  
   66     1. Do one of the following:
   67:       + To create a Region\-level retention rule that matches all deleted resources of the specified type in the Region, select **Apply to all resources**\. The retention rule will retain all deleted resources of the specified in the Recycle Bin upon deletion, even if the resources do not have any tags\.
   68:       + To create a tag\-level retention rule, for **Resource tags to match**, enter the tag key and value pairs to use to identify resource of the specified type that are to be retained in the Recycle Bin\. Only resources of the specified type that have at least one of the specified tag key and value pairs will be retained by the retention rule\.
   69  
   70:    1. For **Retention period**, enter the number of days for which the retention rule is to retain resources in the Recycle Bin\.
   71  
   72: 1. \(*Optional*\) To lock the retention rule, for **Rule lock settings**, select **Lock**, and then for **Unlock delay period**, specify the unlock delay period in days\. A locked retention rule can't be modified or deleted\. To modify or delete the rule, you must first unlock it and then wait for the unlock delay period to expire\. For more information, see [Lock retention rules](#recycle-bin-lock)
   73  
   74:    To leave the retention rule unlocked, for **Rule lock settings**, keep **Unlock** selected\. An unlocked retention rule can be modified or deleted at any time\. For more information, see [Unlock retention rules](#recycle-bin-unlock)\.
   75  
   76: 1. \(*Optional*\) In the **Tags** section, do the following:
   77  
   78:    1. To tag the rule with custom tags, choose **Add tag** and then enter the tag key and value pair\.
   79  
   80: 1. Choose **Create retention rule**\.
   81  

   84  
   85: **To create a retention rule**  
   86  Use the [create\-rule](https://docs.aws.amazon.com/cli/latest/reference/rbin/create-rule.html) AWS CLI command\. For `--retention-period`, specify the number of days to retain deleted snapshots in the Recycle Bin\. For `--resource-type`, specify `EBS_SNAPSHOT` for snapshots or `EC2_IMAGE` for AMIs\. To create a tag\-level retention rule, for `--resource-tags`, specify the tags to use to identify the snapshots that are to be retained\. To create a Region\-level retention rule, omit `--resource-tags`\. To lock a retention rule, include `--lock-configuration`, and specify the unlock delay period in days\.

   96  
   97: **Example 1**  
   98  The following example command creates an unlocked Region\-level retention rule that retains all deleted snapshots for a period of `7` days\.

  106  
  107: **Example 2**  
  108  The following example command creates a tag\-level rule that retains deleted snapshots that are tagged with `purpose=production` for a period of `7` days\.

  117  
  118: **Example 3**  
  119  The following example command creates a locked Region\-level retention rule that retains all deleted snapshots for a period of `7` days\. The retention rule is locked with an unlock delay period of 7 days\.

  137  
  138: **To view retention rules**
  139  

  141  
  142: 1. In the navigation pane, choose **Retention rules**\.
  143  

  148  
  149: **To view all of your retention rules**  
  150  Use the [list\-rules](https://docs.aws.amazon.com/cli/latest/reference/rbin/list-rules.html) AWS CLI command, and for `--resource-type`, specify `EBS_SNAPSHOT` for snapshots or `EC2_IMAGE` for AMIs\.

  155  
  156: **Example**  
  157  The following example command provides lists all retention rules that retain snapshots\.

  162  
  163: **To view information for a specific retention rule**  
  164  Use the [get\-rule](https://docs.aws.amazon.com/cli/latest/reference/rbin/get-rule.html) AWS CLI command\.

  169  
  170: **Example**  
  171  The following example command provides information about retention rule `pwxIkFcvge4`\.

  186  
  187: **Note**  
  188  We recommend that you do not include personally identifying, confidential, or sensitive information in the retention rule description\.

  196  
  197: **To update a retention rule**
  198  

  200  
  201: 1. In the navigation pane, choose **Retention rules**\.
  202  
  203: 1. In the grid, select the retention rule to update, and choose **Actions**, **Edit retention rule**\.
  204  
  205: 1. In the **Rule details** section, update **Retention rule name** and **Retention rule description** as needed\.
  206  
  207: 1. In the **Rule settings** section, update the **Resource type**, **Resource tags to match**, and **Retention period** as needed\.
  208  
  209: 1. In the **Tags** section, add or remove retention rule tags as needed\.
  210  
  211: 1. Choose **Save retention rule**\.
  212  

  215  
  216: **To update a retention rule**  
  217  Use the [update\-rule](https://docs.aws.amazon.com/cli/latest/reference/rbin/update-rule.html) AWS CLI command\. For `--identifier`, specify the ID of the retention rule to update For `--resource-types`, specify `EBS_SNAPSHOT` for snapshots or `EC2_IMAGE` for AMIs\.

  226  
  227: **Example**  
  228  The following example command updates retention rule `6lsJ2Fa9nh9` to retain all snapshots for `7` days and updates its description\.

  243  
  244: **Note**  
  245  You can't lock tag\-level retention rules\.

  256  
  257: **Considerations**
  258  + You can lock Region\-level retention rules only\.

  267  
  268: **To lock a retention rule**
  269  

  271  
  272: 1. In the navigation panel, choose **Retention rules**\.
  273  
  274: 1. In the grid, select the unlocked retention rule to lock, and choose **Actions**, **Edit retention rule lock**\.
  275  
  276: 1. In the Edit retention rule lock screen, choose **Lock**, and then for **Unlock delay period**, specify the unlock delay period in days\.
  277  
  278: 1. Select the **I acknowledge that locking the retention rule will prevent it from being modified or deleted** check box, and then choose **Save**\.
  279  

  282  
  283: **To lock an unlocked retention rule**  
  284  Use the [lock\-rule](https://docs.aws.amazon.com/cli/latest/reference/rbin/lock-rule.html) AWS CLI command\. For `--identifier`, specify the ID of the retention rule to lock\. For `--lock-configuration`, specify the unlock delay period in days\.

  291  
  292: **Example**  
  293  The following example command locks retention rule `6lsJ2Fa9nh9` and sets the unlock delay period to 15 days\.

  308  
  309: **Considerations**
  310  + You can re\-lock a retention rule during the unlock delay period\.

  321  
  322: **To unlock a retention rule**
  323  

  325  
  326: 1. In the navigation panel, choose **Retention rules**\.
  327  
  328: 1. In the grid, select the locked retention rule to unlock, and choose **Actions**, **Edit retention rule lock**\.
  329  
  330: 1. On the Edit retention rule lock screen, choose **Unlock**, and then choose **Save**\.
  331  

  334  
  335: **To unlock a locked retention rule**  
  336  Use the [unlock\-rule](https://docs.aws.amazon.com/cli/latest/reference/rbin/unlock-rule.html) AWS CLI command\. For `--identifier`, specify the ID of the retention rule to unlock\.

  342  
  343: **Example**  
  344  The following example command unlocks retention rule `6lsJ2Fa9nh9`

  361  
  362: **To tag a retention rule**
  363  

  365  
  366: 1. In the navigation pane, choose **Retention rules**\.
  367  
  368: 1. Select the retention rule to tag, choose the **Tags** tab, and then choose **Manage tags**\.
  369  
  370: 1. Choose **Add tag**\. For **Key**, enter the tag key\. For **Value**, enter the tag value\.
  371  
  372: 1. Chose **Save**\.
  373  

  376  
  377: **To tag a retention rule**  
  378  Use the [tag\-resource](https://docs.aws.amazon.com/cli/latest/reference/rbin/tag-resource.html) AWS CLI command\. For `--resource-arn`, specify the Amazon Resource Name \(ARN\) of the retention rule to tag, and for `--tags`, specify the tag key and value pair\.

  385  
  386: **Example**  
  387  The following example command tags retention rule `arn:aws:rbin:us-east-1:123456789012:rule/nOoSBBtItF3` with tag `purpose=production`\.

  403  
  404: **To view tags for a retention rule**
  405  

  407  
  408: 1. In the navigation pane, choose **Retention rules**\.
  409  
  410: 1. Select the retention rule for which to view the tags, and choose the **Tags** tab\.
  411  

  414  
  415: **To view the tags assigned to a retention rule**  
  416  Use the [list\-tags\-for\-resource](https://docs.aws.amazon.com/cli/latest/reference/rbin/list-tags-for-resource.html) AWS CLI command\. For `--resource-arn`, specify the ARN of the retention rule\.

  422  
  423: **Example**  
  424  The following example command lists the tags for retention rule `arn:aws:rbin:us-east-1:123456789012:rule/nOoSBBtItF3`\.

  439  
  440: **To remove a tag from a retention rule**
  441  

  443  
  444: 1. In the navigation pane, choose **Retention rules**\.
  445  
  446: 1. Select the retention rule from which to remove the tag, choose the **Tags** tab, and then choose **Manage tags**\.
  447  
  448: 1. Choose **Remove** next to the tag to remove\.
  449  
  450: 1. Chose **Save**\.
  451  

  454  
  455: **To remove a tag from a retention rule**  
  456  Use the [untag\-resource](https://docs.aws.amazon.com/cli/latest/reference/rbin/untag-resource.html) AWS CLI command\. For `--resource-arn`, specify the ARN of the retention rule\. For `--tagkeys`, specify the tags keys of the tags to remove\.

  463  
  464: **Example**  
  465  The following example command removes tags that have a tag key of `purpose` from retention rule `arn:aws:rbin:us-east-1:123456789012:rule/nOoSBBtItF3`\.

  483  
  484: **To delete a retention rule**
  485  

  487  
  488: 1. In the navigation pane, choose **Retention rules**\.
  489  
  490: 1. In the grid, select the retention rule to delete, and choose **Actions**, **Delete retention rule**\.
  491  
  492: 1. When prompted, enter the confirmation message and choose **Delete retention rule**\.
  493  

  496  
  497: **To delete a retention rule**  
  498  Use the [delete\-rule](https://docs.aws.amazon.com/cli/latest/reference/rbin/delete-rule.html) AWS CLI command\. For `--identifier`, specify the ID of the retention rule to delete\.

  503  
  504: **Example**  
  505  The following example command deletes retention rule `6lsJ2Fa9nh9`\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/recycle-bin.md:
   8  
   9: **Topics**
  10  + [How does it work?](#recycle-bin-concepts)

  28  With Recycle Bin, you can create two types of retention rules:
  29: + **Tag\-level retention rules** — A tag\-level retention rule uses resource tags to identify the resources that are to be retained in the Recycle Bin\. For each retention rule, you specify one or more tag key and value pairs\. Resources of the specified type that are tagged with at least one of the tag key and value pairs that are specified in the retention rule are automatically retained in the Recycle Bin upon deletion\. Use this type of retention rule if you want to protect specific resources in your account based on their tags\.
  30: + **Region\-level retention rules** — A Region\-level retention rule does not have any resource tags specified\. It applies to all of the resources of the specified type in the Region in which the rule is created, even if the resources are not tagged\. Use this type of retention rule if you want to protect all resources of a specific type in a specific Region\.
  31  

  41  + Amazon EBS snapshots
  42: **Important**  
  43  Recycle Bin retention rules also apply to archived snapshots in the archive storage tier\. If you delete an archived snapshot that matches a retention rule, that snapshot is retained in the Recycle Bin for the period defined in the retention rule\. Archived snapshots are billed at the rate for archived snapshots while they are in the Recycle Bin\.

  58  Recycle Bin works with the following services:
  59: + **AWS CloudTrail** — Enables you to record events that occur in Recycle Bin\. For more information, see [Monitor Recycle Bin using AWS CloudTrailMonitor using CloudTrail](recycle-bin-ct.md)\.
  60  

  64  
  65: **Note**  
  66  Some resources might still appear in the Recycle Bin console or in the AWS CLI and API output for a short period after their retention periods have expired and they have been permanently deleted\. You are not billed for these resources\. Billing stops as soon as the retention period expires\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/replatform-sql-server.md:
   4  
   5: **Topics**
   6  + [Concepts](#replatform-sql-server-concepts)

  16  
  17:  **Backup** 
  18  

  20  
  21:  **Restore** 
  22  

  24  
  25:  **Replatform** 
  26  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/reserved-instances-scope.md:
  3  When you purchase a Reserved Instance, you determine the scope of the Reserved Instance\. The scope is either regional or zonal\. 
  4: + **Regional**: When you purchase a Reserved Instance for a Region, it's referred to as a *regional* Reserved Instance\.
  5: + **Zonal**: When you purchase a Reserved Instance for a specific Availability Zone, it's referred to as a *zonal* Reserved Instance\.
  6  

  8  
  9: For more information about how to specify the scope of a Reserved Instance, see [RI Attributes](http://aws.amazon.com/ec2/pricing/reserved-instances/#riattributes), specifically the **Availability Zone** bullet\.
  10  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ResettingAdminPassword_EC2Config.md:
    6  
    7: **Note**  
    8  If you have disabled the local administrator account on the instance and your instance is configured for Systems Manager, you can also re\-enable and reset your local administrator password by using EC2Rescue and Run Command\. For more information, see [Using EC2Rescue for Windows Server with Systems Manager Run Command](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2rw-ssm.html)\.
    9  
   10: **Note**  
   11  There is an AWS Systems Manager Automation document that automatically applies the manual steps necessary to reset the local administrator password\. For more information, see [Reset Passwords and SSH Keys on Amazon EC2 Instances](https://docs.aws.amazon.com/systems-manager/latest/userguide/automation-ec2reset.html) in the *AWS Systems Manager User Guide*\.

   23  
   24: **To verify that the EC2Config service is running**
   25  

   27  
   28: 1. In the navigation pane, choose **Instances** and then select the instance that requires a password reset\. This instance is referred to as the *original* instance in this procedure\.
   29  
   30: 1. \(New console\) Choose **Actions**, **Monitor and troubleshoot**, **Get system log**\.
   31  
   32:    \(Old console\) Choose **Actions**, **System Settings**, **Get System Log**\.
   33  
   34: 1. Locate the EC2 Agent entry, for example, **EC2 Agent: Ec2Config service v3\.18\.1118**\. If you see this entry, the EC2Config service is running\.
   35  

   41  
   42: **To detach the root volume from the instance**
   43  

   45  
   46: 1. In the navigation pane, choose **Instances**\.
   47  
   48: 1. Select the instance that requires a password reset and choose **Actions**, **Instance state**, **Stop instance**\. After the status of the instance changes to **Stopped**, continue with the next step\.
   49  

   55  
   56:    1. Choose **Actions**, **Image and templates**, **Create image**\. Type a name and a description for the image and choose **Create image**\. In the navigation pane, choose **AMIs**\. After the image status changes to **available**, continue to the next step\.
   57  
   58:    1. Select the image and choose **Actions**, and then **Launch**\.
   59  
   60:    1. Complete the wizard, selecting the same instance type, VPC, subnet, security group, and IAM role as the instance to replace, and then choose **Launch**\.
   61  
   62:    1. When prompted, choose the key pair that you created for the new instance, select the acknowledgement check box, and then choose **Launch Instances**\.
   63  

   69  
   70:    1. In the **Description** pane of the original instance, note the ID of the EBS volume listed as the **Root device**\.
   71  
   72:    1. In the navigation pane, choose **Volumes**\.
   73  
   74:    1. In the list of volumes, select the volume noted in the previous step, and choose **Actions**, **Detach Volume**\. After the volume status changes to **available**, continue with the next step\.
   75  

   79  
   80: **To launch a temporary instance and attach the volume**
   81  

   83  
   84:    1. In the navigation pane, choose **Instances**, choose **Launch instances**, and then select an AMI\.
   85: **Important**  
   86  To avoid disk signature collisions, you must select an AMI for a different version of Windows\. For example, if the original instance runs Windows Server 2019, launch the temporary instance using the base AMI for Windows Server 2016\.
   87  
   88:    1. Leave the default instance type and choose **Next: Configure Instance Details**\.
   89  
   90:    1. On the **Configure Instance Details** page, for **Subnet**, select the same Availability Zone as the original instance and choose **Review and Launch**\.
   91: **Important**  
   92  The temporary instance must be in the same Availability Zone as the original instance\. If your temporary instance is in a different Availability Zone, you can't attach the original instance's root volume to it\.
   93  
   94:    1. On the **Review Instance Launch** page, choose **Launch**\.
   95  
   96:    1. When prompted, create a new key pair, download it to a safe location on your computer, and then choose **Launch Instances**\.
   97  

   99  
  100:    1. In the navigation pane, choose **Volumes**, select the volume that you detached from the original instance, and then choose **Actions**, **Attach Volume**\.
  101  
  102:    1. In the **Attach Volume** dialog box, for **Instances**, start typing the name or ID of your temporary instance and select the instance from the list\.
  103  
  104:    1. For **Device**, type **xvdf** \(if it isn't already there\), and choose **Attach**\.
  105  

  109  
  110: **To modify the configuration file**
  111  

  115  
  116:    1. Open the **Disk Management** utility, and bring the drive online using these instructions: [Making an Amazon EBS volume available for use](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ebs-using-volumes.html)\.
  117  

  124  
  125:    1. Using the **Disk Management** utility, bring the volume offline\.
  126  

  128  
  129:    1. In the navigation pane, choose **Volumes**, select the volume, and then choose **Actions**, **Detach Volume**\. After the volume's status changes to **available**, continue with the next step\.
  130  

  136  
  137:    1. In the navigation pane, choose **Volumes**, select the volume that you detached from the temporary instance, and then choose **Actions**, **Attach Volume**\.
  138  
  139:    1. In the **Attach Volume** dialog box, for **Instances**, start typing the name or ID of your original instance and then select the instance\.
  140  
  141:    1. For **Device**, type **/dev/sda1**\.
  142  
  143:    1. Choose **Attach**\. After the volume status changes to `in-use`, continue to the next step\.
  144  
  145: 1. In the navigation pane, choose **Instances**\. Select the original instance and choose **Instance state**, **Start instance**\. After the instance state changes to `Running`, continue to the next step\.
  146  
  147  1. Retrieve your new Windows administrator password using the private key for the new key pair and connect to the instance\. For more information, see [Connect to your Windows instance](connecting_to_windows_instance.md)\.
  148: **Important**  
  149  The instance gets a new public IP address after you stop and start it\. Make sure to connect to the instance using its current public DNS name\. For more information, see [Instance lifecycle](ec2-instance-lifecycle.md)\.
  150  
  151: 1. \(Optional\) If you have no further use for the temporary instance, you can terminate it\. Select the temporary instance, and choose **Instance State**, **Terminate instance**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/resize-limitations.md:
   8  
   9: **Architecture**  
  10  AMIs are specific to the architecture of the processor, so you must select an instance type with the same processor architecture as the current instance type\. For example:  

  13  
  14: **Network**  
  15: Newer instance types must be launched in a VPC\. Therefore, if the instance is in the EC2\-Classic platform, you can't change the instance type to one that is available only in a VPC unless you have a nondefault VPC\. To check whether your instance is in a VPC, check the **VPC ID** value on the details pane of the **Instances** screen in the Amazon EC2 console\. For more information, see [Migrate from EC2\-Classic to a VPC](vpc-migrate.md)\.
  16  
  17: **Network adapters**  
  18  If you switch from a driver for one network adapter to another, the network adapter settings are reset when the operating system creates the new adapter\. To reconfigure the settings, you might need access to a local account with administrator permissions\. The following are examples of moving from one network adapter to another:  

  22  
  23: **Enhanced networking**  
  24  Instance types that support [enhanced networking](enhanced-networking.md) require the necessary drivers installed\. For example, instances based on the [Nitro System](instance-types.md#ec2-nitro-instances) require EBS\-backed AMIs with the Elastic Network Adapter \(ENA\) drivers installed\. To change from an instance type that does not support enhanced networking to an instance type that supports enhanced networking, you must install the [ENA drivers](enhanced-networking-ena.md) or [ixgbevf drivers](sriov-networking.md) on the instance, as appropriate\.  

  27  
  28: **NVMe**  
  29  EBS volumes are exposed as NVMe block devices on instances built on the [Nitro System](instance-types.md#ec2-nitro-instances)\. If you change from an instance type that does not support NVMe to an instance type that supports NVMe, you must first install the [NVMe drivers](nvme-ebs-volumes.md) on your instance\. Also, the device names for devices that you specify in the block device mapping are renamed using NVMe device names \(`/dev/nvme[0-26]n1`\)\.
  30  
  31: **AMI**  
  32  For information about the AMIs required by instance types that support enhanced networking and NVMe, see the Release Notes in the following documentation:  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/resource-ids.md:
  8  
  9: **Resource ID length**  
  10  Prior to January 2016, the IDs assigned to newly created resources of certain resource types used 8 characters after the hyphen \(for example, i\-1a2b3c4d\)\. From January 2016 to June 2018, we changed the IDs of these resource types to use 17 characters after the hyphen \(for example, `i-1234567890abcdef0`\)\. Depending on when your account was created, you might have some existing resources with short IDs, however, any new resources will receive the longer IDs\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ri-convertible-exchange.md:
    8  
    9: **Topics**
   10  + [Requirements for exchanging Convertible Reserved Instances](#riconvertible-exchange-limits)

   28  + All Upfront Convertible Reserved Instances can be exchanged for Partial Upfront Convertible Reserved Instances, and vice versa\.
   29: **Note**  
   30  If the total upfront payment required for the exchange \(true\-up cost\) is less than $0\.00, AWS automatically gives you a quantity of instances in the Convertible Reserved Instance that ensures that true\-up cost is $0\.00 or more\.
   31: **Note**  
   32  If the total value \(upfront price \+ hourly price \* number of remaining hours\) of the new Convertible Reserved Instance is less than the total value of the exchanged Convertible Reserved Instance, AWS automatically gives you a quantity of instances in the Convertible Reserved Instance that ensures that the total value is the same or higher than that of the exchanged Convertible Reserved Instance\.

   35  + You can exchange a No Upfront Convertible Reserved Instance for another No Upfront Convertible Reserved Instance only if the new Convertible Reserved Instance's hourly price is the same or higher than the exchanged Convertible Reserved Instance's hourly price\. 
   36: **Note**  
   37  If the total value \(hourly price \* number of remaining hours\) of the new Convertible Reserved Instance is less than the total value of the exchanged Convertible Reserved Instance, AWS automatically gives you a quantity of instances in the Convertible Reserved Instance that ensures that the total value is the same or higher than that of the exchanged Convertible Reserved Instance\.

   86  
   87: **Example: Convertible Reserved Instance with multiple instances**  
   88  In this example, you have a `t2.micro` Convertible Reserved Instance with four instances in the reservation\. To exchange two `t2.micro` instances for an `m4.xlarge` instance:  

  106  
  107: **To exchange Convertible Reserved Instances using the Amazon EC2 console**
  108  

  110  
  111: 1. Choose **Reserved Instances**, select the Convertible Reserved Instances to exchange, and choose **Actions**, **Exchange Reserved Instance**\.
  112  
  113: 1. Select the attributes of the desired configuration, and choose **Find offering**\. 
  114  

  116  
  117: 1. When you have selected a Convertible Reserved Instance that meets your needs, choose **Review**\.
  118  
  119: 1. Choose **Exchange**, and then **Close**\.
  120  

  123  
  124: **To exchange Convertible Reserved Instances using the Amazon EC2 console**
  125  

  127  
  128: 1. Choose **Reserved Instances**, select the Convertible Reserved Instances to exchange, and choose **Actions**, **Exchange Reserved Instance**\.
  129  
  130: 1. Select the attributes of the desired configuration, and choose **Find Offering**\. 
  131  
  132: 1. Select a new Convertible Reserved Instance\. The **Instance Count** column displays the number of Reserved Instances that you receive for the exchange\. When you have selected a Convertible Reserved Instance that meets your needs, choose **Exchange**\.
  133  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ri-market-concepts-buying.md:
   10  
   11: **Note**  
   12  To purchase and modify Reserved Instances, ensure that your user has the appropriate permissions, such as the ability to describe Availability Zones\. For information, see [Example Policies for Working With the AWS CLI or an AWS SDK](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ExamplePolicies_EC2.html#iam-example-reservedinstances) and [Example Policies for Working in the Amazon EC2 Console](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policies-ec2-console.html#ex-reservedinstances)\.
   13  
   14: **Topics**
   15  + [Choosing a platform](#ri-choosing-platform)

   33  + For Windows with SQL Standard, Windows with SQL Server Enterprise, and Windows with SQL Server Web, you must choose offerings for those specific platforms\.
   34: + For all other Windows versions, choose an offering for the **Windows** platform\.
   35  
   36: **Important**  
   37  If you plan to purchase a Reserved Instance to apply to an On\-Demand Instance that was launched from an AWS Marketplace AMI, first check the `PlatformDetails` field of the AMI\. The `PlatformDetails` field indicates which Reserved Instance to purchase\. The platform details of the AMI must match the platform of the Reserved Instance, otherwise the Reserved Instance will not be applied to the On\-Demand Instance\. For information about how to view the platform details of the AMI, see [Understand AMI billing information](ami-billing-info.md)\.

   46  
   47: You can view your queued purchases in the Amazon EC2 console\. The status of a queued purchase is **queued**\. You can cancel a queued purchase any time before its scheduled time\. For details, see [Cancel a queued purchase](#cancel-queued-purchase)\.
   48  

   55  
   56: **To buy Standard Reserved Instances using the console**
   57  

   59  
   60: 1. In the navigation pane, choose **Reserved Instances**, and then choose **Purchase Reserved Instances**\.
   61  
   62: 1. For **Offering class**, choose **Standard** to display Standard Reserved Instances\.
   63  
   64: 1. To purchase a capacity reservation, toggle on **Only show offerings that reserve capacity** in the top\-right corner of the purchase screen\. When you toggle on this setting, the **Availability Zone** field appears\.
   65  
   66:    To purchase a regional Reserved Instance, toggle off this setting\. When you toggle off this setting, the **Availability Zone** field disappears\. 
   67  
   68: 1. Select other configurations as needed, and then choose **Search**\.
   69  
   70: 1. For each Reserved Instance that you want to purchase, enter the desired quantity, and choose **Add to cart**\.
   71  
   72:    To purchase a Standard Reserved Instance from the Reserved Instance Marketplace, look for **3rd party** in the **Seller** column in the search results\. The **Term** column displays non\-standard terms\. For more information, see [Buy from the Reserved Instance Marketplace](#ri-market-buying-guide)\.
   73  
   74: 1. To see a summary of the Reserved Instances that you selected, choose **View cart**\.
   75  
   76: 1. If **Order on** is **Now**, the purchase is completed immediately after you choose **Order all**\. To queue a purchase, choose **Now** and select a date\. You can select a different date for each eligible offering in the cart\. The purchase is queued until 00:00 UTC on the selected date\. 
   77  
   78: 1. To complete the order, choose **Order all**\.
   79  

   81  
   82: 1. Choose **Close**\.
   83  
   84:    The status of your order is listed in the **State** column\. When your order is complete, the **State** value changes from `Payment-pending` to `Active`\. When the Reserved Instance is `Active`, it is ready to use\.
   85  
   86: **Note**  
   87  If the status goes to `Retired`, AWS might not have received your payment\.

   91  
   92: **To buy Standard Reserved Instances using the console**
   93  

   95  
   96: 1. In the navigation pane, choose **Reserved Instances**, and then choose **Purchase Reserved Instances**\.
   97  
   98: 1. For **Offering Class**, choose **Standard** to display Standard Reserved Instances\.
   99  
  100: 1. To purchase a capacity reservation, choose **Only show offerings that reserve capacity** in the top\-right corner of the purchase screen\. To purchase a regional Reserved Instance, leave the check box unselected\.
  101  
  102: 1. Select other configurations as needed and choose **Search**\.
  103  
  104:    To purchase a Standard Reserved Instance from the Reserved Instance Marketplace, look for **3rd Party** in the **Seller** column in the search results\. The **Term** column displays non\-standard terms\.
  105  
  106: 1. For each Reserved Instance that you want to purchase, enter the quantity, and choose **Add to Cart**\.
  107  
  108: 1. To see a summary of the Reserved Instances that you selected, choose **View Cart**\.
  109  
  110: 1. If **Order On** is **Now**, the purchase is completed immediately\. To queue a purchase, choose **Now** and select a date\. You can select a different date for each eligible offering in the cart\. The purchase is queued until 00:00 UTC on the selected date\. 
  111  
  112: 1. To complete the order, choose **Order**\.
  113  

  115  
  116: 1. Choose **Close**\.
  117  
  118:    The status of your order is listed in the **State** column\. When your order is complete, the **State** value changes from `payment-pending` to `active`\. When the Reserved Instance is `active`, it is ready to use\.
  119  
  120: **Note**  
  121  If the status goes to `retired`, AWS might not have received your payment\.

  124  
  125: **To buy a Standard Reserved Instance using the AWS CLI**
  126  

  190  
  191: **To buy Convertible Reserved Instances using the console**
  192  

  194  
  195: 1. In the navigation pane, choose **Reserved Instances**, and then choose **Purchase Reserved Instances**\.
  196  
  197: 1. For **Offering class**, choose **Convertible** to display Convertible Reserved Instances\.
  198  
  199: 1. To purchase a capacity reservation, toggle on **Only show offerings that reserve capacity** in the top\-right corner of the purchase screen\. When you toggle on this setting, the **Availability Zone** field appears\.
  200  
  201:    To purchase a regional Reserved Instance, toggle off this setting\. When you toggle off this setting, the **Availability Zone** field disappears\. 
  202  
  203: 1. Select other configurations as needed and choose **Search**\.
  204  
  205: 1. For each Convertible Reserved Instance that you want to purchase, enter the quantity, and choose **Add to cart**\.
  206  
  207: 1. To see a summary of your selection, choose **View cart**\.
  208  
  209: 1. If **Order on** is **Now**, the purchase is completed immediately after you choose **Order all**\. To queue a purchase, choose **Now** and select a date\. You can select a different date for each eligible offering in the cart\. The purchase is queued until 00:00 UTC on the selected date\. 
  210  
  211: 1. To complete the order, choose **Order all**\.
  212  

  214  
  215: 1. Choose **Close**\.
  216  
  217:    The status of your order is listed in the **State** column\. When your order is complete, the **State** value changes from `Payment-pending` to `Active`\. When the Reserved Instance is `Active`, it is ready to use\.
  218  
  219: **Note**  
  220  If the status goes to `Retired`, AWS might not have received your payment\. 

  224  
  225: **To buy Convertible Reserved Instances using the console**
  226  

  228  
  229: 1. In the navigation pane, choose **Reserved Instances**, and then choose **Purchase Reserved Instances**\.
  230  
  231: 1. For **Offering Class**, choose **Convertible** to display Convertible Reserved Instances\.
  232  
  233: 1. To purchase a capacity reservation, choose **Only show offerings that reserve capacity** in the top\-right corner of the purchase screen\. To purchase a regional Reserved Instance, leave the check box unselected\.
  234  
  235: 1. Select other configurations as needed and choose **Search**\.
  236  
  237: 1. For each Convertible Reserved Instance that you want to purchase, enter the quantity, and choose **Add to Cart**\.
  238  
  239: 1. To see a summary of your selection, choose **View Cart**\.
  240  
  241: 1. If **Order On** is **Now**, the purchase is completed immediately\. To queue a purchase, choose **Now** and select a date\. You can select a different date for each eligible offering in the cart\. The purchase is queued until 00:00 UTC on the selected date\. 
  242  
  243: 1. To complete the order, choose **Order**\.
  244  

  246  
  247: 1. Choose **Close**\.
  248  
  249:    The status of your order is listed in the **State** column\. When your order is complete, the **State** value changes from `payment-pending` to `active`\. When the Reserved Instance is `active`, it is ready to use\.
  250  
  251: **Note**  
  252  If the status goes to `retired`, AWS might not have received your payment\. 

  255  
  256: **To buy a Convertible Reserved Instance using the AWS CLI**
  257  

  308  There are a few differences between Reserved Instances purchased in the Reserved Instance Marketplace and Reserved Instances purchased directly from AWS:
  309: + **Term** – Reserved Instances that you purchase from third\-party sellers have less than a full standard term remaining\. Full standard terms from AWS run for one year or three years\.
  310: + **Upfront price** – Third\-party Reserved Instances can be sold at different upfront prices\. The usage or recurring fees remain the same as the fees set when the Reserved Instances were originally purchased from AWS\.
  311: + **Types of Reserved Instances** – Only Amazon EC2 Standard Reserved Instances can be purchased from the Reserved Instance Marketplace\. Convertible Reserved Instances, Amazon RDS, and Amazon ElastiCache Reserved Instances are not available for purchase on the Reserved Instance Marketplace\.
  312  

  322  
  323: **To view your Reserved Instances in the console**
  324  

  326  
  327: 1. In the navigation pane, choose **Reserved Instances**\.
  328  
  329: 1. Your queued, active, and retired Reserved Instances are listed\. The **State** column displays the state\. 
  330  
  331: 1. If you are a seller in the Reserved Instance Marketplace, the **My Listings** tab displays the status of a reservation that's listed in the [Reserved Instance Marketplace](ri-market-general.md)\. For more information, see [Reserved Instance listing states](ri-market-general.md#ri-listing-states)\.
  332  
  333: **To view your Reserved Instances using the command line**
  334  + [describe\-reserved\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-reserved-instances.html) \(AWS CLI\)

  343  
  344: **To cancel a queued purchase**
  345  

  347  
  348: 1. In the navigation pane, choose **Reserved Instances**\.
  349  

  351  
  352: 1. Choose **Actions**, **Delete queued Reserved Instances**\.
  353  
  354: 1. When prompted for confirmation, choose **Delete**, and then **Close**\.
  355  

  358  
  359: **To cancel a queued purchase**
  360  

  362  
  363: 1. In the navigation pane, choose **Reserved Instances**\.
  364  

  366  
  367: 1. Choose **Actions**, **Delete Queued Reserved Instances**\.
  368  
  369: 1. When prompted for confirmation, choose **Yes, Delete**\.
  370  

  372  
  373: **To cancel a queued purchase using the command line**
  374  + [delete\-queued\-reserved\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-queued-reserved-instances.html) \(AWS CLI\)

  383  
  384: **To renew a Reserved Instance using a queued purchase**
  385  

  387  
  388: 1. In the navigation pane, choose **Reserved Instances**\.
  389  

  391  
  392: 1. Choose **Actions**, **Renew Reserved Instances**\.
  393  
  394: 1. To complete the order, choose **Order all**, and then **Close**\.
  395  

  398  
  399: **To renew a Reserved Instance using a queued purchase**
  400  

  402  
  403: 1. In the navigation pane, choose **Reserved Instances**\.
  404  

  406  
  407: 1. Choose **Actions**, **Renew Reserved Instances**\.
  408  
  409: 1. To complete the order, choose **Order**\.
  410  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ri-market-general.md:
   14  
   15: **Topics**
   16  + [Restrictions and limitations](#ri-seller-limits)

   45  
   46: **Note**  
   47  Only the AWS account root user can register an account as a seller\.

   49  To sell in the Reserved Instance Marketplace, you must first register as a seller\. During registration, you provide the following information:
   50: + **Bank information**—AWS must have your bank information in order to disburse funds collected when you sell your reservations\. The bank you specify must have a US address\. For more information, see [Bank account for disbursement](#ri-market-concepts-bank)\.
   51: + **Tax information**—All sellers are required to complete a tax information interview to determine any necessary tax reporting obligations\. For more information, see [Tax information](#ri-market-concepts-taxinfo)\.
   52  

   58  
   59: **To register a default bank account for disbursements**
   60  

   62  
   63: 1. On the **Manage Bank Account** page, provide the following information about the bank through to receive payment:
   64     + Bank account holder name

   67     + Bank account type
   68: **Note**  
   69  If you are using a corporate bank account, you are prompted to send the information about the bank account via fax \(1\-206\-765\-3424\)\.

   72  
   73: **To change the default bank account for disbursement**
   74  

   76  
   77: 1. On the **Manage Bank Account** page, add a new bank account or modify the default bank account as needed\.
   78  

   98  The following are important limits to note:
   99: + **You can sell up to $50,000 in Reserved Instances**\. To increase this limit, complete the [EC2 Reserved Instance Sales](https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ec2-reserved-instance-sales) form\.
  100: + **You can sell up to 5,000 Reserved Instances**\. To increase this limit, complete the [EC2 Reserved Instance Sales](https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ec2-reserved-instance-sales) form\.
  101: + **The minimum price is $0**\. The minimum allowed price in the Reserved Instance Marketplace is $0\.00\.
  102  

  118  
  119: **To list a Reserved Instance in the Reserved Instance Marketplace using the AWS Management Console**
  120  

  122  
  123: 1. In the navigation pane, choose **Reserved Instances**\.
  124  
  125: 1. Select the Reserved Instances to list, and choose **Actions**, **Sell Reserved Instances**\.
  126  
  127: 1. On the **Configure Your Reserved Instance Listing** page, set the number of instances to sell and the upfront price for the remaining term in the relevant columns\. See how the value of your reservation changes over the remainder of the term by selecting the arrow next to the **Months Remaining** column\.
  128  
  129: 1. If you are an advanced user and you want to customize the pricing, you can enter different values for the subsequent months\. To return to the default linear price drop, choose **Reset**\.
  130  
  131: 1. Choose **Continue** when you are finished configuring your listing\.
  132  
  133: 1. Confirm the details of your listing, on the **Confirm Your Reserved Instance Listing** page and if you're satisfied, choose **List Reserved Instance**\.
  134  
  135: **To view your listings in the console**
  136  

  138  
  139: 1. In the navigation pane, choose **Reserved Instances**\.
  140  
  141: 1. Select the Reserved Instance that you've listed and choose the **My Listings** tab near the bottom of the page\.
  142  
  143: **To manage Reserved Instances in the Reserved Instance Marketplace using the AWS CLI**
  144  

  154  
  155: **Listing State** on the **My Listings** tab of the Reserved Instances page displays the current status of your listings:
  156  
  157: The information displayed by **Listing State** is about the status of your listing in the Reserved Instance Marketplace\. It is different from the status information that is displayed by the **State** column in the **Reserved Instances** page\. This **State** information is about your reservation\.
  158: + **active**—The listing is available for purchase\.
  159: + **canceled**—The listing is canceled and isn't available for purchase in the Reserved Instance Marketplace\.
  160: + **closed**—The Reserved Instance is not listed\. A Reserved Instance might be `closed` because the sale of the listing was completed\.
  161  

  163  
  164: When all the instances in your listing are matched and sold, the **My Listings** tab shows that the **Total instance count** matches the count listed under **Sold**\. Also, there are no **Available** instances left for your listing, and its **Status** is `closed`\.
  165  

  171  
  172: The **My Listings** tab in the **Reserved Instance** console page displays the listing this way:
  173  

  181  
  182: This is how your listing looks in the **My Listings** tab:
  183  

  195  
  196: **To track the status of a Reserved Instance listing in the console**
  197  

  199  
  200: 1. In the navigation page, choose **Reserved Instances**\.
  201  
  202: 1. Choose the **My Listings** tab\.
  203  
  204:    The **My Listings** tab contains the **Listing State** value\. It also contains information about the term, listing price, and a breakdown of how many instances in the listing are available, pending, sold, and canceled\.
  205  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/ri-modifying.md:
    4  
    5: **Note**  
    6  You can also exchange a Convertible Reserved Instance for another Convertible Reserved Instance with a different configuration\. For more information, see [Exchange Convertible Reserved Instances](ri-convertible-exchange.md)\.

   21  
   22: **Topics**
   23  + [Requirements and restrictions for modification](#ri-modification-limits)

   33  | --- | --- | --- | 
   34: |  Change **Availability Zones** within the same Region  |  Linux and Windows  | \- | 
   35: |  Change the **scope** from Availability Zone to Region and vice versa  |  Linux and Windows  |  A zonal Reserved Instance is scoped to an Availability Zone and reserves capacity in that Availability Zone\. If you change the scope from Availability Zone to Region \(in other words, from zonal to regional\), you lose the capacity reservation benefit\. A regional Reserved Instance is scoped to a Region\. Your Reserved Instance discount can apply to instances running in any Availability Zone in that Region\. Furthermore, the Reserved Instance discount applies to instance usage across all sizes in the selected instance family\. If you change the scope from Region to Availability Zone \(in other words, from regional to zonal\), you lose Availability Zone flexibility and instance size flexibility \(if applicable\)\. For more information, see [How Reserved Instances are applied](apply_ri.md)\. | 
   36: |  Change the **instance size** within the same instance family and generation  |  Linux/UNIX only Instance size flexibility is not available for Reserved Instances on the other platforms, which include Linux with SQL Server Standard, Linux with SQL Server Web, Linux with SQL Server Enterprise, Red Hat Enterprise Linux, SUSE Linux, Windows, Windows with SQL Standard, Windows with SQL Server Enterprise, and Windows with SQL Server Web\.  |  The reservation must use default tenancy\. Some instance families are not supported, because there are no other sizes available\. For more information, see [Support for modifying instance sizes](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ri-modifying.html#ri-modification-instancemove) in the *Amazon EC2 User Guide for Linux Instances*\.  | 
   37: |  Change the **network** from EC2\-Classic to Amazon VPC and vice versa  |  Linux and Windows  |  The network platform must be available in your AWS account\. If you created your AWS account after 2013\-12\-04, it does not support EC2\-Classic\.  | 
   38  
   39: **Requirements**
   40  

   56  
   57: **To modify your Reserved Instances using the AWS Management Console**
   58  

   60  
   61: 1. On the **Reserved Instances** page, select one or more Reserved Instances to modify, and choose **Actions**, **Modify Reserved Instances**\.
   62: **Note**  
   63: If your Reserved Instances are not in the active state or cannot be modified, **Modify Reserved Instances** is disabled\.
   64  
   65: 1. The first entry in the modification table displays attributes of the selected Reserved Instances, and at least one target configuration beneath it\. The **Units** column displays the total instance size footprint\. Choose **Add** for each new configuration to add\. Modify the attributes as needed for each configuration\.
   66:    + **Scope**: Choose whether the configuration applies to an Availability Zone or to the whole Region\.
   67:    + **Availability Zone**: Choose the required Availability Zone\. Not applicable for regional Reserved Instances\.
   68:    + **Count**: Specify the number of instances\. To split the Reserved Instances into multiple configurations, reduce the count, choose **Add**, and specify a count for the additional configuration\. For example, if you have a single configuration with a count of 10, you can change its count to 6 and add a configuration with a count of 4\. This process retires the original Reserved Instance after the new Reserved Instances are activated\.
   69  
   70: 1. Choose **Continue**\.
   71  
   72: 1. To confirm your modification choices when you finish specifying your target configurations, choose **Submit modifications**\.
   73  
   74: 1. You can determine the status of your modification request by looking at the **State** column in the Reserved Instances screen\. The following are the possible states\.
   75:    + **active* \(pending modification\)*** — Transition state for original Reserved Instances
   76:    + **retired* \(pending modification\)*** — Transition state for original Reserved Instances while new Reserved Instances are being created
   77:    + **retired** — Reserved Instances successfully modified and replaced
   78:    + **active** — One of the following:
   79       + New Reserved Instances created from a successful modification request

   84  
   85: **To modify your Reserved Instances using the AWS Management Console**
   86  

   88  
   89: 1. On the **Reserved Instances** page, select one or more Reserved Instances to modify, and choose **Actions**, **Modify Reserved Instances**\.
   90: **Note**  
   91: If your Reserved Instances are not in the active state or cannot be modified, **Modify Reserved Instances** is disabled\.
   92  
   93: 1. The first entry in the modification table displays attributes of selected Reserved Instances, and at least one target configuration beneath it\. The **Units** column displays the total instance size footprint\. Choose **Add** for each new configuration to add\. Modify the attributes as needed for each configuration, and then choose **Continue**:
   94:    + **Scope**: Choose whether the configuration applies to an Availability Zone or to the whole Region\.
   95:    + **Availability Zone**: Choose the required Availability Zone\. Not applicable for regional Reserved Instances\.
   96:    + **Count**: Specify the number of instances\. To split the Reserved Instances into multiple configurations, reduce the count, choose **Add**, and specify a count for the additional configuration\. For example, if you have a single configuration with a count of 10, you can change its count to 6 and add a configuration with a count of 4\. This process retires the original Reserved Instance after the new Reserved Instances are activated\.
   97  
   98: 1. To confirm your modification choices when you finish specifying your target configurations, choose **Submit Modifications**\.
   99  
  100: 1. You can determine the status of your modification request by looking at the **State** column in the Reserved Instances screen\. The following are the possible states\.
  101:    + **active* \(pending modification\)*** — Transition state for original Reserved Instances
  102:    + **retired* \(pending modification\)*** — Transition state for original Reserved Instances while new Reserved Instances are being created
  103:    + **retired** — Reserved Instances successfully modified and replaced
  104:    + **active** — One of the following:
  105       + New Reserved Instances created from a successful modification request

  109  
  110: **To modify your Reserved Instances using the command line**
  111  

  125  
  126: **Not all selected Reserved Instances can be processed for modification**  
  127: Amazon EC2 identifies and lists the Reserved Instances that cannot be modified\. If you receive a message like this, go to the **Reserved Instances** page in the Amazon EC2 console and check the information for the Reserved Instances\.
  128  
  129: **Error in processing your modification request**  
  130  You submitted one or more Reserved Instances for modification and none of your requests can be processed\. Depending on the number of reservations you are modifying, you can get different versions of the message\. 

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/scenarios-enis.md:
  12  
  13: **Criteria**
  14  + The primary network interface on the instance \(*eth0*\) handles public traffic\.

  16  
  17: **Settings**
  18  + The primary network interface, which may or may not be behind a load balancer, has an associated security group that allows access to the server from the internet\. For example, allow TCP port 80 and 443 from `0.0.0.0/0` or from the load balancer\.

  23  
  24: **Note**  
  25  To ensure failover capabilities, consider using a secondary private IPv4 for incoming traffic on a network interface\. In the event of an instance failure, you can move the interface and/or secondary private IPv4 address to a standby instance\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/screenshot-service.md:
    4  
    5: **Topics**
    6  + [Get a screenshot of an unreachable instance](#how-to-ics)

   44  
   45: **To get a screenshot of a running instance using the console**
   46  

   48  
   49: 1. In the left navigation pane, choose **Instances**\.
   50  

   52  
   53: 1. Choose **Actions**, **Monitor and troubleshoot**, **Get instance screenshot**\.
   54  
   55: 1. Choose **Download**, or right\-click the image to download and save it\.
   56  
   57: **To get a screenshot of a running instance using the command line**
   58  

   88  
   89: **AWS network configuration**  
   90  

   97  
   98: **Windows network configuration**  
   99  

  104  
  105: **Local or on\-premises network configuration**
  106  

  113  
  114: **Remote Desktop Services configuration**  
  115  

  118  | RDS is running | Verify that RDS is running on the instance\. Connect to the instance using the Microsoft Management Console \(MMC\) Services snap\-in \(services\.msc\)\. In the list of services, verify that Remote Desktop Services is Running\. If it isn't, start it and then set the startup type to Automatic\. If you can't connect to the instance by using the Services snap\-in, detach the root volume from the instance, take a snapshot of the volume or create an AMI from it, attach the original volume to another instance in the same Availability Zone as a secondary volume, and modify the [Start](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-2000-server/cc959920(v=technet.10)?redirectedfrom=MSDN) registry key\. When you are finished, reattach the root volume to the original instance\. For more information about detaching volumes, see [Detach an Amazon EBS volume from a Windows instance](ebs-detaching-volume.md)\. | 
  119: | RDS is enabled |  Even if the service is started, it might be disabled\. Detach the root volume from the instance, take a snapshot of the volume or create an AMI from it, attach the original volume to another instance in the same Availability Zone as a secondary volume, and enable the service by modifying the **Terminal Server** registry key as described in [Enable Remote Desktop on an EC2 Instance With Remote Registry](troubleshoot-connect-windows-instance.md#troubleshooting-windows-rdp-remote-registry)\. When you are finished, reattach the root volume to the original instance\. For more information, see [Detach an Amazon EBS volume from a Windows instance](ebs-detaching-volume.md)\.  | 
  120  

  122  
  123: Check the **CPUUtilization \(Maximum\)** metric on your instance by using Amazon CloudWatch\. If **CPUUtilization \(Maximum\)** is a high number, wait for the CPU to go down and try connecting again\. High CPU usage can be caused by:
  124  + Windows Update

  145     Detach the root volume from the unreachable instance, take a snapshot of the volume or create an AMI from it, and attach it to another instance in the same Availability Zone as a secondary volume\. For more information, see [Detach an Amazon EBS volume from a Windows instance](ebs-detaching-volume.md)\.
  146: **Warning**  
  147  If your temporary instance and the original instance were launched using the same AMI, you must complete additional steps or you won't be able to boot the original instance after you restore its root volume because of a disk signature collision\. If you must create a temporary instance using the same AMI, to avoid a disk signature collision, complete the steps in [Disk signature collision](common-issues.md#disk-signature-collision)\.  

  179  
  180: Refresh the Instance Console Screenshot Service repeatedly to verify that the progress ring is spinning\. If the ring is spinning, wait for the operating system to start up\. You can also check the **CPUUtilization \(Maximum\)** metric on your instance by using Amazon CloudWatch to see if the operating system is active\. If the progress ring is not spinning, the instance may be stuck at the boot process\. Reboot the instance\. If rebooting does not solve the problem, recover the instance from a recent backup AMI or launch a replacement instance\. If you need to access data on the instance, detach the root volume from the unreachable instance, take a snapshot of the volume or create an AMI from it\. Then attach it to another instance in the same Availability Zone as a secondary volume\.
  181  

  189  
  190: **Note**  
  191  The Windows Update process can consume resources on the server during the update\. If you experience this problem often, consider using faster instance types and faster EBS volumes\. 

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/scvmm-import-vm.md:
   4  
   5: **Important**  
   6  You can't import Linux virtual machines from SCVMM to Amazon EC2\.
   7  
   8: **Topics**
   9  + [Prerequisites](#scvmm-import-vm-prereqs)

  15  + Ensure that your VM is ready\. For more information, see [Prepare Your VM](https://docs.aws.amazon.com/vm-import/latest/userguide/prepare-vm-image.html) in the *VM Import/Export User Guide*\.
  16: + In AWS Systems Manager, click **Configuration**, select the **VM Import** tab, and review the following settings:
  17:   + **S3 bucket prefix**: We create a bucket for disk images to be uploaded before they are imported\. The name of the bucket starts with the prefix listed here and includes the Region \(for example, `us-east-2`\)\. To delete the disk images after they are imported, select **Clean up S3 bucket after import**\.
  18:   + **VM image export path**: A location for the disk images exported from the VM\. To delete the disk images after they are imported, select **Clean up export path after import**\.
  19:   + **Alternate Hyper\-V PowerShell module path**: The location of the Hyper\-V PowerShell module, if it's not installed in the standard location\. For more information, see [Installing the Hyper\-V Management Tools](https://learn.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v)\. 
  20  

  24  
  25: **To import your virtual machine**
  26  

  28  
  29: 1. On the ribbon, click **VMs**\. Select your virtual machine from the list\.
  30  
  31: 1. On the ribbon, click **Import VM to Amazon EC2**\.
  32  
  33: 1. Complete the **Import Virtual Machine** dialog box as follows:
  34  

  36  
  37:    1. Select an instance type for the instance\. First, select one of the latest instance families from **Family**, and then select an instance type from **Instance type**\. To include previous generation instance families in the list, select **Show previous generations\.** For more information, see [Amazon EC2 Instances](https://aws.amazon.com/ec2/instance-types/) and [Previous Generation Instances](https://aws.amazon.com/ec2/previous-generation/)\.
  38  
  39:    1. Select a VPC from **Network \(VPC\)**\. Note that this list includes all VPCs for the region, including VPCs created using the Amazon VPC console and the default VPC \(if it exists\)\. If you have a default VPC in this region, we select it by default\. If the text is "There is no VPC available for launch or import operations in this region", then you must create a VPC in this region using the Amazon VPC console\.
  40  
  41:    1. Select a subnet from **Subnet**\. Note that this list includes all subnets for the selected VPC, including any default subnets\. If this list is empty, you must add a subnet to the VPC using the Amazon VPC console, or select a different VPC\. Otherwise, we select a subnet for you\.  
  42  ![\[The Create Amazon EC2 Instance dialog box.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/aws_systems_manager_import.png)
  43  
  44: 1. Click **Import**\. If you haven't specified the required information in the **VM Import** tab, you'll receive an error asking you to provide the required information\. Otherwise, you'll receive confirmation that the import task has started\. Click **Close**\.
  45  

  47  
  48: The import task can take several hours to complete\. To view the current status, open AWS Systems Manager and click **Notifications**\.
  49  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/scvmm-troubleshoot.md:
   4  
   5: **Topics**
   6  + [Error: Add\-in cannot be installed](#scvmm-addin-error)

  49  Try one of the following steps to work around this issue:
  50: + Grant authenticated users permission to read and run the `C:\Program Files\Microsoft System Center 2012\Virtual Machine Manager\Bin\AddInPipeline` folder\. In Windows Explorer, right\-click the folder, select **Properties**, and then select the **Security** tab\.
  51: + Close the SCVMM console and start it one time as an administrator\. From the **Start** menu, locate SCVMM, right\-click, and then select **Run as administrator**\.
  52  

  60  
  61: **Error: Unable to extract Hyper\-V VirtualMachine object**  
  62  Solution: Configure the path to the Hyper\-V PowerShell module\.
  63  
  64: **Error: You do not have permission to perform the operation**  
  65  This error usually occurs when Hyper\-V can't save the VM image into the configured path\. To resolve this issue, do the following\.

  80  
  81: **To uninstall the add\-in**
  82  

  84  
  85: 1. Select the **Settings** workspace, and then click **Console Add\-Ins**\.
  86  
  87: 1. Select **AWS Systems Manager for Microsoft SCVMM**\.
  88  
  89: 1. On the ribbon, click **Remove**\.
  90  
  91: 1. When prompted for confirmation, click **Yes**\.
  92  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/security-group-connection-tracking.md:
  10  
  11: **Note**  
  12  Security groups have no effect on DNS traffic to or from the Route 53 Resolver, sometimes referred to as the 'VPC\+2 IP address' \(see [What is Amazon Route 53 Resolver?](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver.html) in the *Amazon Route 53 Developer Guide*\), or the ‘AmazonProvidedDNS’ \(see [Work with DHCP option sets](https://docs.aws.amazon.com/vpc/latest/userguide/DHCPOptionSet.html) in the *Amazon Virtual Private Cloud User Guide*\)\. If you wish to filter DNS requests through the Route 53 Resolver, you can enable Route 53 Resolver DNS Firewall \(see [Route 53 Resolver DNS Firewall](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver-dns-firewall.html) in the *Amazon Route 53 Developer Guide*\)\.

  46  | 
  47: | **Inbound rules** | 
  48  | --- |

  53  | ICMP | All | 0\.0\.0\.0/0 | 
  54: | **Outbound rules** | 
  55  | --- |

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/security-group-rules-reference.md:
    6  
    7: **Topics**
    8  + [Web server rules](#sg-rules-web-server)

   70  
   71: **Note**  
   72  If you configure routes to forward the traffic between two instances in different subnets through a middlebox appliance, you must ensure that the security groups for both instances allow traffic to flow between the instances\. The security group for each instance must reference the private IP address of the other instance, or the CIDR range of the subnet that contains the other instance, as the source\. If you reference the security group of the other instance as the source, this does not allow traffic to flow between the instances\.

  133  | 
  134: | **Inbound** | 
  135  | --- |

  137  | TCP | 6 | The listener port |  For an Internet\-facing load\-balancer: 0\.0\.0\.0/0 \(all IPv4 addresses\) For an internal load\-balancer: the IPv4 CIDR block of the VPC  | Allow inbound traffic on the load balancer listener port\. | 
  138: | **Outbound** | 
  139  | --- |

  148  | 
  149: | **Inbound** | 
  150  | --- |

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/security-iam.md:
  6  
  7: **Topics**
  8  + [Network access to your instance](#intro-to-security-groups)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/service-role.md:
    6  
    7: **Topics**
    8  + [Default service roles for Amazon Data Lifecycle Manager](#default-service-roles)

   13  Amazon Data Lifecycle Manager uses the following default service roles:
   14: + **AWSDataLifecycleManagerDefaultRole**—default role for managing snapshots\. It trusts only the `dlm.amazonaws.com` service to assume the role and it allows Amazon Data Lifecycle Manager to perform the actions required by snapshot and cross\-account snapshot copy policies on your behalf\. This role uses the ` AWSDataLifecycleManagerServiceRole` AWS managed policy\.
   15: **Note**  
   16  The ARN format of the role differs depending on whether it was created using the console or the AWS CLI\. If the role was created using the console, the ARN format is `arn:aws:iam::account_id:role/service-role/AWSDataLifecycleManagerDefaultRole`\. If the role was created using the AWS CLI, the ARN format is `arn:aws:iam::account_id:role/AWSDataLifecycleManagerDefaultRole`\.
   17: + **AWSDataLifecycleManagerDefaultRoleForAMIManagement**—default role for managing AMIs\. It trusts only the `dlm.amazonaws.com` service to assume the role and it allows Amazon Data Lifecycle Manager to perform the actions required by EBS\-backed AMI policies on your behalf\. This role uses the `AWSDataLifecycleManagerServiceRoleForAMIManagement` AWS managed policy\.
   18  
   19: If you are using the Amazon Data Lifecycle Manager console, Amazon Data Lifecycle Manager automatically creates the ** AWSDataLifecycleManagerDefaultRole** service role the first time you create a snapshot or cross\-account snapshot copy policy, and it automatically creates the ** AWSDataLifecycleManagerDefaultRoleForAMIManagement** service role the first time you create an EBS\-backed AMI policy\.
   20  

   32  
   33: **To create a custom IAM role**
   34  

  142  
  143:    1. In the IAM console, choose **Roles**\.
  144  
  145:    1. Select the roles that you created, and then choose **Trust relationships**\.
  146  
  147:    1. Choose **Edit Trust Relationship**, add the following policy, and then choose **Update Trust Policy**\.
  148  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/share-amis-with-organizations-and-OUs.md:
    6  
    7: When you share an AMI with an organization or an OU, all of the children accounts gain access to the AMI\. For example, in the following diagram, the AMI is shared with a top\-level OU \(indicated by the arrow at the number **1**\)\. All of the OUs and accounts that are nested underneath that top\-level OU \(indicated by the dotted line at number **2**\) also have access to the AMI\. The accounts in the organization and OU outside the dotted line \(indicated by the number **3**\) do not have access to the AMI because they are not children of the OU that the AMI is shared with\.
    8  

   15  Consider the following when sharing AMIs with specific organizations or organizational units\.
   16: + **Ownership** – To share an AMI, your AWS account must own the AMI\.
   17: + **Sharing limits** – The AMI owner can share an AMI with any organization or OU, including organizations and OUs that they’re not a member of\.
   18  
   19    For the maximum number of entities to which an AMI can be shared within a Region, see the [Amazon EC2 service quotas](https://docs.aws.amazon.com/general/latest/gr/ec2-service.html#limits_ec2)\.
   20: + **Tags** – You can't share user\-defined tags \(tags that you attach to an AMI\)\. When you share an AMI, your user\-defined tags are not available to any AWS account in an organization or OU with which the AMI is shared\.
   21: + **ARN format** – When you specify an organization or OU in a command, make sure to use the correct ARN format\. You'll get an error if you specify only the ID, for example, if you specify only `o-123example` or `ou-1234-5example`\.
   22  

   32    For more information about the format of ARNs, see [Amazon Resource Names \(ARNs\)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html) in the *AWS General Reference*\.
   33: + **Encryption and keys** – You can share AMIs that are backed by unencrypted and encrypted snapshots\.
   34    + The encrypted snapshots must be encrypted with a customer managed key\. You can’t share AMIs that are backed by snapshots that are encrypted with the default AWS managed key\. For more information, see [Share an Amazon EBS snapshot](ebs-modifying-snapshot-permissions.md)\.
   35    + If you share an AMI that is backed by encrypted snapshots, you must allow the organizations or OUs to use the customer managed keys that were used to encrypt the snapshots\. For more information, see [Allow organizations and OUs to use a KMS key](#allow-org-ou-to-use-key)\.
   36: + **Region** – AMIs are a Regional resource\. When you share an AMI, it is available only in the Region from which you shared it\. To make an AMI available in a different Region, copy the AMI to the Region and then share it\. For more information, see [Copy an AMI](CopyingAMIs.md)\.
   37: + **Usage** – When you share an AMI, users can only launch instances from the AMI\. They can’t delete, share, or modify it\. However, after they have launched an instance using your AMI, they can then create an AMI from the instance they launched\.
   38: + **Billing** – You are not billed when your AMI is used by other AWS accounts to launch instances\. The accounts that launch instances using the AMI are billed for the instances that they launch\.
   39  

  109  
  110: **To share an AMI with an organization or an OU using the console**
  111  

  113  
  114: 1. In the navigation pane, choose **AMIs**\.
  115  
  116: 1. Select your AMI in the list, and then choose **Actions**, **Edit AMI permissions**\.
  117  
  118: 1. Under **AMI availability**, choose **Private**\.
  119  
  120: 1. Next to **Shared organizations/OUs**, choose **Add organization/OU ARN**\.
  121  
  122: 1. For **Organization/OU ARN**, enter the organization ARN or OU ARN with which you want to share the AMI, and then choose **Share AMI**\. Note that you must specify the full ARN, not just the ID\.
  123  
  124     To share this AMI with multiple organizations or OUs, repeat this step until you have added all of the required organizations or OUs\.
  125: **Note**  
  126  You do not need to share the Amazon EBS snapshots that an AMI references in order to share the AMI\. Only the AMI itself needs to be shared, and the system automatically provides the instance with access to the referenced Amazon EBS snapshots for the launch\. However, you do need to share the KMS keys used to encrypt snapshots that the AMI references\. For more information, see [Allow organizations and OUs to use a KMS key](#allow-org-ou-to-use-key)\.
  127  
  128: 1. Choose **Save changes** when you're done\.
  129  
  130: 1. \(Optional\) To view the organizations or OUs with which you have shared the AMI, select the AMI in the list, choose the **Permissions** tab, and scroll down to **Shared organizations/OUs**\. To find AMIs that are shared with you, see [Find shared AMIs](usingsharedamis-finding.md)\.
  131  

  135  
  136: **To share an AMI with an organization or an OU**  
  137  The following command grants launch permissions for the specified AMI to the specified organization\.

  142  
  143: **Note**  
  144  You do not need to share the Amazon EBS snapshots that an AMI references in order to share the AMI\. Only the AMI itself needs to be shared, and the system automatically provides the instance with access to the referenced Amazon EBS snapshots for the launch\. However, you do need to share the KMS keys used to encrypt snapshots that the AMI references\. For more information, see [Allow organizations and OUs to use a KMS key](#allow-org-ou-to-use-key)\.
  145  
  146: **To stop sharing an AMI with an organization or OU**  
  147  The following command removes launch permissions for the specified AMI from the specified organization:

  164  
  165: **To share an AMI with an organization using the AWS CLI**  
  166  The [https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-image-attribute.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-image-attribute.html) command grants launch permissions for the specified AMI to the specified organization\. Note that you must specify the full ARN, not just the ID\.

  173  
  174: **To share an AMI with an OU using the AWS CLI**  
  175  The [modify\-image\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-image-attribute.html) command grants launch permissions for the specified AMI to the specified OU\. Note that you must specify the full ARN, not just the ID\.

  182  
  183: **Note**  
  184  You do not need to share the Amazon EBS snapshots that an AMI references in order to share the AMI\. Only the AMI itself needs to be shared, and the system automatically provides the instance with access to the referenced Amazon EBS snapshots for the launch\. However, you do need to share the KMS keys used to encrypt snapshots that the AMI references\. For more information, see [Allow organizations and OUs to use a KMS key](#allow-org-ou-to-use-key)\.

  191  
  192: **To stop sharing an AMI with an organization or OU using the console**
  193  

  195  
  196: 1. In the navigation pane, choose **AMIs**\.
  197  
  198: 1. Select your AMI in the list, and then choose **Actions**, **Edit AMI permissions**\.
  199  
  200: 1. Under **Shared organizations/OUs**, select the organizations or OUs with which you want to stop sharing the AMI, and then choose **Remove selected**\.
  201  
  202: 1. Choose **Save changes** when you're done\.
  203  
  204: 1. \(Optional\) To confirm that you have stopped sharing the AMI with the organizations or OUs, select the AMI in the list, choose the **Permissions** tab, and scroll down to **Shared organizations/OUs**\.
  205  

  209  
  210: **To stop sharing an AMI with an organization or OU using the AWS CLI**  
  211  The [modify\-image\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-image-attribute.html) command removes launch permissions for the specified AMI from the specified organization\. Note that you must specify the ARN\.

  218  
  219: **To stop sharing an AMI with all organizations, OUs, and AWS accounts using the AWS CLI**  
  220  The [https://docs.aws.amazon.com/cli/latest/reference/ec2/reset-image-attribute.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/reset-image-attribute.html) command removes all public and explicit launch permissions from the specified AMI\. Note that the owner of the AMI always has launch permissions and is therefore unaffected by this command\.

  227  
  228: **Note**  
  229  You can't stop sharing an AMI with a specific account if it's in an organization or OU with which an AMI is shared\. If you try to stop sharing the AMI by removing launch permissions for the account, Amazon EC2 returns a success message\. However, the AMI continues to be shared with the account\.

  236  
  237: **To check with which organizations and OUs you've shared your AMI using the console**
  238  

  240  
  241: 1. In the navigation pane, choose **AMIs**\.
  242  
  243: 1. Select your AMI in the list, choose the **Permissions** tab, and scroll down to **Shared organizations/OUs**\.
  244  

  250  
  251: **To check with which organizations and OUs you've shared your AMI using the AWS CLI**  
  252  The [https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-image-attribute.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-image-attribute.html) command describes the `launchPermission` attribute for the specified AMI, and returns the organizations and OUs with which you've shared the AMI\.

  293  
  294: **To get the ARN of an organization**  
  295  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-organization.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-organization.html) command and the `--query` parameter set to `'Organization.Arn'` to return only the organization ARN\.

  306  
  307: **To get the ARN of an organizational unit**  
  308  Use the [https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-organizational-unit.html](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-organizational-unit.html) command, specify the OU ID, and set the `--query` parameter to `'OrganizationalUnit.Arn'` to return only the organizational unit ARN\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/snapshot-ami-policy.md:
    4  
    5: **Topics**
    6  + [Create a snapshot lifecycle policy](#create-snap-policy)

   16  
   17: **To create a snapshot policy**
   18  

   20  
   21: 1. In the navigation pane, choose **Elastic Block Store**, **Lifecycle Manager**, and then choose **Create lifecycle policy**\.
   22  
   23: 1. On the **Select policy type** screen, choose **EBS snapshot policy** and then choose **Next**\.
   24  
   25: 1. In the **Target resources** section, do the following:
   26  
   27:    1. For **Target resource types**, choose the type of resource to back up\. Choose `Volume` to create snapshots of individual volumes, or choose `Instance` to create multi\-volume snapshots from the volumes attached to an instance\.
   28  
   29:    1. \(For AWS Outpost customers only\) For **Target resource location**, specify where the target resources are located\.
   30:       + If the target resources are located in an AWS Region, choose **AWS Region**\. Amazon Data Lifecycle Manager backs up all resources of the specified type that have matching target tags in the current Region only\. If the resource is located in a Region, snapshots created by the policy will be stored in the same Region\. 
   31:       + If the target resources are located on an Outpost in your account, choose **AWS Outpost**\. Amazon Data Lifecycle Manager backs up all resources of the specified type that have matching target tags across all of the Outposts in your account\. If the resource is located on an Outpost, snapshots created by the policy can be stored in the same Region or on the same Outpost as the resource\.
   32        + If you do not have any Outposts in your account, this option is hidden and AWS Region is selected for you\.
   33  
   34:    1. For **Target resource tags**, choose the resource tags that identify the volumes or instances to back up\. Only resources that have the specified tag key and value pairs are backed up by the policy\.
   35  
   36: 1. For **Description**, enter a brief description for the policy\.
   37  
   38: 1. For **IAM role**, choose the IAM role that has permissions to manage snapshots and to describe volumes and instances\. To use the default role provided by Amazon Data Lifecycle Manager\. choose **Default role**\. Alternatively, to use a custom IAM role that you previously created, choose **Choose another role** and then select the role to use\.
   39  
   40: 1. For **Policy tags**, add the tags to apply to the lifecycle policy\. You can use these tags to identify and categorize your policies\.
   41  
   42: 1. For **Policy status**, choose **Enable** to start the policy runs at the next scheduled time, or **Disable policy** to prevent the policy from running\. If you do not enable the policy now, it will not start creating snapshots until you manually enable it after creation\.
   43  
   44: 1. \(Only for policies that target instances\) By default, Amazon Data Lifecycle Manager will create snapshots of all the volumes attached to targeted instances\. However, you can choose to create snapshots of a subset of the attached volumes\. In the **Parameters** section, do the following:
   45:    + If you do not want to create snapshots of the root volumes attached to the targeted instances, select **Exclude root volume**\. If you select this option, only the data \(non\-root\) volumes that are attached to targeted instances will be included in the multi\-volume snapshot sets\.
   46:    + If you want to create snapshots of a subset of the data \(non\-root\) volumes attached to the targeted instances, select **Exclude specific data volumes**, and then specify the tags that are to be used to identify the data volumes that should not be snapshotted\. Amazon Data Lifecycle Manager will not create snapshots of data volumes that have any of the specified tags\. Amazon Data Lifecycle Manager will create snapshots only of data volumes that do not have any of the specified tags\.
   47  
   48: 1. Choose **Next**\.
   49  
   50: 1. On the **Configure schedule** screen, configure the policy schedules\. A policy can have up to 4 schedules\. Schedule 1 is mandatory\. Schedules 2, 3, and 4 are optional\. For each policy schedule that you add, do the following:
   51  
   52:    1. In the **Schedule details** section do the following:
   53  
   54:       1. For **Schedule name**, specify a descriptive name for the schedule\.
   55  
   56:       1. For **Frequency** and the related fields, configure the interval between policy runs\. You can configure policy runs on a daily, weekly, monthly, or yearly schedule\. Alternatively, choose **Custom cron expression** to specify an interval of up to one year\. For more information, see [Cron expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#CronExpressions) in the *Amazon CloudWatch Events User Guide*\.
   57: **Note**  
   58: If you need to enable **snapshot archiving** for the schedule, then you must select either the **monthly** or **yearly** frequency, or you must specify a cron expression with a creation frequency of at least 28 days\.  
   59  If specify a monthly frequency that creates snapshots on a specific day in a specific week \(for example, the second Thursday of the month\), then for count\-based schedule, the retention count for the archive tier must be 4 or more\.
   60  
   61:       1. For **Starting at**, specify the time at which the policy runs are scheduled to start\. The first policy run starts within an hour after the scheduled time\. The time must be entered in the `hh:mm` UTC format\.
   62  
   63:       1. For **Retention type**, specify the retention policy for snapshots created by the schedule\. You can retain snapshots based on either their total count or their age\.
   64           + \(Count\-based retention\) If you do not enable snapshot archiving, the range is `1` to `1000`\. If you enable snapshot archiving, the range is `0` to `1000`\. If you specify a count of `0`, snapshots are archived immediately after creation\.
   65           + \(Age\-based retention\) If you do not enable snapshot archiving, the range is `1` day to `100` years\. If you enable snapshot archiving, the range is `0` days to `100` years\. If you specify `0` days, snapshots are archived immediately after creation\.
   66: **Note**  
   67  All schedules must have the same retention type \(age\-based or count\-based\)\. You can specify the retention type for Schedule 1 only\. Schedules 2, 3, and 4 inherit the retention type from Schedule 1\. Each schedule can have its own retention count or period\.

   70  
   71:       1. \(For AWS Outposts customers only\) For **Snapshot destination**, specify the destination for snapshots created by the policy\.
   72           + If the policy targets resources in a Region, snapshots must be created in the same Region\. AWS Region is selected for you\.

   75  
   76:    1. In the **Tagging** section, do the following:
   77  
   78:       1. To copy all of the user\-defined tags from the source volume to the snapshots created by the schedule, select **Copy tags from source**\.
   79  
   80:       1. To specify additional tags to assign to snapshots created by this schedule, choose **Add tags**\.
   81  
   82:    1. \(Only for policies that target volumes\) In the **Snapshot archiving** section, do the following:
   83: **Note**  
   84  You can enable snapshot archiving for only one schedule in a policy\.
   85  
   86:       1. To enable snapshot archiving for the schedule, select **Archive snapshots created by this schedule**\.
   87: **Note**  
   88  You can enable snapshot archiving only if the snapshot creation frequency is monthly or yearly, or if you specify a cron expression with a creation frequency of at least 28 days\.

   90        1. Specify the retention rule for snapshots in the archive tier\.
   91:          + For **count\-based schedules**, specify the number of snapshots to retain in the archive tier\. When the retention threshold is reached, the oldest snapshot is permanently deleted from the archive tier\. For example, if you specify 3, the schedule will retain a maximum of 3 snapshots in the archive tier\. When the fourth snapshot is archived, the oldest of the three existing snapshots in the archive tier is deleted\.
   92:          + For **age\-based schedules**, specify the time period for which to retain snapshots in the archive tier\. When the retention threshold is reached, the oldest snapshot is permanently deleted from the archive tier\. For example, if you specify 120 days, the schedule will automatically delete snapshots from the archive tier when they reach that age\.
   93: **Important**  
   94  The minimum retention period for archived snapshots is 90 days\. You must specify a retention rule that retains the snapshot for at least 90 days\.
   95  
   96:    1. To enable fast snapshot restore for snapshots created by the schedule, in the **Fast snapshot restore** section, select **Enable fast snapshot restore**\. If you enable fast snapshot restore, you must choose the Availability Zones in which to enable it\. If the schedule uses an age\-based retention schedule, you must specify the period for which to enable fast snapshot restore for each snapshot\. If the schedule uses count\-based retention, you must specify the maximum number of snapshots to enable for fast snapshot restore\.
   97  
   98        If the schedule creates snapshots on an Outpost, you can't enable fast snapshot restore\. Fast snapshot restore is not supported with local snapshots that are stored on an Outpost\.
   99: **Note**  
  100  You are billed for each minute that fast snapshot restore is enabled for a snapshot in a particular Availability Zone\. Charges are pro\-rated with a minimum of one hour\.
  101  
  102:    1. To copy snapshots created by the schedule to an Outpost or to a different Region, in the **Cross\-Region copy** section, select **Enable cross\-Region copy**\.
  103  

  106        For each Region or Outpost, you can choose different retention policies and you can choose whether to copy all tags or no tags\. If the source snapshot is encrypted, or if encryption by default is enabled, the copied snapshots are encrypted\. If the source snapshot is unencrypted, you can enable encryption\. If you do not specify a KMS key, the snapshots are encrypted using the default KMS key for EBS encryption in each destination Region\. If you specify a KMS key for the destination Region, then the selected IAM role must have access to the KMS key\.
  107: **Note**  
  108  You must ensure that you do not exceed the number of concurrent snapshot copies per Region\.

  111  
  112:    1. In the **Cross\-account sharing**, configure the policy to automatically share the snapshots created by the schedule with other AWS accounts\. Do the following:
  113  
  114:       1. To enable sharing with other AWS accounts, select **Enable cross\-account sharing**\.
  115  
  116:       1. To add the accounts with which to share the snapshots, choose **Add account**, enter the 12\-digit AWS account ID, and choose **Add**\.
  117  
  118:       1. To automatically unshare shared snapshots after a specific period, select**Unshare automatically**\. If you choose to automatically unshare shared snapshots, the period after which to automatically unshare the snapshots cannot be longer than the period for which the policy retains its snapshots\. For example, if the policy's retention configuration retains snapshots for a period of 5 days, you can configure the policy to automatically unshare shared snapshots after periods up to 4 days\. This applies to policies with age\-based and count\-based snapshot retention configurations\.
  119  
  120           If you do not enable automatic unsharing, the snapshot is shared until it is deleted\.
  121: **Note**  
  122  You can only share snapshots that are unencrypted or that are encrypted using a customer managed key\. You can't share snapshots that are encrypted with the default EBS encryption KMS key\. If you share encrypted snapshots, then you must also share the KMS key that was used to encrypt the source volume with the target accounts\. For more information, see [ Allowing users in other accounts to use a KMS key](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-modifying-external-accounts.html) in the *AWS Key Management Service Developer Guide*\.
  123  
  124:    1. To add additional schedules, choose **Add another schedule**, which is located at the top of the screen\. For each additional schedule, complete the fields as described previously in this topic\.
  125  
  126:    1. After you have added the required schedules, choose **Review policy**\.
  127  
  128: 1. Review the policy summary, and then choose **Create policy**\.
  129  

  134  
  135: **Note**  
  136  To simplify the syntax, the following examples use a JSON file, `policyDetails.json`, that includes the policy details\.
  137  
  138: **Example 1—Snapshot lifecycle policy with two schedules**  
  139  This example creates a snapshot lifecycle policy that creates snapshots of all volumes that have a tag key of `costcenter` with a value of `115`\. The policy includes two schedules\. The first schedule creates a snapshot every day at 03:00 UTC\. The second schedule creates a weekly snapshot every Friday at 17:00 UTC\.

  203  
  204: **Example 2—Snapshot lifecycle policy that targets instances and creates snapshots of a subset of data \(non\-root\) volumes**  
  205  This example creates a snapshot lifecycle policy that creates multi\-volume snapshot sets from instances tagged with `code=production`\. The policy includes only one schedule\. The schedule does not create snapshots of the data volumes that are tagged with `code=temp`\.

  261  
  262: **Example 3—Snapshot lifecycle policy that automates local snapshots of Outpost resources**  
  263  This example creates a snapshot lifecycle policy that creates snapshots of volumes tagged with `team=dev` across all of your Outposts\. The policy creates the snapshots on the same Outposts as the source volumes\. The policy creates snapshots every `12` hours starting at `00:00` UTC\.

  303  
  304: **Example 4—Snapshot lifecycle policy that creates snapshots in a Region and copies them to an Outpost**  
  305  The following example policy creates snapshots of volumes that are tagged with `team=dev`\. Snapshots are created in the same Region as the source volume\. Snapshots are created every `12` hours starting at `00:00` UTC, and retains a maximum of `1` snapshot\. The policy also copies the snapshots to Outpost `arn:aws:outposts:us-east-1:123456789012:outpost/op-1234567890abcdef0`, encrypts the copied snapshots using the default encryption KMS key, and retains the copies for `1` month\.

  353  
  354: **Example 5—Snapshot lifecycle policy with an archive\-enabled, age\-based schedule**  
  355  This example creates a snapshot lifecycle policy that targets volumes tagged with `Name=Prod`\. The policy has one age\-based schedule that creates snapshots on the first day of each month at 09:00\. The schedule retains each snapshot in the standard tier for one day, after which it moves them to the archive tier\. Snapshots are stored in the archive tier for 90 days before being deleted\.

  403  
  404: **Example 6—Snapshot lifecycle policy with an archive\-enabled, count\-based schedule**  
  405  This example creates a snapshot lifecycle policy that targets volumes tagged with `Purpose=Test`\. The policy has one count\-based schedule that creates snapshots on the first day of each month at 09:00\. The schedule archives snapshots immediately after creation and retains a maximum of three snapshots in the archive tier\.

  455  
  456: The following **general considerations** apply to snapshot lifecycle policies:
  457  + Snapshot lifecycle policies target only instances or volumes that are in the same Region as the policy\.

  465  
  466: The following considerations apply to **[snapshot archiving](snapshot-archive.md)**:
  467  + You can enable snapshot archiving only for snapshot policies that target volumes\.

  482  
  483: The following considerations apply to **excluding root volumes and data \(non\-root\) volumes**:
  484  + If you choose to exclude boot volumes and you specify tags that consequently exclude all of the additional data volumes attached to an instance, then Amazon Data Lifecycle Manager will not create any snapshots for the affected instance, and it will emit a `SnapshotsCreateFailed` CloudWatch metric\. For more information, see [Monitor your policies using CloudWatch](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitor-dlm-cw-metrics.html)\.
  485  
  486: The following considerations apply to **deleting volumes or terminating instances targeted by snapshot lifecycle policies**:
  487  + If you delete a volume or terminate an instance targeted by a policy with a count\-based retention schedule, Amazon Data Lifecycle Manager no longer manages snapshots in the standard tier and archive tier that were created from the deleted volume or instance\. You must manually delete those earlier snapshots if they are no longer needed\.

  489  
  490: The following considerations apply to snapshot lifecycle policies and ** [fast snapshot restore](ebs-fast-snapshot-restore.md)**:
  491  + Amazon Data Lifecycle Manager can enable fast snapshot restore only for snapshots with a size of 16 TiB or less\. For more information, see [Amazon EBS fast snapshot restore](ebs-fast-snapshot-restore.md)\.

  496  + You are billed for each minute that fast snapshot restore is enabled for a snapshot in a particular Availability Zone\. Charges are pro\-rated with a minimum of one hour\. For more information, see [Pricing and Billing](ebs-fast-snapshot-restore.md#fsr-pricing)\.
  497: **Note**  
  498  Depending on the configuration of your lifecycle policies, you could have multiple snapshots enabled for fast snapshot restore in multiple Availability Zones simultaneously\.
  499  
  500: The following considerations apply to **sharing snapshots across accounts**:
  501  + You can only share snapshots that are unencrypted or that are encrypted using a customer managed key\.

  504  
  505: The following considerations apply to snapshots policies and ** [snapshot archiving](snapshot-archive.md)**:
  506  + If you manually archive a snapshot that was created by a policy, and that snapshot is in the archive tier when the policy’s retention threshold is reached, Amazon Data Lifecycle Manager will not delete the snapshot\. Amazon Data Lifecycle Manager does not manage snapshots while they are stored in the archive tier\. If you no longer need snapshots that are stored in the archive tier, you must manually delete them\.
  507  
  508: The following considerations apply to snapshot policies and **[Recycle Bin](recycle-bin.md)**:
  509  + If Amazon Data Lifecycle Manager deletes a snapshot and sends it to the Recycle Bin when the policy's retention threshold is reached, and you manually restore the snapshot from the Recycle Bin, you must manually delete that snapshot when it is no longer needed\. Amazon Data Lifecycle Manager will no longer manage the snapshot\.

  515  
  516: The following considerations apply to snapshot lifecycle policies that are in the **error** state:
  517  + For policies with age\-based retention schedules, snapshots that are set to expire while the policy is in the `error` state are retained indefinitely\. You must delete the snapshots manually\. When you re\-enable the policy, Amazon Data Lifecycle Manager resumes deleting snapshots as their retention periods expire\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-best-practices.md:
  12  
  13: **Topics**
  14  + [Prepare individual instances for interruptions](#prep-instances-for-interruptions)

  66  
  67: ****  
  68  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-data-feeds.md:
   6  
   7: **Note**  
   8  You can create only one Spot Instance data feed per AWS account\. If you don't have a Spot Instance running during a certain hour, you don't receive a data feed file for that hour\.

  11  
  12: **Topics**
  13  + [Data feed file name and format](#using-spot-instances-format)

  26  
  27: For example, if your bucket name is **my\-bucket\-name** and your prefix is **my\-prefix**, your file names are similar to the following:
  28  

  58  + When you subscribe to a data feed, these permissions are used to update the bucket ACL to give the AWS data feed account `FULL_CONTROL` permission\. The AWS data feed account writes data feed files to the bucket\. If your account doesn't have the required permissions, the data feed files cannot be written to the bucket\.
  59: **Note**  
  60  If you update the ACL and remove the permissions for the AWS data feed account, the data feed files cannot be written to the bucket\. You must resubscribe to the data feed to receive the data feed files\.

  63  + You must use a customer managed key if you encrypt your Amazon S3 bucket using server\-side encryption with a AWS KMS key stored in AWS Key Management Service \(SSE\-KMS\)\. For more information, see [Amazon S3 bucket server\-side encryption](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AWS-logs-and-resource-policy.html#AWS-logs-SSE-KMS-S3) in the *Amazon CloudWatch Logs User Guide*\.
  64: **Note**  
  65  For Spot Instance data feed, the resource that generates the S3 files is no longer Amazon CloudWatch Logs\. Therefore, you must remove the `aws:SourceArn` section from the S3 bucket permission policy and from the KMS policy\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-fleet-attribute-based-instance-type-selection.md:
    6  
    7: **Benefits**
    8  

   14  
   15: **Topics**
   16  + [How attribute\-based instance type selection works](#spotfleet-abs-how-it-works)

   25  
   26: **Topics**
   27  + [Types of instance attributes](#sf-abs-instance-attribute-types)

   73  
   74: **To specify the price protection threshold**
   75  

   78  
   79:   To specify the On\-Demand Instance price protection threshold, under **Additional instance attribute**, choose **On\-demand price protection**, and then choose **Add attribute**\. For **On\-Demand price protection percentage**, enter the price protection threshold as a percentage\.
   80  
   81:   To specify the Spot Instance price protection threshold, under **Additional instance attribute**, choose **Spot price protection**, and then choose **Add attribute**\. For **Spot price protection percentage**, enter the price protection threshold as a percentage\.
   82  + AWS CLI

   89  
   90: **Note**  
   91: When creating the Spot Fleet, if you set **Total target capacity** type to **vCPUs** or **Memory \(MiB\)** \(console\) or `TargetCapacityUnitType` to `vcpu` or `memory-mib` \(AWS CLI\), the price protection threshold is applied based on the per\-vCPU or per\-memory price instead of the per\-instance price\.
   92  

  103  
  104: **Topics**
  105  + [Create a Spot Fleet using the console](#abs-create-spot-fleet-console)

  109  
  110: **To configure a Spot Fleet for attribute\-based instance type selection \(console\)**
  111  

  113  
  114: 1. In the navigation pane, choose **Spot Requests**, and then choose **Request Spot Instances**\.
  115  

  119  
  120:    1. For **Instance type requirements**, choose **Specify instance attributes that match your compute requirements**\.
  121  
  122:    1. For **vCPUs**, enter the desired minimum and maximum number of vCPUs\. To specify no limit, select **No minimum**, **No maximum**, or both\.
  123  
  124:    1. For **Memory \(GiB\)**, enter the desired minimum and maximum amount of memory\. To specify no limit, select **No minimum**, **No maximum**, or both\.
  125  
  126:    1. \(Optional\) For **Additional instance attributes**, you can optionally specify one or more attributes to express your compute requirements in more detail\. Each additional attribute adds further constraints to your request\.
  127  
  128:    1. \(Optional\) Expand **Preview matching instance types** to view the instance types that have your specified attributes\.
  129  

  131  
  132: **To configure a Spot Fleet for attribute\-based instance type selection \(AWS CLI\)**  
  133  Use the [request\-spot\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/request-spot-fleet.html) \(AWS CLI\) command to create a Spot Fleet\. Specify the fleet configuration in a JSON file\.

  176  
  177: **Note**  
  178  When `InstanceRequirements` is included in the fleet configuration, `InstanceType` and `WeightedCapacity` must be excluded; they cannot determine the fleet configuration at the same time as instance attributes\.

  194  
  195: **Topics**
  196  + [Valid configuration: Single launch template with overrides](#sf-abs-example-config1)

  246  
  247: ****`InstanceRequirements`****  
  248  To use attribute\-based instance selection, you must include the `InstanceRequirements` structure in your fleet configuration, and specify the desired attributes for the instances in the fleet\.

  254  
  255: **`TargetCapacityUnitType`**  
  256  The `TargetCapacityUnitType` parameter specifies the unit for the target capacity\. In the example, the target capacity is `5000` and the target capacity unit type is `vcpu`, which together specify a desired target capacity of 5,000 vCPUs\. Spot Fleet will launch enough instances so that the total number of vCPUs in the fleet is 5,000 vCPUs\.

  561  
  562: **To preview a list of instance types by specifying attributes using the AWS CLI**
  563  

  656  1. Create a JSON configuration file using the output from the previous step, and configure it as follows:
  657: **Note**  
  658  You must provide values for `ArchitectureTypes`, `VirtualizationTypes`, `VCpuCount`, and `MemoryMiB`\. You can omit the other attributes; when omitted, the default values are used\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-fleet-capacity-rebalance.md:
   5  To configure Spot Fleet to launch a replacement Spot Instance, you can use the Amazon EC2 console or the AWS CLI\.
   6: + Amazon EC2 console: You must select the **Capacity rebalance** check box when you create the Spot Fleet\. For more information, see step 6\.d\. in [Create a Spot Fleet request using defined parameters \(console\)](work-with-spot-fleets.md#create-spot-fleet-advanced)\.
   7  + AWS CLI: Use the [request\-spot\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/request-spot-fleet.html) command and the relevant parameters in the `SpotMaintenanceStrategies` structure\. For more information, see the [example launch configuration](spot-fleet-examples.md#fleet-config8)\.

  28  
  29: **Provide as many Spot capacity pools in the request as possible**  
  30  Configure your Spot Fleet to use multiple instance types and Availability Zones\. This provides the flexibility to launch Spot Instances in various Spot capacity pools\. For more information, see [Be flexible about instance types and Availability Zones](spot-best-practices.md#be-instance-type-flexible)\.
  31  
  32: **Avoid an elevated risk of interruption of replacement Spot Instances**  
  33  Your replacement Spot Instances may be at an elevated risk of interruption if you use the `lowestPrice` allocation strategy\. This is because Amazon EC2 will always launch instances in the lowest priced pool that has available capacity at that moment, even if your replacement Spot Instances are likely to be interrupted soon after being launched\. To avoid an elevated risk of interruption, we strongly recommend against using the `lowestPrice` allocation strategy, and instead recommend the `capacityOptimized` or `capacityOptimizedPrioritized` allocation strategy\. These strategies ensure that replacement Spot Instances are launched in the most optimal Spot capacity pools, and are therefore less likely to be interrupted in the near future\. For more information, see [Use the price and capacity optimized allocation strategy](spot-best-practices.md#use-capacity-optimized-allocation-strategy)\.
  34  
  35: **Amazon EC2 will only launch a new instance if availability is the same or better**  
  36  One of the goals of Capacity Rebalancing is to improve a Spot Instance's availability\. If an existing Spot Instance receives a rebalance recommendation, Amazon EC2 will only launch a new instance if the new instance provides the same or better availability than the existing instance\. If the risk of interruption of a new instance will be worse than the existing instance, then Amazon EC2 will not launch a new instance\. Amazon EC2 will, however, continue to assess the Spot capacity pools, and will launch a new instance if availability improves\.  

  38  
  39: **Capacity Rebalancing does not increase your Spot Instance interruption rate**  
  40  When you enable Capacity Rebalancing, it does not increase your [Spot Instance interruption rate](spot-interruptions.md) \(the number of Spot Instances that are reclaimed when Amazon EC2 needs the capacity back\)\. However, if Capacity Rebalancing detects an instance is at risk of interruption, Amazon EC2 will immediately attempt to launch a new instance\. The result is that more instances might be replaced than if you’d waited for Amazon EC2 to launch a new instance after the at\-risk instance was interrupted\.  

  47  
  48: **Amazon EC2 can launch new replacement Spot Instances until fulfilled capacity is double target capacity**  
  49  When a Spot Fleet is configured for Capacity Rebalancing, Amazon EC2 attempts to launch a new replacement Spot Instance for every Spot Instance that receives a rebalance recommendation\. After a Spot Instance receives a rebalance recommendation, it is no longer counted as part of the fulfilled capacity\. Depending on the replacement strategy, Amazon EC2 either terminates the instance after a preconfigured termination delay, or leaves it running\. This gives you the opportunity to perform [rebalancing actions](rebalance-recommendations.md#rebalancing-actions) on the instance\.  

  53  
  54: **We recommend that you configure Spot Fleet to terminate Spot Instances that receive a rebalance recommendation**  
  55  If you configure your Spot Fleet for Capacity Rebalancing, we recommend that you choose `launch-before-terminate` with an appropriate termination delay only if you can predict how long your instance shutdown procedures will take to complete\. This will ensure that the old instances are terminated only after the shutdown procedures are completed\.  

  58  
  59: **Spot Fleet does not count instances that receive a rebalance recommendation when calculating fulfilled capacity during scale in or out**  
  60  If your Spot Fleet is configured for Capacity Rebalancing, and you change the target capacity to either scale in or scale out, the fleet does not count the instances that are marked for rebalance as part of the fulfilled capacity, as follows:  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-fleet-event-types.md:
  15  
  16: **Topics**
  17  + [EC2 Spot Fleet State Change](#spot-fleet-state-change)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-fleet-scheduled-scaling.md:
   6  
   7: **Limitation**  
   8  The Spot Fleet request must have a request type of `maintain`\. Automatic scaling is not supported for requests of type `request`, or Spot blocks\.
   9  
  10: **To create a one\-time scheduled action**
  11  

  13  
  14: 1. In the navigation pane, choose **Spot Requests**\.
  15  
  16: 1. Select your Spot Fleet request and choose the **Scheduled Scaling** tab near the bottom of the screen\.
  17  
  18: 1. Choose **Create Scheduled Action**\.
  19  
  20: 1. For **Name**, specify a name for the scheduled action\.
  21  
  22: 1. Enter a value for **Minimum capacity**, **Maximum capacity**, or both\.
  23  
  24: 1. For **Recurrence**, choose **Once**\.
  25  
  26: 1. \(Optional\) Choose a date and time for **Start time**, **End time**, or both\.
  27  
  28: 1. Choose **Submit**\.
  29  
  30: **To scale on a recurring schedule**
  31  

  33  
  34: 1. In the navigation pane, choose **Spot Requests**\.
  35  
  36: 1. Select your Spot Fleet request and choose the **Scheduled Scaling** tab near the bottom of the screen\.
  37  
  38: 1. For **Recurrence**, choose one of the predefined schedules \(for example, **Every day**\), or choose **Custom** and enter a cron expression\. For more information about the cron expressions supported by scheduled scaling, see [Cron Expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#CronExpressions) in the *Amazon CloudWatch Events User Guide*\.
  39  
  40: 1. \(Optional\) Choose a date and time for **Start time**, **End time**, or both\.
  41  
  42: 1. Choose **Submit**\.
  43  
  44: **To edit a scheduled action**
  45  

  47  
  48: 1. In the navigation pane, choose **Spot Requests**\.
  49  
  50: 1. Select your Spot Fleet request and choose the **Scheduled Scaling** tab near the bottom of the screen\.
  51  
  52: 1. Select the scheduled action and choose **Actions**, **Edit**\.
  53  
  54: 1. Make the needed changes and choose **Submit**\.
  55  
  56: **To delete a scheduled action**
  57  

  59  
  60: 1. In the navigation pane, choose **Spot Requests**\.
  61  
  62: 1. Select your Spot Fleet request and choose the **Scheduled Scaling** tab near the bottom of the screen\.
  63  
  64: 1. Select the scheduled action and choose **Actions**, **Delete**\.
  65  
  66: 1. When prompted for confirmation, choose **Delete**\.
  67  
  68: **To manage scheduled scaling using the AWS CLI**
  69  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-fleet-step-scaling.md:
   5  When you create a step scaling policy, you must specify one of the following scaling adjustment types:
   6: + **Add** – Increase the target capacity of the fleet by a specified number of capacity units or a specified percentage of the current capacity\.
   7: + **Remove** – Decrease the target capacity of the fleet by a specified number of capacity units or a specified percentage of the current capacity\.
   8: + **Set to** – Set the target capacity of the fleet to the specified number of capacity units\.
   9  

  13  
  14: **Limitation**  
  15  The Spot Fleet request must have a request type of `maintain`\. Automatic scaling is not supported for requests of type `request`, or Spot blocks\.
  16  
  17: **Prerequisites**
  18  + Consider which CloudWatch metrics are important to your application\. You can create CloudWatch alarms based on metrics provided by AWS or your own custom metrics\.

  20  
  21: **To create a CloudWatch alarm**
  22  

  24  
  25: 1. In the navigation pane, choose **Alarms**\.
  26  
  27: 1. Choose **Create alarm**\.
  28  
  29: 1. On the **Specify metric and conditions** page, choose **Select metric**\. 
  30  
  31: 1. Choose **EC2 Spot**, **Fleet Request Metrics**, select a metric \(for example, TargetCapacity\), and then choose **Select metric**\.
  32  
  33:    The **Specify metric and conditions** page appears, showing a graph and other information about the metric you selected\. 
  34  
  35: 1. For **Period**, choose the evaluation period for the alarm, for example, 1 minute\. When evaluating the alarm, each period is aggregated into one data point\. 
  36: **Note**  
  37  A shorter period creates a more sensitive alarm\. 
  38  
  39: 1. For **Conditions**, define the alarm by defining the threshold condition\. For example, you can define a threshold to trigger the alarm whenever the value of the metric is greater than or equal to 80 percent\.
  40  
  41: 1. Under **Additional configuration**, for **Datapoints to alarm**, specify how many datapoints \(evaluation periods\) must be in the ALARM state to trigger the alarm, for example, 1 evaluation period or 2 out of 3 evaluation periods\. This creates an alarm that goes to ALARM state if that many consecutive periods are breaching\. For more information, see [Evaluating an Alarm](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#alarm-evaluation) in the *Amazon CloudWatch User Guide*\.
  42  
  43: 1. For **Missing data treatment**, choose one of the options \(or leave the default of **Treat missing data as missing**\)\. For more information, see [Configuring How CloudWatch Alarms Treat Missing Data](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#alarms-and-missing-data) in the *Amazon CloudWatch User Guide*\.
  44  
  45: 1. Choose **Next**\.
  46  
  47: 1. \(Optional\) To receive notification of a scaling event, for **Notification**, you can choose or create the Amazon SNS topic you want to use to receive notifications\. Otherwise, you can delete the notification now and add one later as needed\.
  48  
  49: 1. Choose **Next**\.
  50  
  51: 1. Under **Add a description**, enter a name and description for the alarm and choose **Next**\.
  52  
  53: 1. Choose **Create alarm**\.
  54  
  55: **To configure a step scaling policy for your Spot Fleet \(console\)**
  56  

  58  
  59: 1. In the navigation pane, choose **Spot Requests**\.
  60  
  61: 1. Select your Spot Fleet request and choose **Auto Scaling**\.
  62  
  63: 1. If automatic scaling is not configured, choose **Configure**\.
  64  
  65: 1. Use **Scale capacity between** to set the minimum and maximum capacity for your fleet\. Automatic scaling does not scale your fleet below the minimum capacity or above the maximum capacity\.
  66  
  67: 1. Initially, **Scaling policies** contains policies named ScaleUp and ScaleDown\. You can complete these policies, or choose **Remove policy** to delete them\. You can also choose **Add policy**\.
  68  

  70  
  71:    1. For **Policy name**, enter a name for the policy\.
  72  
  73:    1. For **Policy trigger**, select an existing alarm or choose **Create new alarm** to open the Amazon CloudWatch console and create an alarm\.
  74  
  75:    1. For **Modify capacity**, select a scaling adjustment type, select a number, and select a unit\.
  76  
  77:    1. \(Optional\) To perform step scaling, choose **Define steps**\. By default, an add policy has a lower bound of \-infinity and an upper bound of the alarm threshold\. By default, a remove policy has a lower bound of the alarm threshold and an upper bound of \+infinity\. To add another step, choose **Add step**\.
  78  
  79:    1. \(Optional\) To modify the default value for the cooldown period, select a number from **Cooldown period**\.
  80  
  81: 1. Choose **Save**\.
  82  
  83: **To configure step scaling policies for your Spot Fleet using the AWS CLI**
  84  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-interruptions.md:
  10  
  11: **Topics**
  12  + [Reasons for interruption](interruption-reasons.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/spot-request-status.md:
    6  
    7: **Topics**
    8  + [Lifecycle of a Spot request](#spot-instances-request-status-lifecycle)

   18  
   19: **Pending evaluation**  
   20  As soon as you create a Spot Instance request, it goes into the `pending-evaluation` state unless one or more request parameters are not valid \(`bad-parameters`\)\.

   27  
   28: **Holding**  
   29  If one or more request constraints are valid but can't be met yet, or if there is not enough capacity, the request goes into a holding state waiting for the constraints to be met\. The request options affect the likelihood of the request being fulfilled\. For example, if there is no capacity, your request stays in a holding state until there is available capacity\. If you specify an Availability Zone group, the request stays in a holding state until the Availability Zone constraint is met\.

   43  
   44: **Pending evaluation/fulfillment\-terminal**  
   45  Your Spot Instance request can go to a `terminal` state if you create a request that is valid only during a specific time period and this time period expires before your request reaches the pending fulfillment phase\. It might also happen if you cancel the request, or if a system error occurs\.

   56  
   57: **Pending fulfillment**  
   58  When the constraints you specified \(if any\) are met, your Spot request goes into the `pending-fulfillment` state\.

   66  
   67: **Fulfilled**  
   68  When all the specifications for your Spot Instances are met, your Spot request is fulfilled\. Amazon EC2 launches the Spot Instances, which can take a few minutes\. If a Spot Instance is hibernated or stopped when interrupted, it remains in this state until the request can be fulfilled again or the request is canceled\.

   87  
   88: **Fulfilled\-terminal**  
   89  Your Spot Instances continue to run as long as there is available capacity for your instance type, and you don't terminate the instance\. If Amazon EC2 must terminate your Spot Instances, the Spot request goes into a terminal state\. A request also goes into the terminal state if you cancel the Spot request or terminate the Spot Instances\.

  111  
  112: **Persistent requests**  
  113  When your Spot Instances are terminated \(either by you or Amazon EC2\), if the Spot request is a persistent request, it returns to the `pending-evaluation` state and then Amazon EC2 can launch a new Spot Instance when the constraints are met\.

  118  
  119: **To get request status information \(console\)**
  120  

  122  
  123: 1. In the navigation pane, choose **Spot Requests** and select the Spot request\.
  124  
  125: 1. To check the status, on the **Description** tab, check the **Status** field\.
  126  
  127: **To get request status information using the command line**
  128  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/sriov-networking.md:
    4  
    5: **Topics**
    6  + [Requirements](#ixgbevf-requirements)

   22  
   23: **Driver**  
   24: To verify that the driver is installed, connect to your instance and open Device Manager\. You should see "Intel\(R\) 82599 Virtual Function" listed under **Network adapters**\.
   25  
   26: **Instance attribute \(sriovNetSupport\)**  
   27  To check whether an instance has the enhanced networking `sriovNetSupport` attribute set, use one of the following commands:

   46  
   47: **Image attribute \(sriovNetSupport\)**  
   48  To check whether an AMI already has the enhanced networking `sriovNetSupport` attribute set, use one of the following commands:

   65  
   66: **Important**  
   67   To view the latest version of the Intel driver in the Windows AMIs, see [Details about AWS Windows AMI versions](aws-windows-ami.md#windows-ami-versions)\.
   68  
   69: **Warning**  
   70  There is no way to disable the enhanced networking attribute after you've enabled it\.
   71  
   72: **To enable enhanced networking**
   73  

   80     ```
   81: **Important**  
   82  The administrator password will reset when you enable the initialize instance EC2 Launch script\. You can modify the configuration file to disable the administrator password reset by specifying it in the settings for the initialization tasks\. For steps on how to disable password reset, see [Configure initialization tasks](ec2launch.md#ec2launch-inittasks)\.

   84  1. From the instance, download the Intel network adapter driver for your operating system:
   85: **Note**  
   86  To avoid connectivity issues, we recommend you don't install the Intel Network Adapter driver release 26\.6 or later\.
   87:    + **Windows Server 2019** including for Server version 1809 and later\*
   88  
   89       Visit the [ download page](https://www.intel.com/content/www/us/en/download/19372/intel-network-adapter-driver-for-windows-server-2019.html) and download `Wired_driver_version_x64.zip`\.
   90:    + **Windows Server 2016** including for Server version 1803 and earlier\*
   91  
   92       Visit the [ download page](https://www.intel.com/content/www/us/en/download/18737/intel-network-adapter-driver-for-windows-server-2016.html) and download `Wired_driver_version_x64.zip`\.
   93:    + **Windows Server 2012 R2**
   94  
   95       Visit the [ download page](https://www.intel.com/content/www/us/en/download/17480/intel-network-adapter-driver-for-windows-server-2012-r2.html) and download `Wired_driver_version_x64.zip`\.
   96:    + **Windows Server 2012**
   97  
   98       Visit the [ download page](https://www.intel.com/content/www/us/en/download/16789/intel-network-adapter-driver-for-windows-server-2012.html) and download `Wired_driver_version_x64.zip`\.
   99:    + **Windows Server 2008 R2**
  100  

  105  1. Install the Intel network adapter driver for your operating system\.
  106:    + **Windows Server 2008 R2**
  107  
  108:      1. In the **Downloads** folder, locate the `PROWinx64Legacy.exe` file and rename it to `PROWinx64Legacy.zip`\.
  109  

  116          ```
  117:    + **Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, and Windows Server 2012**
  118  
  119:      1. In the **Downloads** folder, extract the contents of the `Wired_driver_version_x64.zip` file\.
  120  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/Stop_Start.md:
   10  
   11: **Topics**
   12  + [Overview](#instance_stop)

   33  
   34: When you stop an EC2 instance by using the StopInstances API \(for example, by choosing **Instance state**, **Stop instance** in the Amazon EC2 console, or by using the [stop\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/stop-instances.html) AWS CLI command\), the following is registered at the OS level:
   35  + The API request sends a button press event to the guest\.

   47  
   48: **When you stop an instance, the following is *lost*:**
   49  + Data stored in the RAM\.

   53  
   54: **When you stop an instance, the following *persists*:**
   55  + Data stored in the Amazon EBS volumes\. The EBS volumes remain attached to the instance\.

   63  
   64: When you start an EC2 instance by using the StartInstances API \(for example, by choosing **Instance state**, **Start instance** in the Amazon EC2 console, or by using the [start\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/start-instances.html) AWS CLI command\), the following happens:
   65  + In most cases, the instance is migrated to a new underlying host computer \(though in some cases, it remains on the current host\)\.

   76  
   77: **To stop and start an Amazon EBS\-backed instance**
   78  

   80  
   81: 1. In the navigation pane, choose **Instances** and select the instance\.
   82  
   83: 1. Choose **Instance state**, **Stop instance**\. If this option is disabled, either the instance is already stopped or its root device is an instance store volume\.
   84  
   85: 1. When prompted for confirmation, choose **Stop**\. It can take a few minutes for the instance to stop\.
   86  

   88  
   89: 1. To start the stopped instance, select the instance, and choose **Instance state**, **Start instance**\.
   90  

   95  
   96: **To stop and start an Amazon EBS\-backed instance**
   97  

  103  
  104: **To run a controlled fault injection experiment**  
  105  You can use AWS Fault Injection Simulator to test how your application responds when your instance is stopped and started\. For more information, see the [AWS Fault Injection Simulator User Guide](https://docs.aws.amazon.com/fis/latest/userguide)\.

  110  
  111: **Use Instance Scheduler on AWS**  
  112  You can use Instance Scheduler on AWS to automate the starting and stopping of EC2 instances\. For more information, see [How do I use Instance Scheduler with CloudFormation to schedule EC2 instances?](http://aws.amazon.com/premiumsupport/knowledge-center/stop-start-instance-scheduler/) Note that [additional charges apply](https://docs.aws.amazon.com/solutions/latest/instance-scheduler-on-aws/cost.html)\. 
  113  
  114: **Use AWS Lambda and an Amazon EventBridge rule**  
  115  You can use Lambda and an EventBridge rule to stop and start your instances on a schedule\. For more information, see [How do I stop and start Amazon EC2 instances at regular intervals using Lambda?](http://aws.amazon.com/premiumsupport/knowledge-center/start-stop-lambda-eventbridge/)

  124  
  125: **Considerations**
  126  + Enabling stop protection does not prevent AWS from stopping the instance when the instance has a [scheduled event](monitoring-instances-status-check_sched.md) that stops the instance\.

  139  
  140: **To enable stop protection for an instance at launch**
  141  

  143  
  144: 1. On the dashboard, choose **Launch instance**\.
  145  

  147  
  148:    To enable stop protection, under **Advanced details**, for **Stop protection**, choose **Enable**\.
  149  

  152  
  153: **To enable stop protection for an instance at launch**  
  154  Use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) AWS CLI command to launch the instance, and specify the `disable-api-stop` parameter\. 

  173  
  174: **To enable stop protection for a running or stopped instance**
  175  

  177  
  178: 1. In the left navigator, choose **Instances**\.
  179  
  180: 1. Select the instance, and then choose **Actions**, **Instance settings**, **Change stop protection**\.
  181  
  182: 1. Select the **Enable** check box, and then choose **Save**\.
  183  

  186  
  187: **To enable stop protection for a running or stopped instance**  
  188  Use the [modify\-instance\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-attribute.html) AWS CLI command and specify the `disable-api-stop` parameter\. 

  204  
  205: **To disable stop protection for a running or stopped instance**
  206  

  208  
  209: 1. In the left navigator, choose **Instances**\.
  210  
  211: 1. Select the instance, and then choose **Actions**, **Instance settings**, **Change stop protection**\.
  212  
  213: 1. Clear the **Enable** check box, and then choose **Save**\.
  214  

  217  
  218: **To disable stop protection for a running or stopped instance**  
  219  Use the [modify\-instance\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-attribute.html) AWS CLI command and specify the `no-disable-api-stop` parameter\. 

  232  
  233: **To modify an instance attribute**
  234  + To change the instance type, see [Change the instance type](ec2-instance-resize.md)\.

  238  
  239: **To modify an instance attribute using the command line**
  240  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/stop-spot-instances.md:
  20  
  21: **Spot request type**  
  22  Spot Instance request type – Must be `persistent`\. You can't specify a launch group in the Spot Instance request\.  

  24  
  25: **Root volume type**  
  26  Must be an EBS volume, not an instance store volume\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/storage_fsx.md:
    6  
    7: **Note**  
    8  This functionality is available in the new launch instance wizard only\. For more information, see [Launch an instance using the new launch instance wizard](ec2-launch-instance-wizard.md)

   12  
   13: **Topics**
   14  + [Security groups and user data script](#sg-user-data)

   20  
   21: **Topics**
   22  + [Security groups](#fsx-sg)

   28  
   29: The security group that is **created and attached to the instance** is tagged with `Name=instance-sg-1`, and it includes the following inbound and outbound rules:
   30  
   31: **Note**  
   32  The value in the `Name` tag is automatically incremented each time the launch instance wizard creates a new security group for Amazon FSx file systems\.

   36  | 
   37: | **Inboud rules** | 
   38  | --- |
   39  | No inbound rules | 
   40: | **Outbound rules** | 
   41  | --- |
   42: | **Protocol type** | **Port number** | **Destination** | 
   43  | --- |--- |--- |

   57  
   58: The security group that is **created and attached to the file system** is tagged with `Name=fsx-sg-1`, and it includes the following inbound and outbound rules:
   59  
   60: **Note**  
   61  The value in the `Name` tag is automatically incremented each time the launch instance wizard creates a new security group for Amazon FSx file systems\.

   65  | 
   66: | **Inbound rules** | 
   67  | --- |
   68: | **Protocol type** | **Port number** | **Source** | 
   69  | --- |--- |--- |

   81  | TCP | 111 | Instance security group \(instance\-sg\-1\) | 
   82: | **Outbound rules** | 
   83  | --- |
   84: | **Protocol type** | **Port number** | **Destination** | 
   85  | --- |--- |--- |

  111  
  112: **To mount a new or existing Amazon FSx file system at launch**
  113  

  115  
  116: 1. In the navigation pane, choose **Instances** and then choose **Launch instance** to open the launch instance wizard\.
  117  
  118: 1. In the **Application and OS Images** section, select the AMI to use\.
  119  
  120: 1. In the **Instance type** section, select the instance type\.
  121  
  122: 1. In the **Key pair** section, select an existing key pair or create a new one\.
  123  
  124: 1. In the **Network settings** section, do the following:
  125  
  126:    1. Choose **Edit**\.
  127  
  128:    1. If you want to **mount an existing file system**, for **Subnet**, choose the file system's preferred subnet\. We recommend that you launch the instance into the sameAvailability Zone as the file system's preferred subnet to optimizeperformance\.
  129  
  130:       If you want to **create a new file system** to mount to an instance, for **Subnet**, choose the subnet into which to launch the instance\.
  131: **Important**  
  132  You must select a subnet to enable the Amazon FSx functionality in the new launch instance wizard\. If you do not select a subnet, you will not be able to mount an existing file system or create a new one\.
  133  
  134: 1. In the **Storage** section, do the following:
  135  

  137  
  138:    1. Expand the **File systems** section and select **FSx**\.
  139  
  140:    1. Choose **Add shared file system**\.
  141  
  142:    1. For **File system**, select the file system to mount\.
  143: **Note**  
  144  The list displays all Amazon FSx for NetApp ONTAP and Amazon FSx for OpenZFS file systems in the in your account in the selected Region\.
  145  
  146:    1. To automatically create and attach the security groups needed to enable access to the file system, select **Automatically create and attach security groups**\. If you prefer to create the security groups manually, clear the check box\. For more information, see [Security groups](#fsx-sg)\.
  147  
  148:    1. To automatically attach the user data scripts needed to mount the file system, select **Automatically mount shared file system by attaching required user data script**\. If you prefer to provide the user data scripts manually, clear the check box\. For more information, see [User data script](#fsx-user-data)\.
  149  
  150: 1. In the **Advanced** section, configure the additional instance settings as needed\.
  151  
  152: 1. Choose **Launch**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/storage-optimized-instances.md:
    4  
    5: **D2 instances**
    6  

   11  
   12: **D3 and D3en instances**
   13  

   18  
   19: **H1 instances**
   20  

   25  
   26: **I3 and I3en instances**
   27  

   39  <a name="i4i-instances"></a>
   40: **I4i instances**  
   41  These instances are well suited for I/O intensive workloads that require small to medium sized data sets on local storage, such as transactional databases and NoSQL databases\.

   44  
   45: **Topics**
   46  + [Hardware specifications](#storage-instances-hardware)

  108  
  109: **Intel processors**
  110: + **Intel Xeon Scalable processors \(Haswell E5\-2676 v3\)**: D2
  111: + **Intel Xeon Scalable processors \(Broadwell E5\-2686 v4\)**: H1, I3
  112: + **Intel Xeon Scalable processors \(Skylake 8175M or Cascade Lake 8259CL\)**: I3en
  113: + **2nd generation Intel Xeon Scalable processors \(Cascade Lake 8259CL\)**: D3, D3en
  114: + **3rd generation Intel Xeon Scalable processors \(Ice Lake 8375C\)**: I4i
  115  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/terminate-serial-console-session.title.md:
   4  
   5: **Browser\-based client**  
   6  To terminate the serial console session, close the serial console in\-browser terminal window\.
   7  
   8: **Standard OpenSSH client**  
   9  To terminate the serial console session, use the following command to close the SSH connection\. This command must be run immediately following a new line\.

  14  
  15: **Note**  
  16  The command that you use for closing an SSH connection might be different depending on the SSH client that you're using\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/troubleshoot-change-instance-type.md:
   6  
   7: **Possible cause: AMI does not support instance type**  
   8  If you use the EC2 console to change the instance type, only the instance types that are supported by the selected AMI are available\. However, if you use the AWS CLI to launch an instance, you can specify an incompatible AMI and instance type\. If the AMI and instance type are incompatible, the instance can't start\. For more information, see [Compatibility for changing the instance type](resize-limitations.md)\.
   9  
  10: **Possible cause: Instance is in cluster placement group**  
  11  If your instance is in a [cluster placement group](placement-groups.md#placement-groups-cluster) and, after changing the instance type, the instance fails to start, try the following:  

  20  
  21: **Possible cause: Public IPv4 address is released**  
  22  When you change the instance type, you must first stop the instance\. When you stop an instance, we release the public IPv4 address and give your instance a new public IPv4 address\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/troubleshoot-ena-driver.md:
    6  
    7: **Can't connect**  
    8  If you are unable to connect to your instance, see [Troubleshoot an unreachable instance](screenshot-service.md)\.
    9  
   10: **Note**  
   11  You can also connect to the instance through AWS Systems Manager Session Manager\. However, to do so requires prior configuration\. For more information, see [Session Manager](https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager.html) in the *AWS Systems Manager User Guide*\.

   14  
   15: The steps to open Windows operating system \(OS\) tools vary, depending on what version of the OS is installed on your instance\. In the following sections, we use the **Run** dialog to open the tools, which works the same across all OS versions\. However, you can access these tools using any method that you prefer\.
   16  
   17: **Access the Run dialog**
   18  + Using the Windows logo key combination: `Windows` \+ `R`

   20    + Enter `run` in the search bar\.
   21:   + Select the **Run** application from the search results\.
   22  

   24  
   25: **Access the context menu**
   26  + Using your mouse: right\-click an item to bring up its context menu\.

   36  
   37: 1. Open the **Run** dialog using one of the methods described in the preceding section\.
   38  
   39: 1. To open the Windows Device Manager, enter `devmgmt.msc` in the **Run** box\.
   40  
   41: 1. Choose **OK**\. This opens the Device Manager window\.
   42  
   43: 1. Select the arrow to the left of **Network adapters** to expand the list\.
   44  
   45: 1. Choose the name, or open the context menu for the **Amazon Elastic Network Adapter**, and then choose **Properties**\.
   46  
   47: 1. Verify that the message in the **General** tab of the **Amazon Elastic Network Adapter Properties** window says "This device is working properly\."
   48  

   52  
   53: 1. Open the **Run** dialog using one of the methods described in the preceding section\.
   54  
   55: 1. To open the Windows Event Viewer, enter `eventvwr.msc` in the **Run** box\.
   56  
   57: 1. Choose **OK**\. This opens the Event Viewer window\.
   58  
   59: 1. Expand the **Windows Logs** menu, and then choose **System**\.
   60  
   61: 1. Under **Actions**, in the top\-right panel, choose **Filter Current Log**\. This displays the filtering dialog\.
   62  
   63: 1. In the **Event sources** box, enter `ena`\. This limits results to events that were generated by the ENA Windows driver\.
   64  
   65: 1. Choose **OK**\. This shows filtered event log results in the detail sections of the window\.
   66  

   77  
   78: **Input**  
   79  

  101  
  102: **Note**  
  103  Performance metrics are not functional in version 2\.2\.4 of the ENA Windows driver\. A fix is scheduled for the next release of the driver\. To ensure that performance metrics are published, use version 2\.2\.3 for now\.

  110  
  111: **Refresh rate**  
  112  By default, the driver refreshes metrics using a 1\-second interval\. However, the application that retrieves the metrics might use a different interval for polling\. You can change the refresh interval in Device Manager, using the advanced properties for the driver\.

  115  
  116: 1. Open the **Run** dialog using one of the methods described in the preceding section\.
  117  
  118: 1. To open the Windows Device Manager, enter `devmgmt.msc` in the **Run** box\.
  119  
  120: 1. Choose **OK**\. This opens the Device Manager window\.
  121  
  122: 1. Select the arrow to the left of **Network adapters** to expand the list\.
  123  
  124: 1. Open the context menu for the **Amazon Elastic Network Adapter**, and then choose **Properties**\.
  125  
  126: 1. Open the **Advanced** tab in the pop\-up window\.
  127  
  128: 1. From the **Property** list, choose **Metrics Refresh Interval** to change the value\.
  129  
  130: 1. When you are done, choose **OK**\.
  131  

  137  
  138: **Common causes for ENA adapter reset**
  139  + Keep\-alive messages are missing

  158  
  159: The ENA adapter icon in the Device Manager **Network adapters** section displays a warning sign \(a yellow triangle with an exclamation mark inside\)\.
  160  

  176  
  177: **Stop and start the device**
  178  
  179:    Open the Device Manager properties window, as described in the [Check ENA device status](#ts-ena-diagnostics-device-mgr) section\. This opens the **General** tab of the **Amazon Elastic Network Adapter Properties** window, where the **Device status** displays the error code and a short message\.
  180  
  181:    1. Open the **Driver** tab\.
  182  
  183:    1. Choose **Disable Device**, and respond **Yes** to the warning message that displays\.
  184  
  185:    1. Choose **Enable Device**\.
  186  

  188  
  189: **Stop and start the EC2 instance**
  190  

  194  
  195: **Investigate possible instance resource issue**
  196  

  203  The Windows Event Viewer shows adapter timeout and reset events occurring in combination for ENA adapters\. Messages resemble the following examples:
  204: + **Event ID 5007**: Amazon Elastic Network Adapter : Timed out during an operation\.
  205: + **Event ID 5205**: Amazon Elastic Network Adapter : Adapter reset has been started\.
  206  

  216  
  217: 1. Open the **Run** dialog using one of the methods described in the preceding section\.
  218  
  219: 1. To open the Windows Resource Monitor, enter `resmon` in the **Run** box\.
  220  
  221: 1. Choose **OK**\. This opens the Resource Monitor window\.
  222  
  223: 1. Open the **CPU** tab\. Per\-CPU usage graphs are shown along the right side of the Resource Monitor window\.
  224  

  248  
  249: **Note**  
  250  ENA Windows driver version 2\.2\.4 has been rolled back due to potential performance degradation on the sixth generation EC2 instances\. If driver version 2\.2\.4 is installed, we recommend that you downgrade the driver, using one of the following methods:

  254  Perform a bulk update via SSM document `AWS-ConfigureAWSPackage`, with the following parameters:  
  255: **Name**: AwsEnaNetworkDriver
  256: **Version**: 2\.2\.3
  257  

  277  
  278: 1. Open the **Run** dialog using one of the methods described in the preceding section\.
  279  
  280: 1. To open the Windows Device Manager, enter `devmgmt.msc` in the **Run** box\.
  281  
  282: 1. Choose **OK**\. This opens the Device Manager window\.
  283  
  284: 1. Select the arrow to the left of **Network adapters** to expand the list\.
  285  
  286: 1. Choose the name, or open the context menu for the **Amazon Elastic Network Adapter**, and then choose **Properties**\.
  287  
  288: 1. Open the **Advanced** tab in the **Amazon Elastic Network Adapter Properties** window\.
  289  
  290: 1. Select the property that you want to change\. When you are done, choose **OK** to save your changes\.
  291  

  300  
  301: **Input**  
  302  

  318  
  319: **Note**  
  320  Packets over 1500 bytes are fragmented\. If you have the `Don't Fragment` flag set in the IP header, these packets are dropped\.  

  324  
  325: **Recommended use cases for jumbo frames**  
  326  Jumbo frames can be useful for traffic inside of and between VPCs\. We recommend using jumbo frames for the following use cases:

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/troubleshoot-using-serial-console.md:
  4  
  5: **Topics**
  6  + [Use SAC to troubleshoot your Windows instance](troubleshooting-sac.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/troubleshooting-launch.md:
    4  
    5: **Topics**
    6  + [Invalid device name](#troubleshooting-launch-devicename)

  102  
  103: **To get the termination reason using the Amazon EC2 console**
  104  

  106  
  107: 1. In the navigation pane, choose **Instances**, and select the instance\.
  108  
  109: 1. On the first tab, find the reason next to **State transition reason**\.
  110  
  111: **To get the termination reason using the AWS Command Line Interface**
  112  

  129  
  130: **To get the termination reason using AWS CloudTrail**  
  131  For more information, see [Viewing events with CloudTrail event history](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html) in the *AWS CloudTrail User Guide*\.

  135  Depending on the termination reason, take one of the following actions:
  136: + **`Client.VolumeLimitExceeded: Volume limit exceeded`** — Delete unused volumes\. You can [submit a request](https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ebs) to increase your volume limit\.
  137: + **`Client.InternalError: Client error on launch`** — Ensure that you have the permissions required to access the AWS KMS keys used to decrypt and encrypt volumes\. For more information, see [Using key policies in AWS KMS](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html) in the *AWS Key Management Service Developer Guide*\.
  138  

  140  
  141: If Windows Update is set to **Check for updates but let me choose whether to download and install them** \(the default instance setting\) this check can consume anywhere from 50 \- 99% of the CPU on the instance\. If this CPU consumption causes problems for your applications, you can manually change Windows Update settings in **Control Panel** or you can use the following script in the Amazon EC2 user data field:
  142  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/unlimited-mode-examples.md:
   4  
   5: **Topics**
   6  + [Example 1: Explain credit use with T3 Unlimited](#t3_unlimited_example)

  16  
  17: **P1** – At 0 hours on the graph, the instance is launched as `unlimited` and immediately begins to earn credits\. The instance remains idle from the time it is launched—CPU utilization is 0%—and no credits are spent\. All unspent credits are accrued in the credit balance\. For the first 24 hours, `CPUCreditUsage` is at 0, and the `CPUCreditBalance` value reaches its maximum of 144\.
  18  
  19: **P2** – For the next 12 hours, CPU utilization is at 2\.5%, which is below the 5% baseline\. The instance earns more credits than it spends, but the `CPUCreditBalance` value cannot exceed its maximum of 144 credits\.
  20  
  21: **P3** – For the next 24 hours, CPU utilization is at 7% \(above the baseline\), which requires a spend of 57\.6 credits\. The instance spends more credits than it earns, and the `CPUCreditBalance` value reduces to 86\.4 credits\.
  22  
  23: **P4** – For the next 12 hours, CPU utilization decreases to 2\.5% \(below the baseline\), which requires a spend of 36 credits\. In the same time, the instance earns 72 credits\. The instance earns more credits than it spends, and the `CPUCreditBalance` value increases to 122 credits\.
  24  
  25: **P5** – For the next 5 hours, the instance bursts at 100% CPU utilization, and spends a total of 570 credits to sustain the burst\. About an hour into this period, the instance depletes its entire `CPUCreditBalance` of 122 credits, and starts to spend surplus credits to sustain the high CPU utilization, totaling 448 surplus credits in this period \(570\-122=448\)\. When the `CPUSurplusCreditBalance` value reaches 144 CPU credits \(the maximum a `t3.nano` instance can earn in a 24\-hour period\), any surplus credits spent thereafter cannot be offset by earned credits\. The surplus credits spent thereafter amounts to 304 credits \(448\-144=304\), which results in a small additional charge at the end of the hour for 304 credits\.
  26  
  27: **P6** – For the next 13 hours, CPU utilization is at 5% \(the baseline\)\. The instance earns as many credits as it spends, with no excess to pay down the `CPUSurplusCreditBalance`\. The `CPUSurplusCreditBalance` value remains at 144 credits\.
  28  
  29: **P7** – For the last 24 hours in this example, the instance is idle and CPU utilization is 0%\. During this time, the instance earns 144 credits, which it uses to pay down the `CPUSurplusCreditBalance`\.
  30  

  40  
  41: **1** – In the first 10 minutes, `CPUCreditUsage` is at 0, and the `CPUCreditBalance` value remains at its maximum of 72\.
  42  
  43: **2** – At 23:40, as CPU utilization increases, the instance spends CPU credits and the `CPUCreditBalance` value decreases\.
  44  
  45: **3** – At around 00:47, the instance depletes its entire `CPUCreditBalance`, and starts to spend surplus credits to sustain high CPU utilization\.
  46  
  47: **4** – Surplus credits are spent until 01:55, when the `CPUSurplusCreditBalance` value reaches 72 CPU credits\. This is equal to the maximum a `t2.nano` instance can earn in a 24\-hour period\. Any surplus credits spent thereafter cannot be offset by earned credits within the 24\-hour period, which results in a small additional charge at the end of the hour\.
  48  
  49: **5** – The instance continues to spend surplus credits until around 02:20\. At this time, CPU utilization falls below the baseline, and the instance starts to earn credits at 3 credits per hour \(or 0\.25 credits every 5 minutes\), which it uses to pay down the `CPUSurplusCreditBalance`\. After the `CPUSurplusCreditBalance` value reduces to 0, the instance starts to accrue earned credits in its `CPUCreditBalance` at 0\.25 credits every 5 minutes\.
  50  

  52  
  53: **Calculating the bill**  
  54  Surplus credits cost $0\.096 per vCPU\-hour\. The instance spent approximately 25 surplus credits between 01:55 and 02:20, which is equivalent to 0\.42 vCPU\-hours\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-cloudwatch.md:
  10  
  11: **Topics**
  12  + [Enable or turn off detailed monitoring for your instances](using-cloudwatch-new.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-instance-addressing.md:
    4  
    5: **Topics**
    6  + [Private IPv4 addresses](#concepts-private-addresses)

   18  
   19: **Note**  
   20  You can create a VPC with a publicly routable CIDR block that falls outside of the private IPv4 address ranges specified in RFC 1918\. However, for the purposes of this documentation, we refer to private IPv4 addresses \(or 'private IP addresses'\) as the IP addresses that are within the IPv4 CIDR range of your VPC\.

   52  
   53: **Note**  
   54  Instances that access other instances through their public NAT IP address are charged for regional or Internet data transfer, depending on whether the instances are in the same Region\.

   82  
   83: You can assign a public IPv4 address to your instance when you launch it\. You can view the IPv4 addresses for your instance in the console through either the **Instances** page or the **Network Interfaces** page\.
   84  
   85: **Topics**
   86  + [View the IPv4 addresses](#using-instance-addressing-common)

   94  
   95: **To view the IPv4 addresses for an instance using the console**
   96  

   98  
   99: 1. In the navigation pane, choose **Instances** and select your instance\.
  100  
  101: 1. The following information is available on the **Networking** tab:
  102:    + **Public IPv4 address** — The public IPv4 address\. If you associated an Elastic IP address with the instance or the primary network interface, this is the Elastic IP address\.
  103:    + **Private IPv4 addresses** — The private IPv4 address\.
  104:    + **Secondary private IPv4 addresses** — Any secondary private IPv4 addresses\.
  105  
  106: 1. Alternatively, under **Network interfaces** on the **Networking** tab, choose the interface ID for the primary network interface \(for example, eni\-123abc456def78901\)\. The following information is available:
  107:    + **Private IPv4 address** — The primary private IPv4 address\.
  108:    + **Public IPv4 address** — The public IPv4 address\. If you associated an Elastic IP address with the instance or the primary network interface, this is the Elastic IP address\.
  109:    + **Secondary private IPv4 addresses** — Any secondary private IPv4 addresses\.
  110  
  111: **To view the IPv4 addresses for an instance using the command line**
  112  

  116  
  117: **To determine your instance's IPv4 addresses using instance metadata**
  118  

  138  
  139: **Considerations**
  140  + You can't manually disassociate the public IP address from your instance after launch\. Instead, it's automatically released in certain cases, after which you cannot reuse it\. For more information, see [Public IPv4 addresses](#concepts-public-addresses)\. If you require a persistent public IP address that you can associate or disassociate at will, assign an Elastic IP address to the instance after launch instead\. For more information, see [Elastic IP addresses](elastic-ip-addresses-eip.md)\.

  143  
  144: **To assign a public IPv4 address during instance launch using the console**  
  145: Follow the procedure to [launch an instance](ec2-launch-instance-wizard.md#liw-launch-instance-with-defined-parameters), and when you configure [Network Settings](ec2-launch-instance-wizard.md#liw-network-settings), choose the option to **Auto\-assign Public IP**\.<a name="publicip-cli"></a>
  146  
  147: **To enable or disable the public IP addressing feature using the command line**
  148  

  154  
  155: You can view the IPv6 addresses assigned to your instance, assign a public IPv6 address to your instance, or unassign an IPv6 address from your instance\. You can view these addresses in the console through either the **Instances** page or the **Network Interfaces** page\.
  156  
  157: **Topics**
  158  + [View the IPv6 addresses](#view-ipv6-addresses)

  165  
  166: **To view the IPv6 addresses for an instance using the console**
  167  

  169  
  170: 1. In the navigation pane, choose **Instances**\.
  171  

  173  
  174: 1. On the **Networking** tab, locate **IPv6 addresses**\.
  175  
  176: 1. Alternatively, under **Network interfaces** on the **Networking** tab, choose the interface ID for the network interface \(for example, eni\-123abc456def78901\)\. Locate **IPv6 addresses**\.
  177  
  178: **To view the IPv6 addresses for an instance using the command line**
  179  

  183  
  184: **To view the IPv6 addresses for an instance using instance metadata**
  185  

  197  
  198: **To assign an IPv6 address during instance launch**  
  199: Follow the procedure to [launch an instance](ec2-launch-instance-wizard.md#liw-launch-instance-with-defined-parameters), and when you configure [Network Settings](ec2-launch-instance-wizard.md#liw-network-settings), choose the option to **Auto\-assign IPv6 IP**\.
  200  
  201: **To assign an IPv6 address after launch**
  202  

  204  
  205: 1. In the navigation pane, choose **Instances**\.
  206  
  207: 1. Select your instance, and choose **Actions**, **Networking**, **Manage IP addresses**\.
  208  
  209: 1. Expand the network interface\. Under **IPv6 addresses**, choose **Assign new IP address**\. Enter an IPv6 address from the range of the subnet or leave the field blank to let Amazon choose an IPv6 address for you\.
  210  
  211: 1. Choose **Save**\.<a name="assign-ipv6-cli"></a>
  212  
  213: **To assign an IPv6 address using the command line**
  214  

  224  
  225: **To unassign an IPv6 address from an instance using the console**
  226  

  228  
  229: 1. In the navigation pane, choose **Instances**\.
  230  
  231: 1. Select your instance, and choose **Actions**, **Networking**, **Manage IP addresses**\.
  232  
  233: 1. Expand the network interface\. Under **IPv6 addresses**, choose **Unassign** next to the IPv6 address\.
  234  
  235: 1. Choose **Save**\.
  236  
  237: **To unassign an IPv6 address from an instance using the command line**
  238  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-regions-availability-zones.md:
   13  
   14: **Topics**
   15  + [Regions](#concepts-regions)

   30  
   31: **Topics**
   32  + [Available Regions](#concepts-available-regions)

   91  
   92: **To find your Regions using the console**
   93  

   95  
   96: 1. From the navigation bar, choose the **Regions** selector\.  
   97  ![\[View your Regions\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/EC2_select_region.png)
   98  
   99: 1. Your EC2 resources for this Region are displayed on the **EC2 Dashboard** in the **Resources** section\.
  100  
  101: **To find your Regions using the AWS CLI**  
  102  Use the [describe\-regions](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-regions.html) command as follows to describe the Regions that are enabled for your account\.

  117  
  118: **To view the Region name using the AWS CLI**  
  119  Use the [get\-regions](https://docs.aws.amazon.com/cli/latest/reference/lightsail/get-regions.html) command as follows to describe the name of the specified Region\.

  140  
  141: **Considerations**  
  142  Some AWS resources might not be available in all Regions\. Ensure that you can create the resources that you need in the desired Regions before you launch an instance\.
  143  
  144: **To specify the Region for a resource using the console**
  145  

  147  
  148: 1. From the navigation bar, choose the **Regions** selector and then choose the Region\.  
  149  ![\[View your Regions\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/EC2_select_region.png)
  150  
  151: **To specify the default Region using the command line**
  152  

  172  
  173: **Topics**
  174  + [AZ IDs](#az-ids)

  192  
  193: **To find your Availability Zones using the console**
  194  

  196  
  197: 1. From the navigation bar, choose the **Regions** selector and then choose the Region\.
  198  
  199: 1. On the navigation pane, choose **EC2 Dashboard**\.
  200  
  201: 1. The Availability Zones are listed in the **Service health** pane\.
  202  
  203: **To find your Availability Zones using the AWS CLI**
  204  + Use the [describe\-availability\-zones](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-availability-zones.html) command as follows to describe the Availability Zones within the specified Region that are enabled for your account\.

  229  
  230: **To migrate an instance to another Availability Zone**
  231  

  258  
  259: **Topics**
  260  + [Available Local Zones](#local-zones-available)

  267  
  268: **To find your Local Zones using the console**
  269  

  271  
  272: 1. From the navigation bar, choose the **Regions** selector and then choose the parent Region\.
  273  
  274: 1. On the navigation pane, choose **EC2 Dashboard**\.
  275  
  276: 1. In the upper\-right corner of the page, choose **Account attributes**, **Zones**\.
  277  
  278: **To find your Local Zones using the AWS CLI**  
  279  Use the [describe\-availability\-zones](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-availability-zones.html) command as follows to describe all Local Zones in the specified Region, even if they are not enabled\. To describe only the Local Zones that you've enabled, omit the `--all-availability-zones` option\.

  288  
  289: **Consideration**  
  290  Some AWS resources might not be available in all Regions\. Make sure that you can create the resources that you need in the desired Regions or Local Zones before launching an instance in a specific Local Zone\. For a list of services supported in each Local Zone see [AWS Local Zones Features](http://aws.amazon.com/about-aws/global-infrastructure/localzones/features/)\.
  291  
  292: **To opt in to Local Zones using the console**
  293  

  295  
  296: 1. In the upper\-left corner of the page, select **New EC2 Experience**\. You cannot complete this task using the old console experience\.
  297  
  298: 1. From the navigation bar, choose the **Regions** selector and then choose the parent Region\.
  299  
  300: 1. On the navigation pane, choose **EC2 Dashboard**\.
  301  
  302: 1. In the upper\-right corner of the page, choose **Account attributes**, **Zones**\.
  303  
  304: 1. For the Local Zone to enable, choose **Manage**\.
  305  
  306: 1. For **Zone group**, choose **Enabled**\.
  307  
  308: 1. Choose **Update zone group**\.
  309  
  310: **To opt in to Local Zones using the AWS CLI**  
  311  Use the [modify\-availability\-zone\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-availability-zone-group.html) command\.

  338  
  339: **Topics**
  340  + [Describe your Wavelength Zones](#wavelength-zones-describe)

  347  
  348: **To find your Wavelength Zones using the console**
  349  

  351  
  352: 1. From the navigation bar, choose the **Regions** selector and then choose the Region\.
  353  
  354: 1. On the navigation pane, choose **EC2 Dashboard**\.
  355  
  356: 1. In the upper\-right corner of the page, choose **Account attributes**, **Zones**\.
  357  
  358: **To find your Wavelength Zones using the AWS CLI**
  359  + Use the [describe\-availability\-zones](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-availability-zones.html) command as follows to describe the Wavelength Zones within the specified Region that are enabled for your account\.

  373  
  374: **Considerations**
  375  + Some AWS resources are not available in all Regions\. Make sure that you can create the resources that you need in the desired Region or Wavelength Zone before launching an instance in a specific Wavelength Zone\.
  376  
  377: **To opt in to Wavelength Zone using the console**
  378  

  380  
  381: 1. In the upper\-left corner of the page, select **New EC2 Experience**\. You cannot complete this task using the old console experience\.
  382  
  383: 1. From the navigation bar, choose the **Regions** selector and then choose the Region\.
  384  
  385: 1. On the navigation pane, choose **EC2 Dashboard**\.
  386  
  387: 1. In the upper\-right corner of the page, choose **Account attributes**, **Zones**\.
  388  
  389: 1. Under **Wavelength Zones**, choose **Manage** for the Wavelength Zone\.
  390  
  391: 1. Choose **Enable**\.
  392  
  393: 1. Choose **Update zone group**\.
  394  
  395: **To enable Wavelength Zones using the AWS CLI**  
  396  Use the [modify\-availability\-zone\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-availability-zone-group.html) command\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-reserved-instances.md:
   6  
   7: **Platform**  
   8  You must specify an Amazon Machine Image \(AMI\) that matches the platform \(product description\) of your Reserved Instance\. For example, if you specified `Linux/UNIX` for your Reserved Instance, you can launch an instance from an Amazon Linux AMI or an Ubuntu AMI\.
   9  
  10: **Instance type**  
  11  If you purchased a zonal Reserved Instance, you must specify the same instance type as your Reserved Instance; for example, `t3.large`\. For more information, see [How zonal Reserved Instances are applied](apply_ri.md#apply-zonal-ri)\.  

  13  
  14: **Availability Zone**  
  15  If you purchased a zonal Reserved Instance for a specific Availability Zone, you must launch the instance into the same Availability Zone\.  

  17  
  18: **Tenancy**  
  19  The tenancy \(`dedicated` or `shared`\) of the instance must match the tenancy of your Reserved Instance\. For more information, see [Dedicated Instances](dedicated-instance.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-service-linked-roles.md:
  10  
  11: Capacity Reservation Fleet uses the service\-linked role named **AWSServiceRoleForEC2CapacityReservationFleet** to create, describe, modify, and cancel Capacity Reservations that were previously created by a Capacity Reservation Fleet, on your behalf\.
  12  

  14  
  15: The role uses the **AWSEC2CapacityReservationFleetRolePolicy** policy, which includes the following permissions:
  16  

  78  
  79: **Note**  
  80  If the Capacity Reservation Fleet service is using the role when you try to delete the resources, then the deletion might fail\. If that happens, wait for a few minutes and try the operation again\. 
  81  
  82: **To delete the AWSServiceRoleForEC2CapacityReservationFleet service\-linked role**
  83  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-spot-instances.md:
   8  
   9: **Topics**
  10  + [Concepts](#spot-features)

  40  
  41: **Get up and running**
  42  + [Set up to use Amazon EC2](get-set-up-for-amazon-ec2.md)

  44  
  45: **Spot basics**
  46  + [How Spot Instances work](how-spot-instances-work.md) 
  47  
  48: **Working with Spot Instances**
  49  + [Create a Spot Instance request](spot-requests.md#using-spot-instances-request)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-spot-limits.md:
  17  
  18: **Topics**
  19  + [Monitor Spot Instance limits and usage](#monitoring-spot-limits)

  36  
  37: **To request a Spot Instance limit increase**
  38  
  39: 1. Open the **Create case**, **Service limit increase** form in the Support Center console at [https://console\.aws\.amazon\.com/support/home\#/case/create](https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&limitType=service-code-ec2-spot-instances)\.
  40  
  41: 1. For **Limit type**, choose **EC2 Spot Instances**\.
  42  
  43: 1. For **Region**, select the required Region\.
  44  
  45: 1. For **Primary instance type**, select the Spot Instance limit for which you want to request a limit increase\.
  46  
  47: 1. For **New limit value**, enter the total number of vCPUs that you want to run concurrently\. To determine the total number of vCPUs that you need, see [Amazon EC2 Instance Types](http://aws.amazon.com/ec2/instance-types/) to find the number of vCPUs of each instance type\. 
  48  
  49: 1. \(Conditional\) You must create a separate limit request for each Spot Instance limit\. To request an increase for another Spot Instance limit, choose **Add another request** and repeat steps 4 and 5 in this procedure\.
  50  
  51: 1. For **Use case description**, enter your use case, and then choose **Submit**\.
  52  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/using-vpc.md:
  14  
  15: **To create a VPC**
  16  

  18  
  19: 1. Choose **Create VPC**\.
  20  
  21: 1. Under **Resources to create**, choose **VPC and more**\.
  22  
  23: 1. For **Name tag auto\-generation**, enter a name for the VPC\.
  24  
  25: 1. For **IPv4 CIDR block**, either keep the default suggestion, enter the CIDR block required by your application or network\.
  26  
  27: 1. For **Number of Availability Zones**, choose **2**, so that you can launch instances in multiple Availability Zones to ensure high availability\.
  28  
  29  1. If your instances must be accessible from the internet, do one of the following:
  30:    + If your instances can be in a public subnet, select a nonzero value for **Number of public subnets**\. Keep both options under **DNS options** selected\. You can optionally add private subnets now or later on\.
  31:    + If your instances must be in a private subnet, select **0** for **Number of public subnets**\. For **Number of private subnets**, select a number depending on your needs \(the possible values correspond to 1 or 2 private subnets per Availability Zone\)\. For **NAT gateways**, if your instances in both Availability Zones send or receive a significant volume of traffic across Availability Zones, select **1 per AZ**\. Otherwise, select **In 1 AZ** and launch instances that send or receive cross\-zone traffic in the same Availability Zone as the NAT gateway\.
  32  
  33: 1. Expand **Customize subnet CIDR blocks**\. Either keep the default suggestions, or enter a CIDR block for each subnet\. For more information, see [Subnet sizing](https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html#subnet-sizing) in the *Amazon VPC User Guide*\.
  34  
  35: 1. Review the **Preview** pane, which shows the VPC resources that will be created based on your selections\.
  36  
  37: 1. Choose **Create VPC**\.
  38  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/UsingAlarmActions.md:
   10  
   11: **Console support**  
   12  You can create alarms using the Amazon EC2 console or the CloudWatch console\. The procedures in this documentation use the Amazon EC2 console\. For procedures that use the CloudWatch console, see [Create alarms that stop, terminate, reboot, or recover an instance](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/UsingAlarmActions.html) in the *Amazon CloudWatch User Guide*\.
   13  
   14: **Permissions**  
   15  You must have the `iam:CreateServiceLinkedRole` to create or modify an alarm that performs EC2 alarm actions\.  A service role is an [IAM role](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html) that a service assumes to perform actions on your behalf\. An IAM administrator can create, modify, and delete a service role from within IAM\. For more information, see [Creating a role to delegate permissions to an AWS service](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html) in the *IAM User Guide*\. 
   16  
   17: **Topics**
   18  + [Add stop actions to Amazon CloudWatch alarms](#AddingStopActions)

   30  
   31: **To create an alarm to stop an idle instance \(Amazon EC2 console\)**
   32  

   34  
   35: 1. In the navigation pane, choose **Instances**\.
   36  
   37: 1. Select the instance and choose **Actions**, **Monitor and troubleshoot**, **Manage CloudWatch alarms**\.
   38  
   39:    Alternatively, you can choose the plus sign \( ![\[Plus sign.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/add-plus.png) \) in the **Alarm status** column\.
   40  
   41: 1. On the **Manage CloudWatch alarms** page, do the following:
   42  
   43:    1. Choose **Create an alarm**\.
   44  
   45:    1. To receive an email when the alarm is triggered, for **Alarm notification**, choose an existing Amazon SNS topic\. You first need to create an Amazon SNS topic using the Amazon SNS console\. For more information, see [Using Amazon SNS for application\-to\-person \(A2P\) messaging](https://docs.aws.amazon.com/sns/latest/dg/sns-user-notifications.html) in the *Amazon Simple Notification Service Developer Guide*\.
   46  
   47:    1. Toggle on **Alarm action**, and choose **Stop**\.
   48  
   49:    1. For **Group samples by** and **Type of data to sample**, choose a statistic and a metric\. In this example, choose **Average** and **CPU utilization**\.
   50  
   51:    1. For **Alarm When** and **Percent**, specify the metric threshold\. In this example, specify **<=** and **10** percent\.
   52  
   53:    1. For **Consecutive period** and **Period**, specify the evaluation period for the alarm\. In this example, specify **1** consecutive period of **5 Minutes**\.
   54  
   55:    1. Amazon CloudWatch automatically creates an alarm name for you\. To change the name, for **Alarm name**, enter a new name\. Alarm names must contain only ASCII characters\.
   56: **Note**  
   57  You can adjust the alarm configuration based on your own requirements before creating the alarm, or you can edit them later\. This includes the metric, threshold, duration, action, and notification settings\. However, after you create an alarm, you cannot edit its name later\.
   58  
   59:    1. Choose **Create**\.
   60  

   64  
   65: **To create an alarm to terminate an idle instance \(Amazon EC2 console\)**
   66  

   68  
   69: 1. In the navigation pane, choose **Instances**\.
   70  
   71: 1. Select the instance and choose **Actions**, **Monitor and troubleshoot**, **Manage CloudWatch alarms**\.
   72  
   73:    Alternatively, you can choose the plus sign \( ![\[Plus sign.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/add-plus.png) \) in the **Alarm status** column\.
   74  
   75: 1. On the **Manage CloudWatch alarms** page, do the following:
   76  
   77:    1. Choose **Create an alarm**\.
   78  
   79:    1. To receive an email when the alarm is triggered, for **Alarm notification**, choose an existing Amazon SNS topic\. You first need to create an Amazon SNS topic using the Amazon SNS console\. For more information, see [Using Amazon SNS for application\-to\-person \(A2P\) messaging](https://docs.aws.amazon.com/sns/latest/dg/sns-user-notifications.html) in the *Amazon Simple Notification Service Developer Guide*\.
   80  
   81:    1. Toggle on **Alarm action**, and choose **Terminate**\.
   82  
   83:    1. For **Group samples by** and **Type of data to sample**, choose a statistic and a metric\. In this example, choose **Average** and **CPU utilization**\.
   84  
   85:    1. For **Alarm When** and **Percent**, specify the metric threshold\. In this example, specify **=>** and **10** percent\.
   86  
   87:    1. For **Consecutive period** and **Period**, specify the evaluation period for the alarm\. In this example, specify **24** consecutive periods of **1 Hour**\.
   88  
   89:    1. Amazon CloudWatch automatically creates an alarm name for you\. To change the name, for **Alarm name**, enter a new name\. Alarm names must contain only ASCII characters\.
   90: **Note**  
   91  You can adjust the alarm configuration based on your own requirements before creating the alarm, or you can edit them later\. This includes the metric, threshold, duration, action, and notification settings\. However, after you create an alarm, you cannot edit its name later\.
   92  
   93:    1. Choose **Create**\.
   94  

  100  
  101: **Important**  
  102  To avoid a race condition between the reboot and recover actions, avoid setting the same number of evaluation periods for a reboot alarm and a recover alarm\. We recommend that you set reboot alarms to three evaluation periods of one minute each\. For more information, see [Evaluating an alarm](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#alarm-evaluation) in the *Amazon CloudWatch User Guide*\.
  103  
  104: **To create an alarm to reboot an instance \(Amazon EC2 console\)**
  105  

  107  
  108: 1. In the navigation pane, choose **Instances**\.
  109  
  110: 1. Select the instance and choose **Actions**, **Monitor and troubleshoot**, **Manage CloudWatch alarms**\.
  111  
  112:    Alternatively, you can choose the plus sign \( ![\[Plus sign.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/add-plus.png) \) in the **Alarm status** column\.
  113  
  114: 1. On the **Manage CloudWatch alarms** page, do the following:
  115  
  116:    1. Choose **Create an alarm**\.
  117  
  118:    1. To receive an email when the alarm is triggered, for **Alarm notification**, choose an existing Amazon SNS topic\. You first need to create an Amazon SNS topic using the Amazon SNS console\. For more information, see [Using Amazon SNS for application\-to\-person \(A2P\) messaging](https://docs.aws.amazon.com/sns/latest/dg/sns-user-notifications.html) in the *Amazon Simple Notification Service Developer Guide*\.
  119  
  120:    1. Toggle on **Alarm action**, and choose **Reboot**\.
  121  
  122:    1. For **Group samples by** and **Type of data to sample**, choose a statistic and a metric\. In this example, choose **Average** and **Status check failed: instance**\.
  123  
  124:    1. For **Consecutive period** and **Period**, specify the evaluation period for the alarm\. In this example, enter **3** consecutive periods of **5 Minutes**\.
  125  
  126:    1. Amazon CloudWatch automatically creates an alarm name for you\. To change the name, for **Alarm name**, enter a new name\. Alarm names must contain only ASCII characters\.
  127  
  128:    1. Choose **Create**\.
  129  

  137  
  138: **Note**  
  139  The recover action can be used only with `StatusCheckFailed_System`, not with `StatusCheckFailed_Instance`\.

  150  
  151: **Important**  
  152  To avoid a race condition between the reboot and recover actions, avoid setting the same number of evaluation periods for a reboot alarm and a recover alarm\. We recommend that you set recover alarms to two evaluation periods of one minute each\. For more information, see [Evaluating an alarm](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#alarm-evaluation) in the *Amazon CloudWatch User Guide*\.
  153  
  154: **To create an alarm to recover an instance \(Amazon EC2 console\)**
  155  

  157  
  158: 1. In the navigation pane, choose **Instances**\.
  159  
  160: 1. Select the instance and choose **Actions**, **Monitor and troubleshoot**, **Manage CloudWatch alarms**\.
  161  
  162:    Alternatively, you can choose the plus sign \( ![\[Plus sign.\]](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/images/add-plus.png) \) in the **Alarm status** column\.
  163  
  164: 1. On the **Manage CloudWatch alarms** page, do the following:
  165  
  166:    1. Choose **Create an alarm**\.
  167  
  168:    1. To receive an email when the alarm is triggered, for **Alarm notification**, choose an existing Amazon SNS topic\. You first need to create an Amazon SNS topic using the Amazon SNS console\. For more information, see [Using Amazon SNS for application\-to\-person \(A2P\) messaging](https://docs.aws.amazon.com/sns/latest/dg/sns-user-notifications.html) in the *Amazon Simple Notification Service Developer Guide*\.
  169: **Note**  
  170  Users must subscribe to the specified SNS topic to receive email notifications when the alarm is triggered\. The AWS account root user always receives email notifications when automatic instance recovery actions occur, even if an SNS topic is not specified or the root user is not subscribed to the specified SNS topic\.
  171  
  172:    1. Toggle on **Alarm action**, and choose **Recover**\.
  173  
  174:    1. For **Group samples by** and **Type of data to sample**, choose a statistic and a metric\. In this example, choose **Average** and **Status check failed: system**\.
  175  
  176:    1. For **Consecutive period** and **Period**, specify the evaluation period for the alarm\. In this example, enter **2** consecutive periods of **5 Minutes**\.
  177  
  178:    1. Amazon CloudWatch automatically creates an alarm name for you\. To change the name, for **Alarm name**, enter a new name\. Alarm names must contain only ASCII characters\.
  179  
  180:    1. Choose **Create**\.
  181  

  185  
  186: **To view the history of triggered alarms and actions \(CloudWatch console\)**
  187  

  189  
  190: 1. In the navigation pane, choose **Alarms**\.
  191  

  193  
  194: 1. The **Details** tab shows the most recent state transition along with the time and metric values\.
  195  
  196: 1. Choose the **History** tab to view the most recent history entries\.
  197  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/usingsharedamis-finding.md:
    6  
    7: **Topics**
    8  + [Find a shared AMI \(console\)](#usingsharedamis-finding-console)

   13  
   14: **To find a shared private AMI using the console**
   15  

   17  
   18: 1. In the navigation pane, choose **AMIs**\. 
   19  
   20: 1. In the first filter, choose **Private images**\. All AMIs that have been shared with you are listed\. To granulate your search, choose the **Search** bar and use the filter options provided in the menu\.
   21  
   22: **To find a shared public AMI using the console**
   23  

   25  
   26: 1. In the navigation pane, choose **AMIs**\.
   27  
   28: 1. In the first filter, choose **Public images**\. To granulate your search, choose the **Search** field and use the filter options provided in the menu\.
   29  
   30: **To find Amazon's shared public AMIs using the console**
   31  

   33  
   34: 1. In the navigation pane, choose **AMIs**\.
   35  
   36: 1. In the first filter, choose **Public images**\.
   37  
   38: 1. Choose the **Search** field and then, from the menu options that appear, choose **Owner alias**, then **=**, and then **amazon** to display only Amazon's public images\.
   39  
   40: **To find a shared public AMI from a verified provider using the console**
   41  

   43  
   44: 1. In the navigation pane, choose **AMI Catalog**\.
   45  
   46: 1. Choose **Community AMIs**\.
   47  
   48: 1. The **Verified provider** label indicates the AMIs that are from Amazon or a verified partner\.
   49  

   53  
   54: **Example: List all public AMIs**  
   55  The following command lists all public AMIs, including any public AMIs that you own\.

   60  
   61: **Example: List AMIs with explicit launch permissions**  
   62  The following command lists the AMIs for which you have explicit launch permissions\. This list does not include any AMIs that you own\.

   67  
   68: **Example: List AMIs owned by verified providers**  
   69  The following command lists the AMIs owned by verified providers\. Public AMIs owned by verified providers \(either Amazon or verified partners\) have an aliased owner, which appears as `amazon` or `aws-marketplace` in the account field\. This helps you to easily find AMIs from verified providers\. Other users can't alias their AMIs\.

   74  
   75: **Example: List AMIs owned by an account**  
   76  The following command lists the AMIs owned by the specified AWS account\.

   81  
   82: **Example: Scope AMIs using a filter**  
   83  To reduce the number of displayed AMIs, use a filter to list only the types of AMIs that interest you\. For example, use the following filter to display only EBS\-backed AMIs\.

   92  
   93: **Example: List all public AMIs**  
   94  The following command lists all public AMIs, including any public AMIs that you own\.

   99  
  100: **Example: List AMIs with explicit launch permissions**  
  101  The following command lists the AMIs for which you have explicit launch permissions\. This list does not include any AMIs that you own\.

  106  
  107: **Example: List AMIs owned by verified providers**  
  108  The following command lists the AMIs owned by verified providers\. Public AMIs owned by verified providers \(either Amazon or verified partners\) have an aliased owner, which appears as `amazon` or `aws-marketplace` in the account field\. This helps you to easily find AMIs from verified providers\. Other users can't alias their AMIs\.

  116  
  117: **Example: List AMIs owned by an account**  
  118  The following command lists the AMIs owned by the specified AWS account\.

  123  
  124: **Example: Scope AMIs using a filter**  
  125  To reduce the number of displayed AMIs, use a filter to list only the types of AMIs that interest you\. For example, use the following filter to display only EBS\-backed AMIs\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/verify-rsa2048.md:
   4  
   5: **Prerequisites**  
   6  This procedure requires the `System.Security` Microsoft \.NET Core class\. To add the class to your PowerShell session, run the following command\.

  11  
  12: **Note**  
  13  The command adds the class to the current PowerShell session only\. If you start a new session, you must run the command again\.
  14  
  15: **To verify the instance identity document using the RSA\-2048 signature and the AWS RSA\-2048 public certificate**
  16  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/verify-signature.md:
  4  
  5: **To validate the instance identity document using the base64\-encoded signature and the AWS RSA public certificate**
  6  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/view-cpu-options.md:
   7  
   8: **To view the CPU options for an instance using the console**
   9  

  11  
  12: 1. In the left navigation pane, choose **Instances** and select the instance\.
  13  
  14: 1. On the **Details** tab, under **Host and placement group**, find **Number of vCPUs**\.
  15  

  18  
  19: **To view the CPU options for an instance \(AWS CLI\)**  
  20  Use the [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) command\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/view-modify-delete.md:
    4  
    5: **Topics**
    6  + [View lifecycle policies](#view)

   16  
   17: **To view a lifecycle policy**
   18  

   20  
   21: 1. In the navigation pane, choose **Elastic Block Store**, **Lifecycle Manager**\.
   22  
   23: 1. Select a lifecycle policy from the list\. The **Details** tab displays information about the policy\.
   24  

   86  
   87: **Considerations for modifying policies**
   88  + If you modify an AMI or snapshot policy by removing its target tags, the volumes or instances with those tags are no longer managed by the policy\.

  107  
  108: **To modify a lifecycle policy**
  109  

  111  
  112: 1. In the navigation pane, choose **Elastic Block Store**, **Lifecycle Manager**\.
  113  

  115  
  116: 1. Choose **Actions**, **Modify Lifecycle Policy**\.
  117  

  119  
  120: 1. Choose **Update policy**\.
  121  

  177  
  178: **Considerations for modifying policies**
  179  + If you delete a policy, the snapshots or AMIs created by that policy are not automatically deleted\. If you no longer need the snapshots or AMIs, you must delete them manually\.

  187  
  188: **To delete a lifecycle policy**
  189  

  191  
  192: 1. In the navigation pane, choose **Elastic Block Store**, **Lifecycle Manager**\.
  193  

  195  
  196: 1. Choose **Actions**, **Delete Lifecycle Policy**\.
  197  
  198: 1. When prompted for confirmation, choose **Delete Lifecycle Policy**\.
  199  

  204  
  205: **Note**  
  206  You can delete snapshots created only by Amazon Data Lifecycle Manager\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/volume_constraints.md:
  6  
  7: **Topics**
  8  + [Storage capacity](#ebs-storage-capacity)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/vpc-migrate.md:
    9  
   10: **Topics**
   11  + [Migrate your resources to a VPC](#full-migrate)

   18  
   19: **Prerequisites**  
   20  Before you begin, you must have a VPC\. If you don't have a default VPC, you can create a nondefault VPC\. For more information, see [Create a VPC](https://docs.aws.amazon.com/vpc/latest/userguide/working-with-vpcs.html#Create-VPC)\.
   21  
   22: **Topics**
   23  + [Security groups](#vpc-migrate-security-group)

   34  
   35: **Prerequisites**  
   36  Before you begin copying your security groups, you should check for rules in which your EC2\-Classic security groups reference another security group in EC2\-Classic\. You should remove these rules as they can't be copied into a VPC\. For more information, see [Delete rules from a security group](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/working-with-security-groups.html#deleting-security-group-rule)\.
   37  
   38: **To copy your security group rules to a new security group**
   39  

   41  
   42: 1. In the navigation pane, choose **Security Groups**\.
   43  
   44: 1. Select the security group that's associated with your EC2\-Classic instance, then choose **Actions**, and select **Copy to new security group**\.
   45: **Note**  
   46: To identify an EC2\-Classic security group, check the **VPC ID** column\. For each EC2\-Classic security group, the value in the column is blank or a `-` symbol\.
   47  
   48: 1. In the **Copy to new security group** dialog box, specify a name and description for your new security group\. Select your VPC from the **VPC** list\. 
   49  
   50: 1. Under **Inbound rules**, the fields are populated with the rules from your EC2\-Classic security group\. You can modify the rules as required\. Under **Outbound rules**, a rule that allows all outbound traffic has automatically been created for you\. For more information about modifying security group rules, see [Amazon EC2 security groups for Windows instances](ec2-security-groups.md)\.
   51: **Important**  
   52  You must remove any rules that reference a security group in EC2\-Classic, because you can't reference an EC2\-Classic security group from a VPC security group\. You can add similar rules after you copy the security group to your VPC\.
   53  
   54: 1. Choose **Create security group**\.
   55  

   61  
   62: ⟪ 261 characters skipped ⟫dresses.html) command to check whether your Elastic IP address is still moving, or has completed moving\. After the moved is complete, you can view the allocation ID for the Elastic IP address on the **Elastic IPs** page\. If the Elastic IP address is in a moving state for longer than 5 minutes, contact [AWS Support](https://aws.amazon.com/premiumsupport/)\.
   63  
   64: **To identify an Elastic IP address that is allocated for use in EC2\-Classic**  
   65: Open the Amazon EC2 console\. Choose **Elastic IPs** in the navigation pane and the select the check box for the Elastic IP address\. On the **Summary** page, check whether **Scope** is **EC2\-Classic** or **VPC**\.
   66  
   67: **To move an Elastic IP address using the Amazon EC2 console**
   68  

   70  
   71: 1. In the navigation pane, choose **Elastic IPs**\.
   72  
   73: 1. Select the Elastic IP address, and choose **Actions**, **Move to VPC scope**\.
   74  
   75: 1. In the confirmation dialog box, choose **Move Elastic IP**\.
   76  

   80  
   81: **Topics**
   82  + [Identify EC2\-Classic instances](#vpc-migrate-id-instances)

   91  
   92: **Amazon EC2 console**  
   93: Choose **Instances** in the navigation pane\. In the **VPC ID** column, the value for each EC2\-Classic instance is blank or a `-` symbol\. If the **VPC ID** column is not present, choose the gear icon and make the column visible\.
   94  
   95: **AWS CLI**  
   96  Use the following [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) AWS CLI command\. The `--query` parameter displays only instances where the value for `VpcId` is `null`\.

  105  
  106: **To create a Windows AMI**  
  107  For more information, see [Create a custom Windows AMI](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html)\.
  108  
  109: **To create a Linux AMI**  
  110: The method that you use to create your Linux AMI depends on the root device type of your instance, and the operating system platform on which your instance runs\. To find out the root device type of your instance, go to the **Instances** page, select your instance, and on the **Storage** tab, look at the information in the **Root device type** field\. If the value is `ebs`, then your instance is EBS\-backed\. If the value is `instance-store`, then your instance is instance store\-backed\. You can also use the [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) AWS CLI command to find out the root device type\.
  111  

  113  
  114: **Important**  
  115  Some instance types support both PV and HVM virtualization, while others support only one or the other\. If you plan to use your AMI to launch a different instance type than your current instance type, verify that the instance type supports the type of virtualization that your AMI offers\. If your AMI supports PV virtualization, and you want to use an instance type that supports HVM virtualization, you might have to reinstall your software on a base HVM AMI\. For more information about PV and HVM virtualization, see [Linux AMI virtualization types](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/virtualization_types.html)\.

  144  
  145: **Note**  
  146  You can use this opportunity to [upgrade to a current generation instance type](https://aws.amazon.com/ec2/previous-generation/#Upgrade_Paths)\.

  150  
  151: **To launch an instance into your VPC**
  152  

  154  
  155: 1. Under **Application and OS Images \(Amazon Machine Image\)**, choose **My AMIs**, ensure that** Owned by me** is selected, and select the AMI that you created\. Alternatively, if you shared an AMI from another account, choose **Shared with me**, and select the AMI that you shared from your EC2\-Classic account\.
  156  
  157: 1. Under **Network settings**, choose **Edit** \(on the right\), and do the following:
  158  
  159:    1. For **VPC**, select your VPC\.
  160  
  161:    1. For **Subnet**, select the required subnet\.
  162  
  163:    1. For **Security group name**, select the security group that you created for your VPC\.
  164  

  166  
  167: 1. In the **Summary** panel, review your instance configuration, and then choose **Launch instance**\.
  168  

  171  
  172: **To launch an instance into your VPC**
  173  

  175  
  176: 1. On the dashboard, choose **Launch instance**\. 
  177  
  178: 1. On the **Choose an Amazon Machine Image** page, select the **My AMIs** category, and select the AMI you created\. Alternatively, if you shared an AMI from another account, in the **Ownership** filter list, choose **Shared with me**\. Select the AMI that you shared from your EC2\-Classic account\. 
  179  
  180: 1. On the **Choose an Instance Type** page, select the type of instance, and choose **Next: Configure Instance Details**\.
  181  
  182: 1. On the **Configure Instance Details** page, select your VPC from the **Network** list\. Select the required subnet from the **Subnet** list\. Configure any other details that you require, then go through the next pages of the wizard until you reach the **Configure Security Group** page\.
  183  
  184: 1. Select **Select an existing group**, and select the security group that you created for your VPC\. Choose **Review and Launch**\.
  185  
  186: 1. Review your instance details, then choose **Launch** to specify a key pair and launch your instance\.
  187  

  214  To migrate your web application to a VPC, you can follow these steps:
  215: + **Create a VPC**: For more information, see [Create a VPC](https://docs.aws.amazon.com/vpc/latest/userguide/working-with-vpcs.html#Create-VPC) in the *Amazon VPC User Guide*\. For information about VPC architecture scenarios, see [Scenarios](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-scenarios-intro.html) in the *Amazon VPC User Guide*\. 
  216: + **Configure your security groups**: In your EC2\-Classic environment, you have one security group for your web servers, and another security group for your database server\. You can use the Amazon EC2 console to copy the rules from each security group into new security groups for your VPC\. For more information, see [Security groups](#vpc-migrate-security-group)\. 
  217: **Tip**  
  218  Create the security groups that are referenced by other security groups first\.
  219: + **Create AMIs and launch new instances**: Create an AMI from one of your web servers, and a second AMI from your database server\. Then, launch replacement web servers into your public subnet, and launch your replacement database server into your private subnet\. For more information, see [Create an AMI](#vpc-migrate-create-ami)\.
  220: + **Configure your NAT device**: If you are using a NAT instance, you must create a security group for it that allows HTTP and HTTPS traffic from your private subnet\. For more information, see [NAT instances](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_NAT_Instance.html)\. If you are using a NAT gateway, traffic from your private subnet is automatically allowed\.
  221: + **Configure your database**: When you created an AMI from your database server in EC2\-Classic, all of the configuration information that was stored in that instance was copied to the AMI\. You might have to connect to your new database server and update the configuration details\. For example, if you configured your database to grant full read, write, and modification permissions to your web servers in EC2\-Classic, you need to update the configuration files to grant the same permissions to your new VPC web servers instead\. 
  222: + **Configure your web servers**: Your web servers will have the same configuration settings as your instances in EC2\-Classic\. For example, if you configured your web servers to use the database in EC2\-Classic, update your web servers' configuration settings to point to your new database instance\.
  223: **Note**  
  224  By default, instances launched into a nondefault subnet are not assigned a public IP address, unless you specify otherwise at launch\. Your new database server might not have a public IP address\. In this case, you can update your web servers' configuration file to use your new database server's private DNS name\. Instances in the same VPC can communicate with each other via private IP address\.
  225: + **Migrate your Elastic IP addresses**: Disassociate your Elastic IP addresses from your web servers in EC2\-Classic, and then migrate them to a VPC\. After you've migrated them, you can associate them with your new web servers in your VPC\. For more information, see [Elastic IP addresses](#vpc-migrate-eip)\.
  226: + **Create a new load balancer**: To continue using Elastic Load Balancing to load balance the traffic to your instances, make sure you understand the various ways to configure your load balancer in VPC\. For more information, see the [Elastic Load Balancing User Guide](https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/)\.
  227: + **Update your DNS records**: After you've set up your load balancer in your public subnet, verify that your `www.garden.example.com` domain points to your new load balancer\. To do this, update your DNS records and your alias record set in Route 53\. For more information about using Route 53, see [Getting Started with Route 53](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/getting-started.html)\.
  228: + **Shut down your EC2\-Classic resources**: After you've verified that your web application is working from within the VPC architecture, you can shut down your EC2\-Classic resources to stop incurring charges for them\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/win-ami-config-fast-launch.md:
    6  
    7: **Note**  
    8  Any account that has access to an AMI with faster launching enabled can benefit from reduced launch times\. However, it is the AMI owner's account that provides the snapshots that are consumed for the launch\.
    9  
   10: **Key terms**
   11: + **Pre\-provisioned snapshot** – A snapshot of an instance that was launched from a Windows AMI with faster launching enabled, and that has completed the following Windows launch steps, rebooting as required\. Amazon EC2 creates these snapshots automatically, based on your configuration\.
   12    + Sysprep specialize

   15    When these steps are complete, Amazon EC2 stops the instance, and creates a snapshot that is later used for faster launching from the AMI\.
   16: + **Launch frequency** – Controls the number of pre\-provisioned snapshots that Amazon EC2 can launch within the specified timeframe\. When you enable faster launching for your AMI, Amazon EC2 creates the initial set of pre\-provisioned snapshots in the background\. For example, if the launch frequency is set to five launches per hour, which is the default, then Amazon EC2 creates an initial set of five pre\-provisioned snapshots\.
   17  

   22    When you experience a higher number of launches than anticipated, you might use up all the faster launching snapshots that you have available\. This does not cause any launches to fail\. However, it can result in some instances going through the standard launch process, until snapshots can be replenished\.
   23: + **Target resource count** – The number of pre\-provisioned snapshots to keep on hand for an AMI with faster launching enabled\.
   24: + **Max parallel launches** – Controls how many instances can be launched at a time for creating the pre\-provisioned snapshots\. If your target resource count is higher than the maximum number of parallel launches you've configured, Amazon EC2 will initially launch the number of instances specified by the **Max parallel launches** setting for creating the snapshots\. As those instances complete the process and Amazon EC2 takes the snapshot and stops the instance, more instances are launched until the total number of snapshots available has reached the target resource count\. This value must be 6 or greater\.
   25  
   26: **Resource costs**  
   27  There is no service charge to configure Windows AMIs for faster launching\. However, standard pricing applies for underlying AWS resources that are used to prepare and store the pre\-provisioned snapshots\. The following example demonstrates how associated costs are allocated\.
   28  
   29: **Example scenario:** The AtoZ Example company has a Windows AMI with a 50 GiB EBS root volume\. They enable faster launching for their AMI, and set the target resource count to five\. Over the course of a month, using Windows faster launching for their AMI costs them around $5\.00, and the cost breakdown is as follows:
   30  

   32  
   33: **Costs**
   34     + Instance runtime costs \(or minimum runtime, if applicable\): five instances

   38  
   39: **Costs**
   40     + Snapshot storage \(Amazon S3\): five snapshots

   43  
   44: **Costs**
   45     + EBS volumes: costs continue for the associated EBS root volumes\.
   46  
   47: **Note**  
   48  The costs shown here are for demonstration purposes only\. Your costs will vary, depending on your AMI configuration and pricing plan\.
   49  
   50: **Track faster launching costs on your bill**  
   51  Cost allocation tags can help you organize your AWS bill to reflect the costs associated with faster launching for EC2 Windows instances\. You can use the following tag that Amazon EC2 adds to the resources it creates when it prepares and stores pre\-provisioned snapshots for faster launching:
   52  
   53: **Tag key:** `CreatedBy`, **Value:** `EC2 Fast Launch`
   54  

   56  
   57: **Step 1: Activate user\-defined cost allocation tags**  
   58  To include resource tags in your cost reports, you must first activate the tag in the Billing and Cost Management console\. For more information, see [Activating User\-Defined Cost Allocation Tags](https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/activating-tags.html) in the *AWS Billing and Cost Management User Guide*\.
   59  
   60: **Note**  
   61  Activation can take up to 24 hours\.
   62  
   63: **Step 2: Set up a cost report**  
   64  If you already have a cost report set up, a column for your tag appears the next time the report runs after activation is complete\. To set up cost reports for the first time, choose one of the following\.

   67  
   68: **Note**  
   69  It can take up to 24 hours for AWS to start delivering reports to your S3 bucket\.

   72  
   73: **Topics**
   74  + [Prerequisites](#win-start-fast-launch-prereqs)

   85  + If you don't use a launch template to configure your settings, ensure that a default VPC is configured for the Region in which you use faster launching for EC2 Windows instances\. You cannot have EC2 Classic enabled in the Region, even if you have a default VPC configured\. For more information about EC2 Classic, see [EC2\-Classic Networking is Retiring \- Here's How to Prepare](http://aws.amazon.com/blogs/aws/ec2-classic-is-retiring-heres-how-to-prepare/)\.
   86: **Note**  
   87  If you accidentally delete your default VPC in the Region where you plan to configure faster launching for EC2 Windows instances, you can create a new default VPC in that Region\. To learn more, see [Create a default VPC](https://docs.aws.amazon.com/vpc/latest/userguide/default-vpc.html#create-default-vpc) in the *Amazon VPC User Guide*\.

  102  
  103: **Step 1: Create a launch template**  
  104  Create a launch template that specifies the VPC for your Windows instances from the AWS Management Console or from the AWS CLI\. For more information, see [Create a launch template](create-launch-template.md)\.
  105  
  106: **Step 2: Specify the launch template for your faster launching AMI**  
  107  

  111  
  112:   1. In the navigation pane, under **Images**, choose **AMIs**\.
  113  
  114:   1. Choose the AMI to update by selecting the check box next to the **Name**\.
  115  
  116:   1. From the **Actions** menu above the list of AMIs, choose **Manage image optimization**\. This opens the **Manage image optimization** page, where you configure the settings for faster launching\.
  117  
  118:   1. The **Launch template** box performs a filtered search that finds launch templates in your account in the current Region that match the text you've entered\. Specify all or part of the launch template name or ID in the box to show a list of matching launch templates\. For example, if you enter `fast` in the box, Amazon EC2 finds all of the launch templates in your account in the current Region that have "fast" in the name\.
  119  
  120:      To create a new launch template, you can choose **Create launch template**\.
  121  
  122:   1. When you select a launch template, Amazon EC2 shows the default version for that template in the **Source template version** box\. To specify a different version, highlight the default version to replace it, and enter the version number you want in the box\.
  123  
  124:   1. When you're done making changes, choose **Save changes**\.
  125  + Specify the launch template name or ID in the `--launch-template` parameter when you run the [enable\-fast\-launch](https://docs.aws.amazon.com/cli/latest/reference/ec2/enable-fast-launch.html) command in the AWS CLI\.

  133  
  134: **Note**  
  135  Before changing these settings, make sure that your AMI, and the Region that you run in meet all [Prerequisites](#win-start-fast-launch-prereqs)\.

  141  
  142: 1. In the navigation pane, under **Images**, choose **AMIs**\.
  143  
  144: 1. Choose the AMI to update by selecting the check box next to the **Name**\.
  145  
  146: 1. From the **Actions** menu above the list of AMIs, choose **Manage image optimization**\. This opens the **Manage image optimization** page, where you configure the settings for faster launching\.
  147  
  148: 1. To start using pre\-provisioned snapshots to launch instances from your Windows AMI faster, select the **Enable Windows faster launching** check box\.
  149  
  150: 1. From the **Set anticipated launch frequency** drop\-down list, choose a value to specify the number of snapshots that are created and maintained to cover your expected instance launch volume\.
  151  
  152: 1. When you're done making changes, choose **Save changes**\.
  153  
  154: **Note**  
  155  If you need to use a launch template to specify a non\-default VPC, or to configure metadata settings for IMDSv2, see [Use a launch template when you set up faster launching](#win-fast-launch-with-template)\.

  161  
  162: **Syntax:**
  163  

  175  
  176: **Example:**  
  177  The following [enable\-fast\-launch](https://docs.aws.amazon.com/cli/latest/reference/ec2/enable-fast-launch.html) example starts faster launching for the specified AMI, launching six parallel instances for pre\-provisioning\. The `ResourceType` is set to `snapshot`, which is the default value\.

  185  
  186: **Output:**
  187  

  208  
  209: **Syntax:**
  210  

  224  
  225: **Example:**  
  226  The following [Enable\-EC2FastLaunch](https://docs.aws.amazon.com/powershell/latest/reference/items/Enable-EC2FastLaunch.html) example starts faster launching for the specified AMI, launching six parallel instances for pre\-provisioning\. The `ResourceType` is set to `snapshot`, which is the default value\.

  235  
  236: **Output:**
  237  

  255  
  256: **Note**  
  257  Before changing these settings, make sure that your AMI, and the Region that you run in meet all [Prerequisites](#win-start-fast-launch-prereqs)\.

  263  
  264: 1. In the navigation pane, under **Images**, choose **AMIs**\.
  265  
  266: 1. Choose the AMI to update by selecting the check box next to the **Name**\.
  267  
  268: 1. From the **Actions** menu above the list of AMIs, choose **Manage image optimization**\. This opens the **Manage image optimization** page, where you configure the settings for faster launching\.
  269  
  270: 1. Clear the **Enable Windows faster launching** check box to stop faster launching for EC2 Windows instances and to remove pre\-provisioned snapshots\. This results in the AMI using the standard launch process for each instance, going forward\.
  271: **Note**  
  272  When you stop Windows image optimization, any existing pre\-provisioned snapshots are automatically deleted\. This step must be completed before you can start using the feature again\.
  273  
  274: 1. When you're done making changes, choose **Save changes**\.
  275  

  280  
  281: **Syntax:**
  282  

  291  
  292: **Example:**  
  293  The following [disable\-fast\-launch](https://docs.aws.amazon.com/cli/latest/reference/ec2/disable-fast-launch.html) example stops faster launching on the specified AMI, and cleans up existing pre\-provisioned snapshots\.

  299  
  300: **Output:**
  301  

  324  
  325: **Syntax:**
  326  

  335  
  336: **Example:**  
  337  The following [Disable\-EC2FastLaunch](https://docs.aws.amazon.com/powershell/latest/reference/items/Disable-EC2FastLaunch.html) example stops faster launching on the specified AMI, and cleans up existing pre\-provisioned snapshots\.

  342  
  343: **Output:**
  344  

  370  + The current state of faster launching for the specified Windows AMI\. Supported values include: `enabling | enabling-failed | enabled | enabled-failed | disabling | disabling-failed`\.
  371: **Note**  
  372: You can also see the current state displayed in the **Manage image optimization** page in the EC2 console, as **Image optimization state**\.
  373  + The reason that faster launching for the Windows AMI changed to the current state\.

  382  
  383: **Syntax:**
  384  

  396  
  397: **Example:**  
  398  The following [describe\-fast\-launch\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-fast-launch-images.html) example describes the details for each of the AMIs in the account that are configured for faster launching\. In this example, only one AMI in the account is configured for faster launching\.

  403  
  404: **Output:**
  405  

  432  
  433: **Syntax:**
  434  

  444  
  445: **Example:**  
  446  The following [Get\-EC2FastLaunchImage](https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2FastLaunchImage.html) example describes the details for each of the AMIs in the account that are configured for faster launching\. In this example, only one AMI in the account is configured for faster launching\.

  451  
  452: **Output:**
  453  

  478  
  479: **State change events**  
  480  The Windows faster launching feature emits JSON formatted state change events on a best\-effort basis\. Amazon EC2 sends the events to EventBridge in near real time\. This section describes the event fields and shows an example of the event format\.
  481  
  482: **`EC2 Fast Launch State-change Notification`**
  483  
  484: **imageId**  
  485  Identifies the AMI with the Windows faster launching feature state change\.
  486  
  487: **resourceType**  
  488  The type of resource to use for pre\-provisioning\. Supported value: `snapshot`\. The default value is `snapshot`\.
  489  
  490: **state**  
  491  The current state of the Windows faster launching feature for the specified AMI\. Valid values include the following:  
  492: + **enabling** – You've enabled the Windows faster launching feature for the AMI, and Amazon EC2 has started creating snapshots for the pre\-provisioning process\.
  493: + **enabling\-failed** – Something went wrong that caused the pre\-provisioning process to fail the first time that you enabled the Windows faster launching feature for an AMI\. This can happen anytime during the pre\-provisioning process\.
  494: + **enabled** – The Windows faster launching feature is enabled\. The state changes to `enabled` as soon as Amazon EC2 creates the first pre\-provisioned snapshot for a newly enabled faster launching Windows AMI\. If the AMI was already enabled and goes through pre\-provisioning again, the state change happens right away\.
  495: + **enabled\-failed** – This state applies only if this is not the first time your faster launching AMI goes through the pre\-provisioning process\. This can happen if the Windows faster launching feature is disabled and then later enabled again, or if there is a configuration change or other error after pre\-provisioning is completed for the first time\.
  496: + **disabling** – The AMI owner has turned off the Windows faster launching feature for the AMI, and Amazon EC2 has started the clean up process\.
  497: + **disabled** – The Windows faster launching feature is disabled\. The state changes to `disabled` as soon as Amazon EC2 completes the clean up process\.
  498: + **disabling\-failed** – Something went wrong that caused the clean up process to fail\. This means that some pre\-provisioned snapshots may still remain in the account\.
  499  
  500: **stateTransitionReason**  
  501  The reason that the Windows AMI state changed for faster launching\.
  502  
  503: **Note**  
  504  All fields in this event message are required\.

  536  
  537: **Note**  
  538  If the service\-linked role is deleted from your account, you can start faster launching for EC2 Windows instances for another Windows AMI to re\-create the role in your account\. Alternatively, you can stop faster launching for EC2 Windows instances for your current AMI, and then start it again\. However, stopping the feature results in your AMI using the standard launch process for all new instances while Amazon EC2 removes all of your pre\-provisioned snapshots\. After all of the pre\-provisioned snapshots are gone, you can start using faster launching for EC2 Windows instances for your AMI again\.

  571  
  572: **Prerequisite**
  573  + To enable Amazon EC2 to access an encrypted AMI on your behalf, you must have permission for the `createGrant` action in the customer managed key\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/Windows-Server-EC2Rescue.md:
  10  
  11: **Note**  
  12  If you are using a Linux instance, see [EC2Rescue for Linux](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Linux-Server-EC2Rescue.html)\.
  13  
  14: **Contents**
  15  + [Use EC2Rescue for Windows Server GUI](ec2rw-gui.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/windows-virtualization-based-security-features.md:
  4  
  5: **Topics**
  6  + [Credential Guard](credential-guard.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/work-with-cr-fleets.md:
    4  
    5: **Topics**
    6  + [Before you begin](#before-you-begin)

   45  
   46: **Note**  
   47: The **AWSServiceRoleForEC2CapacityReservationFleet** service\-linked role is automatically created in your account the first time that you create a Capacity Reservation Fleet\. For more information, see [Using Service\-Linked Roles for Capacity Reservation Fleet](using-service-linked-roles.md)\.
   48  

   52  
   53: **To create a Capacity Reservation Fleet**  
   54  Use the [ create\-capacity\-reservation\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-capacity-reservation-fleet.html) AWS CLI command\.

   90  
   91: **Example**
   92  

  134  
  135: **To view a Capacity Reservation Fleet**  
  136  Use the [ describe\-capacity\-reservation\-fleets](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-capacity-reservation-fleets.html) AWS CLI command\.

  189  
  190: **Example**
  191  

  241  
  242: **To modify a Capacity Reservation Fleet**  
  243  Use the [ modify\-capacity\-reservation\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-capacity-reservation-fleet.html) AWS CLI command\.
  244  
  245: **Note**  
  246  You can't specify `--end-date` and `--remove-end-date` in the same command\.

  263  
  264: **Example: Modify total target capacity**
  265  

  271  
  272: **Example: Modify end date**
  273  

  279  
  280: **Example: Remove end date**
  281  

  301  
  302: **To cancel a Capacity Reservation Fleet**  
  303  Use the [ cancel\-capacity\-reservation\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/cancel-capacity-reservation-fleet.html) AWS CLI command\.

  339  
  340: **Example: Successful cancellation**
  341  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/work-with-prefixes.md:
    2  
    3: **Topics**
    4  + [Assign prefixes during network interface creation](#create-net-interface-prefix)

   15  
   16: **Topics**
   17  + [Assign automatic prefixes during network interface creation](#assign-auto-creation)

   26  
   27: **To assign automatic prefixes during network interface creation**
   28  

   30  
   31: 1. In the navigation pane, choose **Network Interfaces** and then choose **Create network interface**\.
   32  

   34  
   35: 1. Expand **Advanced settings** and do the following:
   36  
   37:    1. To automatically assign an IPv4 prefix, for **IPv4 prefix delegation**, choose **Auto\-assign**\. Then for **Number of IPv4 prefixes**, specify the number of prefixes to assign\.
   38  
   39:    1. To automatically assign an IPv6 prefix, for **IPv6 prefix delegation**, choose **Auto\-assign**\. Then for **Number of IPv6 prefixes**, specify the number of prefixes to assign\.
   40: **Note**  
   41: **IPv6 prefix delegation** appears only if the selected subnet is enabled for IPv6\.
   42  

   44  
   45: 1. Choose **Create network interface**\.
   46  

   49  
   50: **To assign automatic IPv4 prefixes during network interface creation**  
   51  Use the [ create\-network\-interface](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-network-interface.html) command and set `--ipv4-prefix-count` to the number of prefixes that you want AWS to assign\. In the following example, AWS assigns `1` prefix\.

  100  
  101: **To assign automatic IPv6 prefixes during network interface creation**  
  102  Use the [ create\-network\-interface](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-network-interface.html) command and set `--ipv6-prefix-count` to the number of prefixes that you want AWS to assign\. In the following example, AWS assigns `1` prefix\.

  160  
  161: **To assign specific prefixes during network interface creation**
  162  

  164  
  165: 1. In the navigation pane, choose **Network Interfaces** and then choose **Create network interface**\.
  166  

  168  
  169: 1. Expand **Advanced settings** and do the following:
  170  
  171:    1. To assign a specific IPv4 prefix, for **IPv4 prefix delegation**, choose **Custom**\. Then choose **Add new prefix** and enter the prefix to use\.
  172  
  173:    1. To assign a specific IPv6 prefix, for **IPv6 prefix delegation**, choose **Custom**\. Then choose **Add new prefix** and enter the prefix to use\.
  174: **Note**  
  175: **IPv6 prefix delegation** appears only if the selected subnet is enabled for IPv6\.
  176  

  178  
  179: 1. Choose **Create network interface**\.
  180  

  183  
  184: **To assign specific IPv4 prefixes during network interface creation**  
  185  Use the [ create\-network\-interface](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-network-interface.html) command and set `--ipv4-prefixes` to the prefixes\. AWS selects IP addresses from this range\. In the following example, the prefix CIDR is `10.0.0.208/28`\.

  234  
  235: **To assign specific IPv6 prefixes during network interface creation**  
  236  Use the [ create\-network\-interface](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-network-interface.html) command and set `--ipv6-prefixes` to the prefixes\. AWS selects IP addresses from this range\. In the following example, the prefix CIDR is `2600:1f13:fc2:a700:1768::/80`\.

  298  
  299: **To assign automatic prefixes to an existing network interface**
  300  

  302  
  303: 1. In the navigation pane, choose **Network Interfaces**\.
  304  
  305: 1. Select the network interface to which to assign the prefixes, and choose **Actions**, **Manage prefixes**\.
  306  
  307: 1. To automatically assign an IPv4 prefix, for **IPv4 prefix delegation**, choose **Auto\-assign**\. Then for **Number of IPv4 prefixes**, specify the number of prefixes to assign\.
  308  
  309: 1. To automatically assign an IPv6 prefix, for **IPv6 prefix delegation**, choose **Auto\-assign**\. Then for **Number of IPv6 prefixes**, specify the number of prefixes to assign\.
  310: **Note**  
  311: **IPv6 prefix delegation** appears only if the selected subnet is enabled for IPv6\.
  312  
  313: 1. Choose **Save**\.
  314  

  319  
  320: **To assign automatic IPv4 prefixes to an existing network interface**  
  321  Use the [ assign\-private\-ip\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/assign-private-ip-addresses.html) command and set `--ipv4-prefix-count` to the number of prefixes that you want AWS to assign\. In the following example, AWS assigns `1` IPv4 prefix\.

  341  
  342: **To assign automatic IPv6 prefixes to an existing network interface**  
  343  Use the [ assign\-ipv6\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/assign-ipv6-addresses.html) command and set `--ipv6-prefix-count` to the number of prefixes that you want AWS to assign\. In the following example, AWS assigns `1` IPv6 prefix\.

  370  
  371: **To assign specific prefixes to an existing network interface**
  372  

  374  
  375: 1. In the navigation pane, choose **Network Interfaces**\.
  376  
  377: 1. Select the network interface to which to assign the prefixes, and choose **Actions**, **Manage prefixes**\.
  378  
  379: 1. To assign a specific IPv4 prefix, for **IPv4 prefix delegation**, choose **Custom**\. Then choose **Add new prefix** and enter the prefix to use\.
  380  
  381: 1. To assign a specific IPv6 prefix, for **IPv6 prefix delegation**, choose **Custom**\. Then choose **Add new prefix** and enter the prefix to use\.
  382: **Note**  
  383: **IPv6 prefix delegation** appears only if the selected subnet is enabled for IPv6\.
  384  
  385: 1. Choose **Save**\.
  386  

  389  
  390: **Assign specific IPv4 prefixes to an existing network interface**  
  391  Use the [ assign\-private\-ip\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/assign-private-ip-addresses.html) command and set `--ipv4-prefixes` to the prefix\. AWS selects IPv4 addresses from this range\. In the following example, the prefix CIDR is `10.0.0.208/28`\.

  411  
  412: **Assign specific IPv6 prefixes to an existing network interface**  
  413  Use the [ assign\-ipv6\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/assign-ipv6-addresses.html) command and set `--ipv6-prefixes` to the prefix\. AWS selects IPv6 addresses from this range\. In the following example, the prefix CIDR is `2600:1f13:fc2:a700:18bb::/80`\.

  448  
  449: **To view the automatic prefixes assigned to an existing network interface**
  450  

  452  
  453: 1. In the navigation pane, choose **Network Interfaces**\.
  454  
  455: 1. Select the network interface for which to view the prefixes and choose the **Details** tab\.
  456  
  457: 1. The **IPv4 Prefix Delegation** field lists the assigned IPv4 prefixes, and the **IPv6 Prefix Delegation** field lists the assigned IPv6 prefixes\.
  458  

  555  
  556: **To remove the prefixes from a network interface**
  557  

  559  
  560: 1. In the navigation pane, choose **Network Interfaces**\.
  561  
  562: 1. Select the network interface from which to remove the prefixes and choose **Actions**, **Manage prefixes**\.
  563  
  564  1. Do one of the following:
  565:    + To remove all assigned prefixes, for **IPv4 prefix delegation** and **IPv6 prefix delegation**, choose **Do not assign**\.
  566:    + To remove specific assigned prefixes, for **IPv4 prefix delegation** or **IPv6 prefix delegation**, choose **Custom** and then choose **Unassign ** next to the prefixes to remove\.
  567: **Note**  
  568: **IPv6 prefix delegation** appears only if the selected subnet is enabled for IPv6\.
  569  
  570: 1. Choose **Save**\.
  571  

  576  
  577: **To remove IPv4 prefixes from a network interface**  
  578  

  587  
  588: **To remove IPv6 prefixes from a network interface**  
  589  Use the [ unassign\-ipv6\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/unassign-ipv6-addresses.html) command and set `--ipv6-prefix` to the address that you want to remove\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/work-with-spot-fleets.md:
    10  
    11: **Topics**
    12  + [Spot Fleet request states](#spot-fleet-states)

    42  
    43: **Requirements**
    44  + Health check replacement is supported only for Spot Fleets that maintain a target capacity \(fleets of type `maintain`\), not for one\-time Spot Fleets \(fleets of type `request`\)\.

    51  
    52: **To configure a Spot Fleet to replace unhealthy Spot Instances using the console**
    53  

    55  
    56: 1. To configure the fleet to replace unhealthy Spot Instances, for **Health check**, choose **Replace unhealthy instances**\. To enable this option, you must first choose **Maintain target capacity**\.
    57  

    60  
    61: **To configure a Spot Fleet to replace unhealthy Spot Instances using the AWS CLI**
    62  

    76  
    77: **Topics**
    78  + [Grant permission to users for Spot Fleet](#spot-fleet-iam-users)

    86  
    87: **To create a policy for Spot Fleet**
    88  

    90  
    91: 1. In the navigation pane, choose **Policies**, **Create policy**\.
    92  
    93: 1. On the **Create policy** page, choose **JSON**, and replace the text with the following\.
    94  

   132  
   133:    **Required EC2 and IAM APIs**
   134  

   141     + `iam:ListInstanceProfiles` – Required to enumerate existing instance profiles
   142: **Important**  
   143  If you specify a role for the IAM instance profile in the launch specification or launch template, you must grant the user the permission to pass the role to the service\. To do this, in the IAM policy include `"arn:aws:iam::*:role/IamInstanceProfile-role"` as a resource for the `iam:PassRole` action\. For more information, see [Granting a user permissions to pass a role to an AWS service](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_passrole.html) in the *IAM User Guide*\.
   144  
   145:    **Spot Fleet APIs**
   146  

   154  
   155:    **Optional IAM APIs**
   156  

   164  
   165: 1. Choose **Review policy**\.
   166  
   167: 1. On the **Review policy** page, enter a policy name and description, and choose **Create policy**\.
   168  

   183  
   184: Amazon EC2 uses the service\-linked role named **AWSServiceRoleForEC2SpotFleet** to launch and manage instances on your behalf\.
   185  
   186: **Important**  
   187: If you specify an [encrypted AMI](AMIEncryption.md) or an [encrypted Amazon EBS snapshot](EBSEncryption.md) in your Spot Fleet, you must grant the **AWSServiceRoleForEC2SpotFleet** role permission to use the CMK so that Amazon EC2 can launch instances on your behalf\. For more information, see [Grant access to CMKs for use with encrypted AMIs and EBS snapshots](#spot-fleet-service-linked-roles-access-to-cmks)\.
   188  

   190  
   191: Amazon EC2 uses **AWSServiceRoleForEC2SpotFleet** to complete the following actions:
   192  + `ec2:RequestSpotInstances` \- Request Spot Instances

   203  
   204: Under most circumstances, you don't need to manually create a service\-linked role\. Amazon EC2 creates the **AWSServiceRoleForEC2SpotFleet** service\-linked role the first time you create a Spot Fleet using the console\. 
   205  
   206: If you had an active Spot Fleet request before October 2017, when Amazon EC2 began supporting this service\-linked role, Amazon EC2 created the **AWSServiceRoleForEC2SpotFleet** role in your AWS account\. For more information, see [A new role appeared in my AWS account](https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_roles.html#troubleshoot_roles_new-role-appeared) in the *IAM User Guide*\.
   207  

   209  
   210: **To create AWSServiceRoleForEC2SpotFleet using the console**
   211  

   213  
   214: 1. In the navigation pane, choose **Roles**\.
   215  
   216: 1. Choose **Create role**\.
   217  
   218: 1. For **Select type of trusted entity**, choose **AWS service**\.
   219  
   220: 1. Under **Choose a use case**, **Or select a service to view its use cases**, choose **EC2**\.
   221  
   222: 1. Under **Select your use case**, choose **EC2 \- Spot Fleet**\.
   223  
   224: 1. Choose **Next: Permissions**\.
   225  
   226: 1. On the next page, choose **Next: Tags**\.
   227  
   228: 1. On the next page, choose **Next: Review**\.
   229  
   230: 1. On the **Review** page, choose **Create role**\.
   231  
   232: **To create AWSServiceRoleForEC2SpotFleet using the AWS CLI**  
   233  Use the [create\-service\-linked\-role](https://docs.aws.amazon.com/cli/latest/reference/iam/create-service-linked-role.html) command as follows\.

   238  
   239: If you no longer need to use Spot Fleet, we recommend that you delete the **AWSServiceRoleForEC2SpotFleet** role\. After this role is deleted from your account, Amazon EC2 will create the role again if you request a Spot Fleet using the console\. For more information, see [Deleting a Service\-Linked Role](https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role) in the *IAM User Guide*\.
   240  

   242  
   243: If you specify an [encrypted AMI](AMIEncryption.md) or an [encrypted Amazon EBS snapshot](EBSEncryption.md) in your Spot Fleet request and you use a customer managed customer master key \(CMK\) for encryption, you must grant the **AWSServiceRoleForEC2SpotFleet** role permission to use the CMK so that Amazon EC2 can launch instances on your behalf\. To do this, you must add a grant to the CMK, as shown in the following procedure\.
   244  

   246  
   247: **To grant the AWSServiceRoleForEC2SpotFleet role permissions to use the CMK**
   248: + Use the [create\-grant](https://docs.aws.amazon.com/cli/latest/reference/kms/create-grant.html) command to add a grant to the CMK and to specify the principal \(the **AWSServiceRoleForEC2SpotFleet** service\-linked role\) that is given permission to perform the operations that the grant permits\. The CMK is specified by the `key-id` parameter and the ARN of the CMK\. The principal is specified by the `grantee-principal` parameter and the ARN of the **AWSServiceRoleForEC2SpotFleet** service\-linked role\.
   249  

   259  
   260: Amazon EC2 uses the service\-linked role named **AWSServiceRoleForEC2Spot** to launch and manage Spot Instances on your behalf\. For more information, see [Service\-linked role for Spot Instance requests](spot-requests.md#service-linked-roles-spot-instance-requests)\.
   261  

   265  
   266: **Important**  
   267  If you choose to tag instances in the fleet and you also choose to maintain target capacity \(the Spot Fleet request is of type `maintain`\), the differences in the permissions that are set for the user and the `IamFleetRole` might lead to inconsistent tagging behavior of instances in the fleet\. If the `IamFleetRole` does not include the `CreateTags` permission, some of the instances launched by the fleet might not be tagged\. While we are working to fix this inconsistency, to ensure that all instances launched by the fleet are tagged, we recommend that you use the `aws-ec2-spot-fleet-tagging-role` role for the `IamFleetRole`\. Alternatively, to use an existing role, attach the `AmazonEC2SpotFleetTaggingRole` AWS Managed Policy to the existing role\. Otherwise, you need to manually add the `CreateTags` permission to your existing policy\.
   268  
   269: **To create the IAM role for tagging a Spot Fleet**
   270  

   272  
   273: 1. In the navigation pane, choose **Roles**\.
   274  
   275: 1. Choose **Create role**\.
   276  
   277: 1. On the **Select trusted entity** page, under **Trusted entity type**, choose **AWS service**\.
   278  
   279: 1. Under **Use case**, from **Use cases for other AWS services**, choose **EC2**, and then choose **EC2 \- Spot Fleet Tagging**\.
   280  
   281: 1. Choose **Next**\.
   282  
   283: 1. On the **Add permissions** page, choose **Next**\.
   284  
   285: 1. On the **Name, review, and create** page, for **Role name**, enter a name for the role \(for example, **aws\-ec2\-spot\-fleet\-tagging\-role**\)\.
   286  
   287: 1. Review the information on the page, and then choose **Create role**\.
   288  

   292  
   293: **To add the aws:SourceArn and aws:SourceAccount condition keys to the `aws-ec2-spot-fleet-tagging-role` trust policy**
   294  

   296  
   297: 1. In the navigation pane, choose **Roles**\.
   298  

   300  
   301: 1. Under **Summary**, choose the **Trust relationships** tab, and then choose **Edit trust policy**\.
   302  

   313     ```
   314: **Note**  
   315  If the `aws:SourceArn` value contains the account ID and you use both global condition context keys, the `aws:SourceAccount` value and the account in the `aws:SourceArn` value must use the same account ID when used in the same policy statement\.

   340  
   341: 1. Choose **Update policy**\.
   342  

   345  
   346: ****  
   347  

   357  
   358: **Topics**
   359  + [Quickly create a Spot Fleet request \(console\)](#create-spot-fleet-quick)

   366  
   367: **To create a Spot Fleet request using the recommended settings \(console\)**
   368  

   370  
   371: 1. If you are new to Spot, you see a welcome page; choose **Get started**\. Otherwise, choose **Request Spot Instances**\.
   372  
   373: 1. Under **Launch parameters**, choose **Manually configure launch parameters**\.
   374  
   375: 1. For **AMI**, choose an AMI\.
   376  
   377: 1. Under **Target capacity**, for **Total target capacity**, specify the number of units to request\. For the type of unit, you can choose **Instances**, **vCPUs**, or **Memory \(MiB\)**\.
   378  
   379: 1. For **Your fleet request at a glance**, review your fleet configuration, and choose **Launch**\.
   380  

   384  
   385: **To create a Spot Fleet request using defined parameters \(console\)**
   386  

   388  
   389: 1. If you are new to Spot, you see a welcome page; choose **Get started**\. Otherwise, choose **Request Spot Instances**\.
   390  
   391: 1. For **Launch parameters**, do the following:
   392  
   393:    1. To define the launch parameters in the Spot console, choose **Manually configure launch parameters**\.
   394  
   395:    1. For **AMI**, choose one of the basic AMIs provided by AWS, or choose **Search for AMI** to use an AMI from our user community, the AWS Marketplace, or one of your own\.
   396  
   397:    1. \(Optional\) For **Key pair name**, choose an existing key pair or create a new one\.
   398  

   400  
   401:       \[New key pair\] Choose **Create new key pair** to go the **Key Pairs** page\. When you are done, return to the **Spot Requests** page and refresh the list\.
   402  
   403:    1. \(Optional\) Expand **Additional launch parameters**, and do the following:
   404  
   405:       1. \(Optional\) To enable Amazon EBS optimization, for **EBS\-optimized**, select **Launch EBS\-optimized instances**\.
   406  
   407:       1. \(Optional\) To add temporary block\-level storage for your instances, for **Instance store**, choose **Attach at launch**\.
   408  
   409:       1. \(Optional\) To add storage, choose **Add new volume**, and specify additional instance store volumes or Amazon EBS volumes, depending on the instance type\.
   410  
   411:       1. \(Optional\) By default, basic monitoring is enabled for your instances\. To enable detailed monitoring, for **Monitoring**, select **Enable CloudWatch detailed monitoring**\.
   412  
   413:       1. \(Optional\) To run a Dedicated Spot Instance, for **Tenancy**, choose **Dedicated \- run a dedicated instance**\.
   414  
   415:       1. \(Optional\) For **Security groups**, choose one or more security groups or create a new one\.
   416  

   418  
   419:          \[New security group\] Choose **Create new security group** to go the **Security Groups** page\. When you are done, return to the **Spot Requests** and refresh the list\.
   420  
   421:       1. \(Optional\) To make your instances reachable from the internet, for **Auto\-assign IPv4 Public IP**, choose **Enable**\.
   422  
   423:       1. \(Optional\) To launch your Spot Instances with an IAM role, for **IAM instance profile**, choose the role\.
   424  
   425:       1. \(Optional\) To run a start\-up script, copy it to **User data**\.
   426  
   427:       1. \(Optional\) To add a tag, choose **Create tag** and enter the key and value for the tag, and choose **Create**\. Repeat for each tag\.
   428  
   429:          For each tag, to tag the instances and the Spot Fleet request with the same tag, ensure that both **Instances** and **Fleet** are selected\. To tag only the instances launched by the fleet, clear **Fleet**\. To tag only the Spot Fleet request, clear **Instances**\.
   430  
   431: 1. For **Additional request details**, do the following:
   432  
   433:    1. Review the additional request details\. To make changes, clear **Apply defaults**\.
   434  
   435:    1. \(Optional\) For **IAM fleet role**, you can use the default role or choose a different role\. To use the default role after changing the role, choose **Use default role**\.
   436  
   437:    1. \(Optional\) For **Maximum price**, you can use the default maximum price \(the On\-Demand price\) or specify the maximum price you are willing to pay\. If your maximum price is lower than the Spot price for the instance types that you selected, your Spot Instances are not launched\.
   438  
   439:    1. \(Optional\) To create a request that is valid only during a specific time period, edit **Request valid from** and **Request valid until**\.
   440  
   441:    1. \(Optional\) By default, we terminate your Spot Instances when the Spot Fleet request expires\. To keep them running after your request expires, clear **Terminate the instances when the request expires**\.
   442  
   443:    1. \(Optional\) To register your Spot Instances with a load balancer, choose **Receive traffic from one or more load balancers** and choose one or more Classic Load Balancers or target groups\.
   444  
   445: 1. For **Minimum compute unit**, choose the minimum hardware specifications \(vCPUs, memory, and storage\) that you need for your application or task, either **as specs** or **as an instance type**\.
   446:    + For **as specs**, specify the required number of vCPUs and amount of memory\.
   447:    + For **as an instance type**, accept the default instance type, or choose **Change instance type** to choose a different instance type\.
   448  
   449: 1. For **Target capacity**, do the following:
   450  
   451:    1. For **Total target capacity**, specify the number of units to request\. For the type of unit, you can choose **Instances**, **vCPUs**, or **Memory \(MiB\)**\. To specify a target capacity of 0 so that you can add capacity later, choose **Maintain target capacity**\.
   452  
   453:    1. \(Optional\) For **Include On\-Demand base capacity**, specify the number of On\-Demand units to request\. The number must be less than the **Total target capacity**\. Amazon EC2 calculates the difference, and allocates the difference to Spot units to request\.
   454: **Important**  
   455   To specify optional On\-Demand capacity, you must first choose a launch template\.
   456  
   457:    1. \(Optional\) By default, the Spot service terminates Spot Instances when they are interrupted\. To maintain the target capacity, select **Maintain target capacity**\. You can then specify that the Spot service terminates, stops, or hibernates Spot Instances when they are interrupted\. To do so, choose the corresponding option from **Interruption behavior**\.
   458  
   459:    1. \(Optional\) To allow Spot Fleet to launch a replacement Spot Instance when an instance rebalance notification is emitted for an existing Spot Instance in the fleet, select **Capacity rebalance**, and then choose an instance replacement strategy\. If you choose **Launch before terminate**, specify the delay \(in seconds\) before Spot Fleet terminates the old instances\. For more information, see [Capacity Rebalancing](spot-fleet-capacity-rebalance.md)\.
   460  
   461:    1. \(Optional\) To control the amount you pay per hour for all the Spot Instances in your fleet, select **Set maximum cost for Spot Instances** and then enter the maximum total amount you're willing to pay per hour\. When the maximum total amount is reached, Spot Fleet stops launching Spot Instances even if it hasn’t met the target capacity\. For more information, see [Control spending](spot-fleet-control-spending.md)\.
   462  
   463: 1. For **Network**, do the following:
   464  
   465:    1. For **Network**, choose an existing VPC or create a new one\.
   466  

   468  
   469:       \[New VPC\] Choose **Create new VPC** to go the Amazon VPC console\. When you are done, return to the wizard and refresh the list\.
   470  
   471:    1. \(Optional\) For **Availability Zone**, let AWS choose the Availability Zones for your Spot Instances, or specify one or more Availability Zones\.
   472  
   473:       If you have more than one subnet in an Availability Zone, choose the appropriate subnet from **Subnet**\. To add subnets, choose **Create new subnet** to go to the Amazon VPC console\. When you are done, return to the wizard and refresh the list\.
   474  
   475: 1. For **Instance type requirements**, you can either specify instance attributes and let Amazon EC2 identify the optimal instance types with these attributes, or you can specify a list of instances\. For more information, see [Attribute\-based instance type selection for Spot Fleet](spot-fleet-attribute-based-instance-type-selection.md)\.
   476  
   477:    1. If you choose **Specify instance attributes that match your compute requirements**, specify your instance attributes as follows:
   478  
   479:       1. For **vCPUs**, enter the desired minimum and maximum number of vCPUs\. To specify no limit, select **No minimum**, **No maximum**, or both\.
   480  
   481:       1. For **Memory \(GiB\)**, enter the desired minimum and maximum amount of memory\. To specify no limit, select **No minimum**, **No maximum**, or both\.
   482  
   483:       1. \(Optional\) For **Additional instance attributes**, you can optionally specify one or more attributes to express your compute requirements in more detail\. Each additional attribute adds a further constraint to your request\. You can omit the additional attributes; when omitted, the default values are used\. For a description of each attribute and their default values, see [get\-spot\-placement\-scores](https://docs.aws.amazon.com/cli/latest/reference/ec2/get-spot-placement-scores.html) in the *Amazon EC2 Command Line Reference*\.
   484  
   485:       1. \(Optional\) To view the instance types with your specified attributes, expand **Preview matching instance types**\. To exclude instance types from being used in your request, select the instances and then choose **Exclude selected instance types**\.
   486  
   487:    1. If you choose **Manually select instance types**, Spot Fleet provides a default list of instance types\. To select more instance types, choose **Add instance types**, select the instance types to use in your request, and choose **Select**\. To delete instance types, select the instance types and choose **Delete**\.
   488  
   489: 1. For **Allocation strategy**, choose the strategy that meets your needs\. For more information, see [Allocation strategies for Spot Instances](spot-fleet-allocation-strategy.md)\.
   490  
   491: 1. For **Your fleet request at a glance**, review your fleet configuration, and make any adjustments if necessary\.
   492  
   493: 1. \(Optional\) To download a copy of the launch configuration for use with the AWS CLI, choose **JSON config**\.
   494  
   495: 1. Choose **Launch**\.
   496  

   500  
   501: **To create a Spot Fleet request using the AWS CLI**
   502  + Use the [request\-spot\-fleet](https://docs.aws.amazon.com/cli/latest/reference/ec2/request-spot-fleet.html) command to create a Spot Fleet request\.

   523  
   524: **Note**  
   525  Volume tags are only supported for volumes that are attached to On\-Demand Instances\. You can't tag volumes that are attached to Spot Instances\.

   528  
   529: **Topics**
   530  + [Prerequisite](#tag-spot-fleet-prereqs)

   539  
   540: **To grant a user the permission to tag resources**  
   541  Create an IAM policy that includes the following:

   562  
   563: **Important**  
   564  We currently do not support resource\-level permissions for the `spot-fleet-request` resource\. If you specify `spot-fleet-request` as a resource, you will get an unauthorized exception when you try to tag the fleet\. The following example illustrates how *not* to set the policy\.   

   589  
   590: **To tag a new Spot Fleet request using the console**
   591  

   593  
   594: 1. To add a tag, expand **Additional configurations**, choose **Add new tag**, and enter the key and value for the tag\. Repeat for each tag\.
   595  
   596:    For each tag, you can tag the Spot Fleet request and the instances with the same tag\. To tag both, ensure that both **Instance tags** and **Fleet tags** are selected\. To tag only the Spot Fleet request, clear **Instance tags**\. To tag only the instances launched by the fleet, clear **Fleet tags**\.
   597  
   598: 1. Complete the required fields to create a Spot Fleet request, and then choose **Launch**\. For more information, see [Create a Spot Fleet request using defined parameters \(console\)](#create-spot-fleet-advanced)\.
   599  
   600: **To tag a new Spot Fleet request using the AWS CLI**  
   601  To tag a Spot Fleet request when you create it, configure the Spot Fleet request configuration as follows:

   647  
   648: **To tag a new Spot Fleet request and the instances and volumes that it launches using the AWS CLI**  
   649  To tag a Spot Fleet request when you create it, and to tag the instances and volumes when they are launched by the fleet, configure the Spot Fleet request configuration as follows:
   650  
   651: **Spot Fleet request tags:**
   652  + Specify the tags for the Spot Fleet request in `SpotFleetRequestConfig`\.

   655  
   656: **Instance tags:**
   657  + Specify the tags for the instances in `LaunchSpecifications`\.

   662  
   663: **Volume tags:**
   664  + Specify the tags for the volumes in the [launch template](create-launch-template.md) that is referenced in the Spot Fleet request\. Volume tagging in `LaunchSpecifications` is not supported\.

   716  
   717: **To tag instances launched by a Spot Fleet using the AWS CLI**  
   718  To tag instances when they are launched by the fleet, you can either specify the tags in the [launch template](create-launch-template.md) that is referenced in the Spot Fleet request, or you can specify the tags in the Spot Fleet request configuration as follows:

   758  
   759: **To tag volumes attached to On\-Demand Instances launched by a Spot Fleet using the AWS CLI**  
   760  To tag volumes when they are created by the fleet, you must specify the tags in the [launch template](create-launch-template.md) that is referenced in the Spot Fleet request\.
   761  
   762: **Note**  
   763  Volume tags are only supported for volumes that are attached to On\-Demand Instances\. You can't tag volumes that are attached to Spot Instances\.  

   767  
   768: **To tag an existing Spot Fleet request using the console**
   769  

   775  
   776: 1. Choose the **Tags** tab and choose **Create Tag**\.
   777  
   778: **To tag an existing Spot Fleet request using the AWS CLI**  
   779  You can use the [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) command to tag existing resources\. In the following example, the existing Spot Fleet request is tagged with Key=purpose and Value=test\.

   788  
   789: **To view Spot Fleet request tags using the console**
   790  

   792  
   793: 1. Select your Spot Fleet request and choose the **Tags** tab\.
   794  
   795: **To describe Spot Fleet request tags**  
   796  Use the [describe\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-tags.html) command to view the tags for the specified resource\. In the following example, you describe the tags for the specified Spot Fleet request\.

   876  
   877: **To describe your Spot Fleet \(console\)**
   878  

   880  
   881: 1. In the navigation pane, choose **Spot Requests**\.
   882  
   883: 1. Select your Spot Fleet request\. To see the configuration details, choose **Description**\.
   884  
   885: 1. To list the Spot Instances for the Spot Fleet, choose **Instances**\.
   886  
   887: 1. To view the history for the Spot Fleet, choose **History**\.
   888  
   889: **To describe your Spot Fleet \(AWS CLI\)**  
   890  Use the [describe\-spot\-fleet\-requests](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-spot-fleet-requests.html) command to describe your Spot Fleet requests\.

   916  
   917: **Note**  
   918: You can't modify a one\-time Spot Fleet request\. You can only modify a Spot Fleet request if you selected **Maintain target capacity** when you created the Spot Fleet request\.
   919  

   927  
   928: **To modify a Spot Fleet request \(console\)**
   929  

   933  
   934: 1. Choose **Actions**, **Modify target capacity**\.
   935  
   936: 1. In **Modify target capacity**, do the following:
   937  

   939  
   940:    1. \(Optional\) If you are decreasing the target capacity but want to keep the fleet at its current size, clear **Terminate instances**\.
   941  
   942:    1. Choose **Submit**\.
   943  
   944: **To modify a Spot Fleet request using the AWS CLI**  
   945  Use the [modify\-spot\-fleet\-request](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-spot-fleet-request.html) command to update the target capacity of the specified Spot Fleet request\.

   969  
   970: **To cancel a Spot Fleet request \(console\)**
   971  

   975  
   976: 1. Choose **Actions**, **Cancel request**\.
   977  
   978: 1. In the **Cancel Spot request** dialog box, do the following:
   979  
   980:    1. To terminate the associated instances at the same time as canceling the Spot Fleet request, leave the **Terminate instances** check box selected\. To cancel the Spot Fleet request without terminating the associated instances, clear the **Terminate instances** check box\.
   981  
   982:    1. Choose **Confirm**\.
   983  
   984: **To cancel a Spot Fleet request and terminate its instances using the AWS CLI**  
   985  Use the [cancel\-spot\-fleet\-requests](https://docs.aws.amazon.com/cli/latest/reference/ec2/cancel-spot-fleet-requests.html) command to cancel the specified Spot Fleet request and terminate its On\-Demand Instances and Spot Instances\.

  1007  
  1008: **To cancel a Spot Fleet request without terminating its instances using the AWS CLI**  
  1009  You can modify the previous command using the `--no-terminate-instances` parameter to cancel the specified Spot Fleet request without terminating its On\-Demand Instances and Spot Instances\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/working-with-elastic-graphics.md:
    4  
    5: **Topics**
    6  + [Configure your security groups](#elastic-graphics-security)

   30  
   31: **To create a security group for Elastic Graphics**
   32  

   34  
   35: 1. In the navigation pane, choose **Security Groups** and then choose **Create security group**\.
   36  
   37: 1. In the **Create security group** window, do the following:
   38  
   39:    1. For **Security group name**, enter a descriptive name for the security group, such as `Elastic Graphics security group`\.
   40  
   41:    1. \(Optional\) For **Description**, enter a brief description of the security group\.
   42  
   43:    1. For **VPC**, select the VPC into which you intend to use Elastic Graphics\.
   44  
   45:    1. Choose **Create security group**\.
   46  
   47: 1. In the navigation pane, choose **Security Groups**, select the security group that you just created, and on the **Details** tab, copy the **Security group ID**\.
   48  
   49: 1. On the **Inbound rules** tab, choose **Edit inbound rules** and then do the following:
   50  
   51:    1. Choose **Add rule**\.
   52  
   53:    1. For **Type**, choose **Elastic Graphics**\.
   54  
   55:    1. For **Source type**, choose **Custom**\.
   56  
   57:    1. For **Source**, paste the security group ID that you copied previously\.
   58  
   59:    1. Choose **Save rules**\.
   60  
   61: 1. On the **Outbound rules** tab, choose **Edit outbound rules** and then do the following:
   62  
   63:    1. Choose **Add rule**\.
   64  
   65:    1. For **Type**, choose **Elastic Graphics**\.
   66  
   67:    1. For **Destination type**, choose **Custom**\.
   68  
   69:    1. For **Destination**, paste the security group ID that you copied previously\.
   70  
   71:    1. Choose **Save rules**\.
   72  

   83  
   84: **To associate an Elastic Graphics accelerator during instance launch \(console\)**
   85  

   87  
   88: 1. From the dashboard, choose **Launch Instance**\.
   89  

   91  
   92: 1. On the **Configure Instance Details** page, select a VPC and subnet in which to launch your instance\.
   93  
   94: 1. Choose **Add Graphics Acceleration**, and select an Elastic Graphics accelerator type\.
   95  
   96: 1. \(Optional\) On the **Add Storage** and **Add Tags** pages, add volumes and tags as needed\.
   97  
   98: 1. On the **Configure Security Group** page, you can let the console create a security group for you with the required inbound and outbound rules, or you can use the security group that you created manually in [Configure your security groups](#elastic-graphics-security)\. Add additional security groups as needed\.
   99  
  100: 1. Choose **Review and Launch** to review your instance options and then choose **Launch**\.
  101  
  102: **To associate an Elastic Graphics accelerator during instance launch \(AWS CLI\)**  
  103  You can use the [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) AWS CLI command with the following parameter:

  110  
  111: **To associate an Elastic Graphics accelerator during instance launch \(Tools for Windows PowerShell\)**  
  112  Use the [New\-EC2Instance](https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2Instance.html) Tools for Windows PowerShell command\.

  117  
  118: **To install the required software for Elastic Graphics \(if necessary\)**
  119  

  122  1. Download the [Elastic Graphics installer](https://d3tgz4wtsu5afq.cloudfront.net/latest) and open it\. The installation manager connects to the Elastic Graphics endpoint and downloads the latest version of the required software\.
  123: **Note**  
  124  If the download link does not work, try a different browser, or copy the link address and paste it into a new browser tab\.

  137  
  138: **Note**  
  139  If the Elastic Graphics status monitor or command line tool returns an unexpected result, see [Resolve unhealthy status issues](elastic-graphics-troubleshooting.md#elastic-graphics-troubleshooting_unhealthy_status)\.

  145  
  146: **Healthy**  
  147  The Elastic Graphics accelerator is enabled and healthy\.
  148  
  149: **Updating**  
  150  The status of the Elastic Graphics accelerator is currently updating\. It might take a few minutes to display the status\.
  151  
  152: **Out of service**  
  153: The Elastic Graphics accelerator is out of service\. To get more information about the error, choose **Read More**\.
  154  

  223  
  224: **To view information about an Elastic Graphics accelerator \(console\)**
  225  

  227  
  228: 1. In the navigation pane, choose **Instances** and select your instance\.
  229  
  230: 1. On the **Details** tab, find **Elastic Graphics ID**\. Choose the ID to view the following information about the Elastic Graphics accelerator:
  231:    + **Attachment State**
  232:    + **Type**
  233:    + **Health status**
  234  
  235: **To view information about an Elastic Graphics accelerator \(AWS CLI\)**  
  236  You can use the [describe\-elastic\-gpus](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-elastic-gpus.html) AWS CLI command:

  247  
  248: **To view information about an Elastic Graphics accelerator \(Tools for Windows PowerShell\)**
  249  

  253  
  254: **To view information about an Elastic Graphics accelerator using instance metadata**
  255  

  273  
  274: **To submit feedback using the Elastic Graphics Status Monitor**
  275  

  277  
  278: 1. In the lower left corner, choose **Feedback**\.
  279  
  280: 1. Enter your feedback and choose **Submit**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/working-with-security-groups.md:
    8  
    9: **Topics**
   10  + [Create a security group](#creating-security-group)

   30  
   31: **To create a security group**
   32  

   34  
   35: 1. In the navigation pane, choose **Security Groups**\.
   36  
   37: 1. Choose **Create security group**\.
   38  
   39: 1. In the **Basic details** section, do the following\.
   40  

   42  
   43:    1. For **VPC**, choose the VPC\.
   44  

   46  
   47: 1. You can add tags now, or you can add them later\. To add a tag, choose **Add new tag** and enter the tag key and value\.
   48  
   49: 1. Choose **Create security group**\.
   50  

   53  
   54: **To create a security group**
   55  

   71  
   72: **To copy a security group**
   73  

   75  
   76: 1. In the navigation pane, choose **Security Groups**\.
   77  
   78: 1. Select the security group to copy and choose **Actions**, **Copy to new security group**\.
   79  

   81  
   82: 1. Choose **Create**\.
   83  

   90  
   91: **To view your security groups**
   92  

   94  
   95: 1. In the navigation pane, choose **Security Groups**\.
   96  
   97: 1. Your security groups are listed\. To view the details for a specific security group, including its inbound and outbound rules, choose its ID in the **Security group ID** column\.
   98  

  101  
  102: **To view your security groups**
  103  

  122  
  123: **To add an inbound rule to a security group**
  124  

  126  
  127: 1. In the navigation pane, choose **Security Groups**\.
  128  
  129: 1. Select the security group, and choose **Actions**, **Edit inbound rules**\.
  130  
  131: 1. For each rule, choose **Add rule** and do the following\.
  132  
  133:    1. For **Type**, choose the type of protocol to allow\.
  134        + For custom TCP or UDP, you must enter the port range to allow\.
  135:       + For custom ICMP, you must choose the ICMP type from **Protocol**, and, if applicable, the code from **Port range**\. For example, to allow ping commands, choose **Echo Request** from **Protocol**\.
  136        + For any other type, the protocol and port range are configured for you\.
  137  
  138:    1. For **Source**, do one of the following to allow traffic\.
  139:       + Choose **Custom** and then enter an IP address in CIDR notation, a CIDR block, another security group, or a prefix list\.
  140:       + Choose **Anywhere** to allow all traffic for the specified protocol to reach your instance\. This option automatically adds the 0\.0\.0\.0/0 IPv4 CIDR block as the source\. If your security group is in a VPC that's enabled for IPv6, this option automatically adds a rule for the ::/0 IPv6 CIDR block\.
  141: **Warning**  
  142: If you choose **Anywhere**, you enable all IPv4 and IPv6 addresses to access your instance the specified protocol\. If you are adding rules for ports 22 \(SSH\) or 3389 \(RDP\), you should authorize only a specific IP address or range of addresses to access your instance\.
  143:       + Choose **My IP** to allow inbound traffic from only your local computer's public IPv4 address\.
  144  
  145:    1. For **Description**, optionally specify a brief description for the rule\.
  146  
  147: 1. Choose **Preview changes**, **Save rules**\.
  148  
  149: **To add an outbound rule to a security group**
  150  

  152  
  153: 1. In the navigation pane, choose **Security Groups**\.
  154  
  155: 1. Select the security group, and choose **Actions**, **Edit outbound rules**\.
  156  
  157: 1. For each rule, choose **Add rule** and do the following\.
  158  
  159:    1. For **Type**, choose the type of protocol to allow\.
  160        + For custom TCP or UDP, you must enter the port range to allow\.
  161:       + For custom ICMP, you must choose the ICMP type from **Protocol**, and, if applicable, the code from **Port range**\.
  162        + For any other type, the protocol and port range are configured automatically\.
  163  
  164:    1. For **Destination**, do one of the following\.
  165:       + Choose **Custom** and then enter an IP address in CIDR notation, a CIDR block, another security group, or a prefix list for which to allow outbound traffic\.
  166:       + Choose **Anywhere** to allow outbound traffic to all IP addresses\. This option automatically adds the 0\.0\.0\.0/0 IPv4 CIDR block as the destination\.
  167  
  168          If your security group is in a VPC that's enabled for IPv6, this option automatically adds a rule for the ::/0 IPv6 CIDR block\.
  169:       + Choose **My IP** to allow outbound traffic only to your local computer's public IPv4 address\.
  170  
  171:    1. \(Optional\) For **Description**, specify a brief description for the rule\.
  172  
  173: 1. Choose **Preview changes**, **Confirm**\.
  174  

  177  
  178: **To add rules to a security group**
  179  

  183  
  184: **To add one or more egress rules to a security group**
  185  

  200  
  201: **To update a security group rule**
  202  

  204  
  205: 1. In the navigation pane, choose **Security Groups**\.
  206  

  208  
  209: 1. Choose **Actions**, **Edit inbound rules** to update a rule for inbound traffic or **Actions**, **Edit outbound rules** to update a rule for outbound traffic\.
  210  

  212  
  213: 1. Choose **Preview changes**, **Confirm**\.
  214  
  215: **To tag a security group rule**
  216  

  218  
  219: 1. In the navigation pane, choose **Security Groups**\.
  220  

  222  
  223: 1. On the **Inbound rules** or **Outbound rules** tab, select the check box for the rule and then choose **Manage tags**\.
  224  
  225: 1. The **Manage tags** page displays any tags that are assigned to the rule\. To add a tag, choose **Add tag** and enter the tag key and value\. To delete a tag, choose **Remove** next to the tag that you want to delete\.
  226  
  227: 1. Choose **Save changes**\.
  228  

  233  
  234: **To update a rule**
  235  

  238  
  239: **To update the description for an existing inbound rule**
  240  

  244  
  245: **To update the description for an existing outbound rule**
  246  

  250  
  251: **To tag a security group rule**
  252  

  267  
  268: **To delete a security group rule**
  269  

  271  
  272: 1. In the navigation pane, choose **Security Groups**\.
  273  
  274: 1. Select the security group to update, choose **Actions**, and then choose **Edit inbound rules** to remove an inbound rule or **Edit outbound rules** to remove an outbound rule\.
  275  
  276: 1. Choose the **Delete** button to the right of the rule to delete\.
  277  
  278: 1. Choose **Preview changes**, **Confirm**\.
  279  

  282  
  283: **To remove one or more ingress rules from a security group**
  284  

  288  
  289: **To remove one or more egress rules from a security group**
  290  

  303  
  304: **To delete a security group**
  305  

  307  
  308: 1. In the navigation pane, choose **Security Groups**\.
  309  
  310: 1. Select the security group to delete and choose **Actions**, **Delete security group**, **Delete**\.
  311  

  314  
  315: **To delete a security group**
  316  

  332  
  333: **Requirements**
  334  + The instance must be in the `running` or `stopped` state\.

  339  
  340: **To change the security groups for an instance**
  341  

  343  
  344: 1. In the navigation pane, choose **Instances**\.
  345  
  346: 1. Select your instance, and then choose **Actions**, **Security**, **Change security groups**\.
  347  
  348: 1. For **Associated security groups**, select a security group from the list and choose **Add security group**\.
  349  
  350:    To remove an already associated security group, choose **Remove** for that security group\.
  351  
  352: 1. Choose **Save**\.
  353  

  356  
  357: **To change the security groups for an instance**
  358  

proj.aws-docs • semantic-search-aws-docs/amazon-ec2-user-guide-windows/doc_source/working-with-snapshot-archiving.md:
    2  
    3: **Topics**
    4  + [Archive a snapshot](#archive-snapshot)

   21  
   22: **To archive a snapshot**
   23  

   25  
   26: 1. In the navigation pane, choose **Snapshots**\.
   27  
   28: 1. In the list of snapshots, select the snapshot to archive and then choose **Actions**, **Archive snapshot**\.
   29  
   30: 1. To confirm, choose **Archive snapshot**\.
   31  

   34  
   35: **To archive a snapshot**  
   36  Use the [ modify\-snapshot\-tier](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-snapshot-tier.html) AWS CLI command\. For `--snapshot-id`, specify the ID of the snapshot to archive\. For `--storage-tier`, specify `archive`\.

   66  
   67: When you restore a snapshot, you can choose to restore it **permanently** or **temporarily**\.
   68  

   77  
   78: **To restore a snapshot from the archive**
   79  

   81  
   82: 1. In the navigation pane, choose **Snapshots**\.
   83  
   84: 1. In the list of snapshots, select the archived snapshot to restore, and then choose **Actions**, **Restore snapshot from archive**\.
   85  
   86: 1. Specify the type of restore to perform\. For **Restore type**, do one of the following:
   87:    + To restore the snapshot permanently, select **Permanent**\.
   88:    + To restore the snapshot temporarily, select **Temporary**, and then for **Temporary restore period**, enter the number of days for which to restore the snapshot\.
   89  
   90: 1. To confirm, choose **Restore snapshot**\.
   91  

   94  
   95: **To permanently restore an archived snapshot**  
   96  Use the [ restore\-snapshot\-tier](https://docs.aws.amazon.com/cli/latest/reference/ec2/restore-snapshot-tier.html) AWS CLI command\. For `--snapshot-id`, specify the ID of the snapshot to restore, and include the `--permanent-restore` option\.

  120  
  121: **To temporarily restore an archived snapshot**  
  122  Use the [ restore\-snapshot\-tier](https://docs.aws.amazon.com/cli/latest/reference/ec2/restore-snapshot-tier.html) AWS CLI command\. Omit the `--permanent-restore` option\. For `--snapshot-id`, specify the ID of the snapshot to restore, and for `--temporary-restore-days`, specify the number of days for which to restore the snapshot\.

  161  
  162: **Note**  
  163  You can end a temporary restore early by setting the restore period to 1 day\.

  171  
  172: **To modify the restore period or restore type**
  173  

  175  
  176: 1. In the navigation pane, choose **Snapshots**\.
  177  
  178: 1. In the list of snapshots, select the snapshot that you previously temporarily restored, and then choose **Actions**, **Restore snapshot from archive**\.
  179  
  180: 1. For **Restore type**, do one of the following:
  181:    + To change the restore type from temporary to permanent, select **Permanent**\.
  182:    + To increase or decrease the restore period, keep **Temporary**, and then for **Temporary restore period**, enter the new restore period in days\. 
  183  
  184: 1. To confirm, choose **Restore snapshot**\.
  185  

  188  
  189: **To modify the restore period or change the restore type**  
  190  Use the [ restore\-snapshot\-tier](https://docs.aws.amazon.com/cli/latest/reference/ec2/restore-snapshot-tier.html) AWS CLI command\. For `--snapshot-id`, specify the ID of the snapshot that you previously temporarily restored\. To change the restore type from temporary to permanent, specify `--permanent-restore` and omit `--temporary-restore-days`\. To increase or decrease the restore period, omit `--permanent-restore` and for `--temporary-restore-days`, specify the new restore period in days\.
  191  
  192: **Example: Increase or decrease the restore period**  
  193  The following command changes the restore period for snapshot `snap-01234567890abcedf` to `10` days\.

  210  
  211: **Example: Change restore type to permanent**  
  212  The following command changes the restore type for snapshot `snap-01234567890abcedf` from temporary to permanent\.

  237  
  238: **To view storage tier information for a snapshot**
  239  

  241  
  242: 1. In the navigation pane, choose **Snapshots**\.
  243  
  244: 1. In the list of snapshots, select the snapshot and choose the **Storage tier** tab\.
  245  
  246     The tab provides the following information:
  247:    + **Last tier change started on** — The date and time when the last archive or restore was started\.
  248:    + **Tier change progress** — The progress of the last archive or restore action, as a percentage\.
  249:    + **Storage tier** — The storage tier for the snapshot\. Always `archive` for archived snapshots, and `standard` for snapshots stored on the standard tier, including temporarily restored snapshots\.
  250:    + **Tiering status** — The status of the last archive or restore action\.
  251:    + **Archive completed on** — The date and time when the archive completed\.
  252:    + **Temporary restore expires on** — The date and time when a temporarily restored snapshot is set to expire\.
  253  

  256  
  257: **To view archival information about an archived snapshot**  
  258  Use the [ describe\-snapshot\-tier\-status](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-snapshot-tier-status.html) AWS CLI command\. Specify the `snapshot-id` filter, and for the filter value, specify the snapshot ID\. Alternatively, to view all archived snapshots, omit the filter\.

  271  
  272: **Example**  
  273  The following command displays information about snapshot `snap-01234567890abcedf`\.

  299  
  300: **To view archived and standard tier snapshots**  
  301  Use the [describe\-snapshot](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-snapshot.html) AWS CLI command\. For `--snapshot-ids`, specify the ID of the snapshot view\.

  316  
  317: Additionally, the `RestoreExpiryTime` response parameter is returned only for snapshots that are temporarily restored from the archive\. It indicates when temporarily restored snapshots are to be automatically removed from the standard tier\. It is **not** returned for snapshots that are permanently restored\.
  318  

  367  
  368: **To view only snapshots that are stored in the archive tier or the standard tier**  
  369  Use the [ describe\-snapshot](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-snapshot.html) AWS CLI command\. Include the `--filter` option, for the filter name, specify `storage-tier`, and for the filter value specify either `archive` or `standard`\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/CONTRIBUTING.md:
  20  
  21: **Note:** We all write differently, and you might not like how we've written or organized something currently. We want that feedback. But please be sure that your request for a rewrite is supported by the previous criteria. If it isn't, we might decline to merge it.
  22  

  27  1. [Fork the repository](https://help.github.com/articles/fork-a-repo/).
  28: 2. In your fork, make your change in a branch that's based on this repo's **master** branch.
  29  3. Commit the change to your fork, using a clear and descriptive commit message.

  33  
  34: 1. You're working from the latest source on the **master** branch.
  35  2. You check [existing open](https://github.com/awsdocs/amazon-ecs-developer-guide/pulls), and [recently closed](https://github.com/awsdocs/amazon-ecs-developer-guide/pulls?q=is%3Apr+is%3Aclosed), pull requests to be sure that someone else hasn't already addressed the problem.

  51  
  52: If you discover a potential security issue, please notify AWS Security via our [vulnerability reporting page](http://aws.amazon.com/security/vulnerability-reporting/). Please do **not** create a public issue on GitHub.
  53  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/account-setting-management-cli.md:
  20  
  21: **To modify the account settings for your user account \(AWS CLI\)**
  22  

  36  
  37: **To modify the account settings for a specific user or role \(AWS CLI\)**
  38  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/adding-or-deleting-tags-classic.md:
   4  
   5: **To add a tag to an individual resource**
   6  

  10  
  11: 1. In the navigation pane, select a resource type \(for example, **Clusters**\)\.
  12  
  13: 1. Select the resource from the resource list and choose **Tags**, **Edit**\.
  14  
  15: 1. In the **Edit Tags** dialog box, specify the key and value for each tag, and then choose **Save**\.
  16  
  17: **To delete a tag from an individual resource**
  18  

  22  
  23: 1. In the navigation pane, choose a resource type \(for example, **Clusters**\)\.
  24  
  25: 1. Select the resource from the resource list and choose **Tags**, **Edit**\.
  26  
  27: 1. On the **Edit Tags** page, select the **Delete** icon for each tag you want to delete, and choose **Save**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/agent-update-console.md:
   4  
   5: **Note**  
   6  Agent updates do not apply to Windows container instances\. We recommend that you launch new container instances to update the agent version in your Windows clusters\.

  11  
  12: 1. In the navigation pane, choose **Clusters**, and then choose the cluster\.
  13  
  14: 1. On the **Cluster : *cluster\_name*** page, choose **Infrastructure**\.
  15  

  17  
  18: 1. Under **Container Instance**, choose **Actions**, **Update agent**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/agent-update-ecs-ami.md:
   7  
   8: **Note**  
   9  Agent updates do not apply to Windows container instances\. We recommend that you launch new container instances to update the agent version in your Windows clusters\.<a name="procedure_update_ecs-init"></a>
  10  
  11: **To update the `ecs-init` package on an Amazon ECS\-optimized AMI**
  12  

  19     ```
  20: **Note**  
  21  The `ecs-init` package and the Amazon ECS container agent are updated immediately\. However, newer versions of Docker are not loaded until the Docker daemon is restarted\. Restart either by rebooting the instance, or by running the following commands on your instance:  

  34  
  35: **Important**  
  36  The `UpdateContainerAgent` API is only supported on Linux variants of the Amazon ECS\-optimized AMI, with the exception of the Amazon ECS\-optimized Amazon Linux 2 \(arm64\) AMI\. For container instances using the Amazon ECS\-optimized Amazon Linux 2 \(arm64\) AMI, update the `ecs-init` package to update the agent\. For container instances that are running other operating systems, see [Manually updating the Amazon ECS container agent \(for non\-Amazon ECS\-Optimized AMIs\)](manually_update_agent.md)\. If you are using Windows container instances, we recommend that you launch new container instances to update the agent version in your Windows clusters\.

  55  
  56: **Note**  
  57  Agent updates do not apply to Windows container instances\. We recommend that you launch new container instances to update the agent version in your Windows clusters\.
  58  
  59: **To update the Amazon ECS container agent on an Amazon ECS\-optimized AMI in the console**
  60  

  64  
  65: 1. In the navigation pane, choose **Clusters** and select the cluster that hosts the external instance\.
  66  
  67: 1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\.
  68  
  69: 1. Under **Container instances**, select the instances to update, and then choose **Update agent**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/api_failures_messages.md:
  12  
  13: **Note**  
  14  Besides the failure scenarios described here, APIs can also fail due to exceptions, resulting in error responses\. For a list of such exceptions, see [Common Errors](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/CommonErrors.html)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/application-metrics-cloudwatch.md:
   2  
   3: Amazon ECS on Fargate supports exporting your custom application metrics to Amazon CloudWatch as custom metrics\. This is done by adding the AWS Distro for OpenTelemetry sidecar container to your task definition\. The new Amazon ECS console experience simplifies this process by adding the **Use metric collection** option when creating a new task definition\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
   4  

  17  
  18: **Important**  
  19  If you're also collecting application trace data using the AWS Distro for OpenTelemetry integration, ensure your task IAM role also contains the permissions necessary for that integration\. For more information, see [Collecting application trace data](trace-data.md)\.
  20  
  21: **To create a task IAM role for AWS Distro for OpenTelemetry integration with CloudWatch**
  22  

  24  
  25: 1. In the navigation pane, choose **Policies**, **Create policy**\.
  26  
  27: 1. On the **Create policy** page, switch to the **JSON** tab, copy and paste the following IAM policy JSON into the field, then choose **Next: Tags**\.
  28  

  47     ```
  48: **Note**  
  49  If your application requires any additional permissions, you should add them to this policy\. Each task definition may only specify one task IAM role\. For example, if you are using a custom configuration file stored in Systems Manager, you should add the `ssm:GetParameters` permission to this IAM policy\.
  50  
  51: 1. \(Optional\) Add one or more tags to the policy, then choose **Next: Review**\.
  52  
  53: 1. For **Name**, specify `AWSDistroOpenTelemetryPolicyForCloudWatch`\.
  54  
  55: 1. For **Description**, specify an optional description, then choose **Create policy**\.
  56  
  57: 1. In the navigation pane, choose **Roles**, **Create role**\.
  58  
  59: 1. In the **Select type of trusted entity** section, choose **AWS service**, **Elastic Container Service**\.
  60  
  61: 1. For **Select your use case**, choose **Elastic Container Service Task**, then choose **Next: Permissions**\.
  62  
  63: 1. In the **Attach permissions policy** section, search for **AWSDistroOpenTelemetryPolicyForCloudWatch**, select the policy, and then choose **Next: Tags**\.
  64  
  65: 1. For **Add tags \(optional\)**, specify any custom tags to associate with the policy and then choose **Next: Review**\.
  66  
  67: 1. For **Role name**, specify `AmazonECS_OpenTelemetryCloudWatchRole` and choose **Create role**\.
  68  

  70  
  71: The new Amazon ECS console experience simplifies the experience of creating the AWS Distro for OpenTelemetry sidecar container by using the **Use metric collection** option\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
  72  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/application-metrics-prometheus.md:
   2  
   3: Amazon ECS supports exporting your task\-level CPU, memory, network, and storage metrics and your custom application metrics to Amazon Managed Service for Prometheus\. This is done by adding the AWS Distro for OpenTelemetry sidecar container to your task definition\. The new Amazon ECS console experience simplifies this process by adding the **Use metric collection** option when creating a new task definition\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
   4  

  20  
  21: **Important**  
  22  If you're also collecting application trace data using the AWS Distro for OpenTelemetry integration, ensure your task IAM role also contains the permissions necessary for that integration\. For more information, see [Collecting application trace data](trace-data.md)\.
  23  
  24: **To create a task IAM role for AWS Distro for OpenTelemetry integration with Amazon Managed Service for Prometheus**
  25  

  27  
  28: 1. In the navigation pane, choose **Roles**, **Create role**\.
  29  
  30: 1. In the **Select type of trusted entity** section, choose **AWS service**, **Elastic Container Service**\.
  31  
  32: 1. For **Select your use case**, choose **Elastic Container Service Task**, then choose **Next: Permissions**\.
  33  
  34: 1. In the **Attach permissions policy** section, search for the **AmazonPrometheusRemoteWriteAccess** policy, select the policy, and then choose **Next: Tags**\.
  35  
  36: 1. For **Add tags \(optional\)**, specify any custom tags to associate with the policy and then choose **Next: Review**\.
  37  
  38: 1. For **Role name**, specify `AmazonECS_OpenTelemetryPrometheusRole` and choose **Create role**\.
  39  

  41  
  42: The new Amazon ECS console experience simplifies the experience of creating the AWS Distro for OpenTelemetry sidecar container by using the **Use metric collection** option\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
  43  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/asg-capacity-providers-create-auto-scaling-group.md:
   4  
   5: **Note**  
   6: When using the Amazon ECS console **Create Cluster** wizard with the **EC2 Linux \+ Networking** option, Amazon ECS creates an Amazon EC2 Auto Scaling launch configuration and Auto Scaling group on your behalf as part of the AWS CloudFormation stack\. They are prefixed with `EC2ContainerService-<ClusterName>`, which makes them easy to identify\. That Auto Scaling group could then be used in a capacity provider for that cluster\.  
   7  For more information on replacing an Auto Scaling launch configuration with an Amazon EC2 launch template, see [Replacing a launch configuration with a launch template](https://docs.aws.amazon.com/autoscaling/ec2/userguide/replace-launch-config.html) in the *Amazon EC2 Auto Scaling User Guide*

  25  
  26: To use warm pools with your Amazon ECS cluster, set the `ECS_WARM_POOLS_CHECK` agent configuration variable to `true` in the **User data** field of your Amazon EC2 Auto Scaling group launch template\. The following shows an example of how the agent configuration variable can be specified in the **User data** field of an Amazon EC2 launch template\.
  27  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/asg-capacity-providers-create-capacity-provider.md:
  14  
  15: **To create an Auto Scaling group capacity provider \(classic AWS Management Console\)**
  16  

  20  
  21: 1. In the navigation pane, choose **Clusters**\.
  22  
  23: 1. On the **Clusters** page, select your cluster\.
  24  
  25: 1. On the **Cluster : *name*** page, choose **Capacity Providers**, and then choose **Create**\.
  26  
  27: 1. For **Capacity provider name**, enter a capacity provider name\.
  28  
  29: 1. For **Auto Scaling group**, select the Auto Scaling group to associate with the capacity provider\. The Auto Scaling group must already be created\.
  30  
  31: 1. For **Managed scaling**, choose your managed scaling option\. When managed scaling is enabled, Amazon ECS manages the scale\-in and scale\-out actions of the Auto Scaling group through the use of AWS Auto Scaling scaling policies\. When managed scaling is turned off, you manage your Auto Scaling groups yourself\.
  32  
  33: 1. For **Target capacity %**, if managed scaling is enabled, specify an integer between `1` and `100`\. The target capacity value is used as the target value for the CloudWatch metric used in the Amazon ECS\-managed target tracking scaling policy\. This target capacity value is matched on a best effort basis\. For example, a value of `100` will result in the Amazon EC2 instances in your Auto Scaling group being completely utilized and any instances not running any tasks will be scaled in, but this behavior is not guaranteed at all times\.
  34  
  35: 1. For **Managed termination protection**, choose your managed termination protection option\. When managed termination protection is enabled, Amazon ECS prevents Amazon EC2 instances that contain tasks and that are in an Auto Scaling group from being terminated during a scale\-in action\. Managed termination protection can only be enabled if the Auto Scaling group also has instance protection from scale in enabled and if managed scaling is enabled\. Managed termination protection is only supported on standalone tasks or tasks in a service using the replica scheduling strategy\. For tasks in a service using the daemon scheduling strategy, the instances are not protected\.
  36  
  37: 1. Choose **Create** to complete the capacity provider creation\.
  38  
  39: **To create an Auto Scaling group capacity provider \(AWS CLI\)**
  40  + Use the following command to create a new capacity provider\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/asg-capacity-providers-delete-capacity-provider.md:
  19  
  20: **Note**  
  21  Only capacity providers that are currently associated with a cluster are visible in the AWS Management Console\. To delete a capacity provider that is not associated with a cluster, you must use the Amazon ECS API, SDK, or AWS CLI\.

  26  
  27: 1. In the navigation pane, choose **Clusters**\.
  28  
  29: 1. On the **Clusters** page, select your cluster\.
  30  
  31: 1. On the **Cluster : *name*** page, choose the **Capacity Providers** tab\.
  32  
  33: 1. Select the capacity provider you want to delete and then choose **Delete**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/asg-capacity-providers-update-capacity-provider.md:
   9  
  10: **To update an Auto Scaling group capacity provider \(classic AWS Management Console\)**
  11  

  15  
  16: 1. In the navigation pane, choose **Clusters**\.
  17  
  18: 1. On the **Clusters** page, select your cluster\.
  19  
  20: 1. On the **Cluster : *name*** page, choose the **Capacity Providers** tab\.
  21  
  22: 1. Select the capacity provider to update and choose **Update**\.
  23  
  24: 1. On the **Update Capacity Provider** page, the following parameters can be updated\.
  25  
  26:    1. For **Managed scaling**, choose your managed scaling option\. When managed scaling is enabled, Amazon ECS manages the scale\-in and scale\-out actions of the Auto Scaling group through the use of AWS Auto Scaling scaling policies\. When managed scaling is turned off, you manage your Auto Scaling groups yourself\.
  27  
  28:    1. For **Target capacity %**, if managed scaling is enabled, specify an integer between `1` and `100`\. The target capacity value is used as the target value for the CloudWatch metric used in the Amazon ECS\-managed target tracking scaling policy\. This target capacity value is matched on a best effort basis\. For example, a value of `100` will result in the Amazon EC2 instances in your Auto Scaling group being completely utilized and any instances not running any tasks will be scaled in, but this behavior is not guaranteed at all times\.
  29  
  30:    1. For **Managed termination protection**, choose your managed termination protection option\. When managed termination protection is enabled, Amazon ECS prevents Amazon EC2 instances that contain tasks and that are in an Auto Scaling group from being terminated during a scale\-in action\. Managed termination protection can only be enabled if the Auto Scaling group also has instance protection from scale in enabled and if managed scaling is enabled\. Managed termination protection is only supported on standalone tasks or tasks in a service using the replica scheduling strategy\. For tasks in a service using the daemon scheduling strategy, the instances are not protected\.
  31  
  32: 1. Choose **Update** to request capacity provider update\.
  33  
  34: 1. To verify whether the capacity provider update was successful, check the **Update Status** column on the **Capacity Providers** tab\.
  35  
  36: **To update an Auto Scaling group capacity provider \(AWS CLI\)**
  37  + Use the following command to create a new capacity provider\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/asg-capacity-providers.md:
   8  + We recommend that you create a new empty Auto Scaling group to use with a capacity provider rather than using an existing one\. If you use an existing Auto Scaling group, any Amazon EC2 instances that are associated with the group that were already running and registered to an Amazon ECS cluster before the Auto Scaling group being used to create a capacity provider might not be properly registered with the capacity provider\. This might cause issues when using the capacity provider in a capacity provider strategy\. The `DescribeContainerInstances` API can confirm whether a container instance is associated with a capacity provider or not\.
   9: **Note**  
  10  To create an empty Auto Scaling group, set the desired count to zero\. After you created the capacity provider and associated it with a cluster, you can then scale it out\.  
  11: When you use the Amazon ECS console **Create Cluster** with the **Amazon EC2 instances** option under **Infrastructure**, Amazon ECS creates an Amazon EC2 Auto Scaling launch configuration and Auto Scaling group on your behalf as part of the AWS CloudFormation stack\. They are prefixed with `EC2ContainerService-<ClusterName>`, which makes them easy to identify\. That Auto Scaling group could then be used in a capacity provider for that cluster\.
  12  + An Auto Scaling group must have a `MaxSize` greater than zero to scale out\.

  33  
  34: To use warm pools with your Amazon ECS cluster, set the `ECS_WARM_POOLS_CHECK` agent configuration variable to `true` in the **User data** field of your Amazon EC2 Auto Scaling group launch template\. The following shows an example of how the agent configuration variable can be specified in the **User data** field of an Amazon EC2 launch template\.
  35  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/automated_image_cleanup.md:
   4  
   5: **Note**  
   6  The Amazon ECS agent image pull behavior can be customized using the `ECS_IMAGE_PULL_BEHAVIOR` parameter\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.

  11  
  12: **Note**  
  13  The automated image cleanup feature requires at least version 1\.13\.0 of the Amazon ECS container agent\. To update your agent to the latest version, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-account-actions.md:
  7  
  8: **Topics**
  9  + [Modifying account settings using the classic console](ecs-modifying-longer-id-settings-classic.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-agent-actions.md:
  7  
  8: **Topics**
  9  + [Updating the Amazon ECS container agent with the classic console](agent-update-classic-console.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-cluster-actions.md:
   9  
  10: **Topics**
  11  + [Creating a cluster using the classic console](create_cluster.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-instance-actions.md:
  7  
  8: **Topics**
  9  + [Connect to your container Windows instance using the classic console](instance-windows-connect-classic-console.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-monitor-actions.md:
  7  
  8: **Topics**
  9  + [Viewing cluster metrics using the classic Amazon ECS console](viewing_cluster_metrics_classic.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-service-actions.md:
  7  
  8: **Topics**
  9  + [Creating an Amazon ECS service in the classic console](create-service.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-tag-actions.md:
  7  
  8: **Topics**
  9  + [Adding and deleting tags on an individual resource using the classic console](adding-or-deleting-tags-classic.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-task-actions.md:
   9  
  10: **Topics**
  11  + [Run a standalone task in the classic Amazon ECS console](ecs_run_task.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-classic-console-task-definition-actions.md:
  4  
  5: **Topics**
  6  + [Creating a task definition using the classic console](create-task-definition-classic.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-cluster-actions.md:
  4  
  5: **Topics**
  6  + [Creating a cluster for the Fargate launch type using the console](create-cluster-console-v2.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/available-getting-started.md:
  4  
  5: **Topics**
  6  + [Getting started with the new console using Linux containers on AWS Fargate](getting-started-fargate.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/AWS_Copilot.md:
    6  
    7: **Note**  
    8  The source code for the AWS Copilot CLI is available on [GitHub](https://github.com/aws/copilot-cli)\. The latest CLI documentation is available on the AWS Copilot [website](https://aws.github.io/copilot-cli/)\. We recommend that you submit issues and pull requests for changes that you would like to have included\. However, Amazon Web Services doesn't currently support running modified copies of AWS Copilot code\. Report issues with AWS Copilot by connecting with us on [Gitter](https://gitter.im/aws/copilot-cli) or [GitHub](https://github.com/aws/copilot-cli) where you can open issues, provide feedback, and report bugs\.

  373     ```
  374: **Important**  
  375  The warning in the output is expected and is not problematic\. It occurs because there is not a chain of trust between your personal PGP key \(if you have one\) and the Amazon ECS PGP key\. For more information, see [Web of trust](https://en.wikipedia.org/wiki/Web_of_trust)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/AWS_Fargate-Regions.md:
  2  
  3: **Contents**
  4  + [Supported Regions for Linux containers on AWS Fargate](#linux-regions)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/AWS_Fargate.md:
   40  To ensure that your task definition validates for use with Fargate, you can specify the following when you register the task definition: 
   41: + In the AWS Management Console, for the **Requires Compatibilities** field, specify `FARGATE`\.
   42  + In the AWS CLI, specify the `--requires-compatibilities` option\.

  322  
  323: To create a Savings Plan for your AWS Fargate usage, use the **Compute Savings Plans** type\. To get started, see [Getting started with Savings Plans](https://docs.aws.amazon.com/savingsplans/latest/userguide/get-started.html) in the *Savings Plans User Guide*\.
  324  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/basic-service-params.md:
   2  
   3: **Important**  
   4  Amazon ECS has provided a new console experience for creating a service\. For more information, see [Creating a service using the console](create-service-console-v2.md)\.

   9  
  10: **Note**  
  11  If your cluster is configured with a default capacity provider strategy, you can only create a service using the default capacity provider strategy when using the console\. Likewise, if no default capacity provider is defined, you can only use a launch type when creating a service using the console\. It's not currently possible to have a mixed strategy using both capacity providers and launch types in the console\.
  12  
  13: **To configure the basic service definition parameters**
  14  

  18  
  19: 1. In the navigation pane, choose **Task Definitions** and choose the task definition to create your service from\.
  20  
  21: 1. On the **Task Definition name** page, choose the revision of the task definition to create your service from\.
  22  
  23: 1. Review the task definition, and then choose **Actions**, **Create Service**\.
  24  
  25: 1. On the **Configure service** page, complete the following steps\.
  26  
  27     1. Choose either a capacity provider strategy or a launch type\.
  28:       + To use a **Capacity provider strategy**, first choose **Switch to capacity provider strategy**\. Next, choose whether your service uses the default capacity provider strategy that's defined for the cluster or a custom capacity provider strategy\. A capacity provider must already be associated with the cluster to be used in a custom capacity provider strategy\. For more information, see [Amazon ECS capacity providers](cluster-capacity-providers.md)\.
  29:       + To use a **Launch type**, choose **Switch to launch type** and select **FARGATE**, **EC2**, or **EXTERNAL**\. For more information about launch types, see [Amazon ECS launch types](launch_types.md)\.
  30  
  31:    1. For **Platform operating system**, if you chose the Fargate launch type, then select the platform operating system \(for example, **LINUX**\)\.
  32  
  33:    1. For **Platform version**, if you chose a Fargate capacity provider or the Fargate launch type, then select the platform version to use\.
  34: **Note**  
  35: When the **LATEST** platform version is selected, we validate the operating system that was specified for the task, and then set the appropriate platform version\. If the Operating System is set to `Windows-Server-2019-Full` or `Windows-Server-2019-Core`, the `1.0.0` platform is used\. If the operating system is Linux, the `1.4.0` platform version is used\.
  36  
  37:    1. **Cluster**: Select the cluster to create your service in\.
  38  
  39:    1. **Service name**: Enter a unique name for your service\. 
  40  
  41:    1. **Service type**: Select a scheduling strategy for your service\. For more information, see [Service scheduler concepts](ecs_services.md#service_scheduler)\.
  42  
  43:    1. **Number of tasks**: If you chose the `REPLICA` service type, enter the number of tasks to launch and maintain on your cluster\.
  44: **Note**  
  45  If your launch type is `EC2` and your task definition uses static host port mappings on your container instances, then you need at least one container instance with the specified port available in your cluster for each task in your service\. This restriction doesn't apply if your task definition uses dynamic host port mappings with the `bridge` network mode\. For more information, see [portMappings](task_definition_parameters.md#ContainerDefinition-portMappings)\.
  46  
  47:    1. If you're using the **Rolling update** deployment type, specify the following deployment configuration parameters\. For more information about how these parameters are used, see [Deployment configuration](service_definition_parameters.md#sd-deploymentconfiguration)\.
  48:       + **Minimum healthy percent**: Enter a lower limit for the number of tasks that your service must remain in the `RUNNING` state during a deployment\. Specify the number as a percentage of the desired number of tasks\. This number must be a whole number\.
  49:       + **Maximum percent**: Enter an upper limit for the number of tasks that your service allows in the `RUNNING` or `PENDING` state during a deployment\. Specify the number as a percentage of the desired number of tasks\. This number must be a whole number\.
  50  
  51: 1. For **Deployment circuit breaker**, choose the deployment circuit breaker logic\. For more information, see [Deployment circuit breaker](deployment-circuit-breaker.md)\.
  52  
  53: 1. On the **Deployments** page, complete the following steps\.
  54  
  55:    1. For **Deployment type**, choose whether your service uses a rolling update deployment or a blue/green deployment using AWS CodeDeploy\. For more information, see [Amazon ECS Deployment types](deployment-types.md)\.
  56  

  58  
  59:       1. For **Deployment configuration** choose how traffic is shifted when your task set is updated\. For more information, see [Blue/Green deployment with CodeDeploy](deployment-type-bluegreen.md)
  60  
  61:       1. For **Service role for CodeDeploy** choose the IAM service role for AWS CodeDeploy\. For more information, see [Amazon ECS CodeDeploy IAM Role](codedeploy_IAM_role.md)
  62  
  63: 1. \(Optional\) If you selected the EC2 launch type and the `REPLICA` service type, for **Task Placement**, select how tasks are placed using task placement strategies and constraints\. 
  64:    + **AZ Balanced Spread** \- Distribute tasks across Availability Zones and across container instances in the Availability Zone\.
  65:    + **AZ Balanced BinPack** \- Distribute tasks across Availability Zones and across container instances with the least available memory\.
  66:    + **BinPack** \- Distribute tasks based on the least available amount of CPU or memory\.
  67:    + **One Task Per Host** \- Place, at most, one task from the service on each container instance\.
  68:    + **Custom** \- Define your own task placement strategy\. See [Amazon ECS task placement](task-placement.md) for examples\.
  69  
  70: 1. In the **Task tagging configuration** section, complete the following steps:
  71  
  72:    1. Select **Enable ECS managed tags** if you want Amazon ECS to automatically tag the tasks in the service with the Amazon ECS managed tags\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  73  
  74:    1. For **Propagate tags from**, select one of the following:
  75:       + **Do not propagate** – This option will not propagate any tags to the tasks in the service\.
  76:       + **Service** – This option will propagate the tags specified on your service to each of the tasks in the service\.
  77:       + **Task Definitions** – This option will propagate the tags specified in the task definition of a task to the tasks in the service\.
  78: **Note**  
  79: If you specify a tag with the same `key` in the **Tags** section, it will override the tag propagated from either the service or the task definition\.
  80  
  81: 1. In the **Tags** section, specify the key and value for each tag to associate with the task\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  82  
  83: 1. Choose **Next step** and navigate to [Step 2: Configure a network](service-configure-network.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/bind-mounts.md:
  126  
  127: **To allocate an increased amount of ephemeral storage space for a Fargate task**
  128  

  137  
  138: **To provide an empty data volume for one or more containers**
  139  

  184  
  185: **To expose a path and its contents in a Dockerfile to a container**
  186  

  252  
  253: **To provide an empty data volume for a container that's tied to the lifecycle of the host Amazon EC2 instance**
  254  
  255  For tasks that are hosted on Amazon EC2 instances, you can use bind mounts and have the data tied to the lifecycle of the host Amazon EC2 instance\. You can do this by using the `host` parameter and specifying a `sourcePath` value\. Any files that exist at the `sourcePath` are presented to the containers at the `containerPath` value\. Any files that are written to the `containerPath` value are written to the `sourcePath` value on the host Amazon EC2 instance\.
  256: **Important**  
  257  Amazon ECS doesn't sync your storage across Amazon EC2 instances\. Tasks that use persistent storage can be placed on any Amazon EC2 instance in your cluster that has available capacity\. If your tasks require persistent storage after stopping and restarting, always specify the same Amazon EC2 instance at task launch time with the AWS CLI [start\-task](https://docs.aws.amazon.com/cli/latest/reference/ecs/start-task.html) command\. You can also use Amazon EFS volumes for persistent storage\. For more information, see [Amazon EFS volumes](efs-volumes.md)\.

  297  
  298: **To mount a defined volume on multiple containers at different locations**
  299  

  361  
  362: **To mount volumes from another container using `volumesFrom`**
  363  

  449     When this task is run, the two containers mount the volumes, and the `command` in the `busybox` container writes the date and time to a file\. This file is called `date` in each of the volume folders\. The folders are then visible at the website displayed by the `web` container\.
  450: **Note**  
  451  Because the `busybox` container runs a quick command and then exits, it must be set as `"essential": false` in the container definition\. Otherwise, it stops the entire task when it exits\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/bootstrap_windows_container_instance.md:
   8  
   9: **Topics**
  10  + [Default Windows user data](#windows-default-userdata)

  51  
  52: This example user data script installs the Amazon ECS container agent on an instance launched with a **Windows\_Server\-2016\-English\-Full\-Containers** AMI\. It has been adapted from the agent installation instructions on the [Amazon ECS Container Agent GitHub repository](https://github.com/aws/amazon-ecs-agent) README page\.
  53  
  54: **Note**  
  55  This script is shared for example purposes\. It is much easier to get started with Windows containers by using the Amazon ECS\-optimized Windows Server AMI\. For more information, see [Creating a cluster using the classic console](create_cluster.md)\.
  56  
  57: You can use this script for your own container instances \(provided that they are launched with a version of the **Windows\_Server\-2016\-English\-Full\-Containers** AMI\)\. Be sure to replace the `windows` line to specify your own cluster name \(if you are not using a cluster called `windows`\)\.
  58  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cloudwatch_alarm_autoscaling.md:
    2  
    3: **Note**  
    4  In December 2019, Amazon ECS launched cluster auto scaling, as an alternative method for scaling container instances\. For more information, see [Amazon ECS cluster Auto Scaling](cluster-auto-scaling.md)\. 

   21  
   22: **To create a CloudWatch alarm on a metric**
   23  

   25  
   26: 1. On the left navigation, choose **Alarms**, **Create Alarm**\.
   27  
   28: 1. In the **CloudWatch Metrics by Category** section, choose **ECS Metrics > ClusterName**\.
   29  
   30: 1. On the **Modify Alarm** page, choose the `MemoryReservation` metric for the default cluster and choose **Next**\.
   31  
   32: 1. In the **Alarm Threshold** section, enter a name and description for your alarm\.
   33:    + **Name:** `memory-above-75-pct`
   34:    + **Description:** `Cluster memory reservation above 75%`
   35  

   40  
   41: 1. Choose **Create Alarm**\. Now you can use this alarm to have your Auto Scaling group to add a container instance when the memory reservation is above 75%\.
   42  

   48  
   49: **To create an Auto Scaling launch configuration**
   50  

   52  
   53: 1. On the left navigation pane, choose **Auto Scaling Groups**\.
   54  
   55: 1. On the **Welcome to Auto Scaling** page, choose **Create Auto Scaling Group**\.
   56  
   57: 1. On the **Create Auto Scaling Group** page, choose **Create a new launch configuration**\.
   58  
   59: 1. On the **Choose AMI** step of the **Create Auto Scaling Group** wizard, choose **Community AMIs**\.
   60  

   62  
   63: 1. On the **Choose Instance Type** step of the **Create Auto Scaling Group** wizard, choose an instance type for your Auto Scaling group and choose **Next: Configure details**\.
   64  
   65: 1. On the **Configure details** step of the **Create Auto Scaling Group** wizard, enter the following information\. The other fields are optional\. For more information, see [Creating Launch Configurations](https://docs.aws.amazon.com/autoscaling/latest/userguide/WorkingWithLaunchConfig.html) in the *Amazon EC2 Auto Scaling User Guide*\.
   66:    + **Name:** Enter a name for your launch configuration\.
   67:    + **IAM role:** Select the `ecsInstanceRole` for your container instances\. If you do not have this role configured, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
   68:    + **IP Address Type:** Select the IP address type option for your container instances\. To allow external traffic to be able to reach your containers, choose **Assign a public IP address to every instance\.**
   69  
   70: 1. Expand the **Advanced Details** section to specify user data for your Amazon ECS container instances\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.
   71  
   72:    Paste the following script into the **User data** field\. Reference the cluster name that you are working with\. 
   73  

   78  
   79: 1. Choose **Next: Add Storage**\.
   80  
   81: 1. On the **Add Storage** step of the **Create Auto Scaling Group** wizard, make any storage configuration changes needed for your instances and choose **Next: Configure Security Group**\.
   82  
   83: 1. On the **Configure Security Group** step of the **Create Auto Scaling Group** wizard, select an existing security group that meets the needs of your containers, or create a new security group, and choose **Review**\.
   84  
   85: 1. Review your launch configuration and choose **Create launch configuration**\.
   86  
   87: 1. Select a private key to use for connecting to your instances with SSH and choose **Create launch configuration**\. Move on to creating an Auto Scaling group with your new launch configuration\.
   88  

   92  
   93: **To create an Auto Scaling group with step scaling policies**
   94  
   95: 1. On the **Configure Auto Scaling group details** step of the **Create Auto Scaling Group** wizard, enter the following information and then choose **Next: Configure scaling policies**:
   96:    + **Group name:** Enter a name for your Auto Scaling group\.
   97:    + **Group size:** Specify the number of container instances with which your Auto Scaling group should start\.
   98:    + **Network:** Select a VPC into which to launch your container instances\.
   99:    + **Subnet:** Select the subnets into which to launch your container instances\. For a highly available cluster, we recommend that you use all of the subnets in the Region to spread the instances across the Availability Zones\.
  100  
  101: 1. On the **Configure scaling policies** step of the **Create Auto Scaling Group** wizard, choose **Use scaling policies to adjust the capacity of this group**\.
  102  

  104  
  105: 1. Choose **Scale the Auto Scaling group using step or simple scaling policies**\.
  106  
  107: 1. In the **Increase Group Size** section, enter the following information:
  108:    + **Execute policy when:** Select the `memory-above-75-pct` CloudWatch alarm that you configured earlier\.
  109:    + **Take the action:** Enter the number of capacity units \(instances\) to add to your cluster when the alarm is generated\.
  110  
  111: 1. If you configured an alarm to start a group size reduction, set that alarm in the **Decrease Group Size** section and specify how many instances to remove if that alarm is generated\. Otherwise, collapse the **Decrease Group Size** section by choosing the **X** in the upper\-right\-hand corner of the section\.
  112: **Note**  
  113  If you configure your Auto Scaling group to remove container instances, any tasks running on the removed container instances are stopped\. If your tasks are running as part of a service, Amazon ECS restarts those tasks on another instance if the required resources are available \(CPU, memory, ports\)\. However, tasks that were started manually are not restarted automatically\.
  114  
  115: 1. Choose **Review**, **Create Auto Scaling Group**\.
  116  

  118  
  119: Now that you've created your Auto Scaling group, you should see your instances launching in the Amazon EC2 console **Instances** page\. These instances should register into your ECS cluster as well after they launch\. 
  120  
  121: Verify that the EC2 instances are registered with the cluster\. From the ECS console, select the cluster that you registered your instances with\. On the **Cluster** page, choose **ECS Instances**\. Verify that the **Agent Connected** value is **True** for the instances displayed\.
  122  

  128  
  129: **To delete a step scaling policy and its associated CloudWatch alarm**
  130  

  132  
  133: 1. On the navigation pane, under **Auto Scaling**, choose **Auto Scaling Groups**\.
  134  

  136  
  137: 1. On the **Scaling Policies** tab, choose **Actions**, **Delete**\. 
  138  
  139: 1. When prompted for confirmation, choose **Yes, Delete**\.
  140  

  144  
  145:    1. On the navigation pane, choose **Alarms**\.
  146  
  147:    1. Choose the alarm and choose **Action**, **Delete**\.
  148  
  149:    1. When prompted for confirmation, choose **Delete**\.
  150  

  152  
  153: **To delete your Auto Scaling group**
  154  

  156  
  157: 1. On the left navigation pane, choose **Auto Scaling Groups**\.
  158  

  160  
  161: 1. Choose **Actions**, **Delete**\.
  162  
  163: 1. Choose **Yes, Delete**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cloudwatch_event_stream.md:
  20  
  21: **Topics**
  22  + [Amazon ECS events](ecs_cwe_events.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cloudwatch-container-insights.md:
   6  
   7: **Important**  
   8  Metrics collected by CloudWatch Container Insights are charged as custom metrics\. For more information about CloudWatch pricing, see [CloudWatch Pricing](https://aws.amazon.com/cloudwatch/pricing/)\. Amazon ECS also provides monitoring metrics that are provided at no additional cost\. For more information, see [Amazon ECS CloudWatch metrics](cloudwatch-metrics.md)\.

  21  
  22: **Important**  
  23  For clusters containing tasks or services using the EC2 launch type, your container instances must be running version 1\.29\.0 or later of the Amazon ECS agent\. For more information, see [Amazon ECS Linux container agent versions](ecs-agent-versions.md)\.

  32  
  33: 1. In the navigation page, choose **Account Settings**\.
  34  
  35: 1. Choose **Update**\.
  36  
  37: 1. Under **CloudWatch Container Insights**, select **CloudWatch Container Insights**\.
  38: **Important**  
  39  You must give users the `ecs:PutAccountSetting` permission to perform this action\.  

  41  
  42: 1. Choose **Save changes**\.
  43  
  44: 1. On the confirmation screen, choose **Confirm** to save the selection\.
  45  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cloudwatch-metrics.md:
    6  
    7: **Topics**
    8  + [Using CloudWatch metrics](#enable_cloudwatch)

   27  
   28: **Note**  
   29  You can disable CloudWatch metrics collection by setting `ECS_DISABLE_METRICS=true` in your Amazon ECS container agent configuration\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.

  165  
  166: **Note**  
  167  If you're using tasks with the EC2 launch type and have Linux container instances, the Amazon ECS container agent relies on Docker `stats` metrics to gather CPU and memory data for each container running on the instance\. For burstable performance instances \(T3, T3a, and T2 instances\), the CPU utilization metric may reflect different data compared to instance\-level CPU metrics\.

  278  
  279: **Note**  
  280  In this example, the CPU utilization will only go above 100% when the CPU units are defined at the container level\. If you define CPU units at the task level, the utilization will not go above the defined task\-level limit\.

  295  
  296: **To view the number of running tasks in a service**
  297  

  299  
  300: 1. On the navigation pane, choose **Metrics**, **All metrics**\.
  301  
  302: 1. On the **Browse** tab, choose the **ECS** namespace\.
  303  
  304: 1. Choose **ClusterName**, **ServiceName** and then choose any metric \(either `CPUUtilization` or `MemoryUtilization`\) that corresponds to the service to view running tasks in\.
  305  
  306: 1. On the **Graphed metrics** tab, change **Period** to **1 Minute** and **Statistic** to **Sample Count**\.
  307  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cluster-auto-scaling.md:
   2  
   3: **Important**  
   4  As of May 27, 2022, Amazon ECS changed how the resources that facilitate cluster Auto Scaling is managed\. To learn more, see [Update on the way Amazon ECS creates resources for cluster auto scaling](#update-ecs-resources-cas)\.

   7  
   8: **Note**  
   9  Amazon ECS cluster auto scaling is only supported with Auto Scaling group capacity providers\. For Amazon ECS workloads that are hosted on AWS Fargate, see [AWS Fargate capacity providers](fargate-capacity-providers.md)\.

  30  + A target tracking scaling policy
  31: **Note**  
  32  Amazon ECS creates the target tracking scaling policy and attaches it to the Auto Scaling group\. To update the target tracking scaling policy, update the capacity provider managed scaling settings, rather than updating the scaling policy directly\.

  42  Amazon ECS initiates the `CapacityProviderReservation` metric, and then publishes the metric to CloudWatch in the `AWS/ECS/ManagedScaling` namespace\. The `CapacityProviderReservation` metric causes one of the following actions to occur:
  43: + **The `CapacityProviderReservation` value equals 100% \-** The Auto Scaling group doesn't need to scale in or scale out\. This is because all container instances are running at least one non\-daemon task\.
  44: + **The `CapacityProviderReservation` value is greater than 100% \- **There are no available instances for the launched tasks\. The `CapacityProviderReservation` metric generates a CloudWatch alarm\. This alarm updates the `DesiredCapacity` value for the Auto Scaling group\. The Auto Scaling group uses this value to launch EC2 instances, and then register them with the cluster\.
  45: + **The `CapacityProviderReservation` value is less than 100% \- **There's at least one container instance that's not running a non\-daemon task\. The `CapacityProviderReservation` metric generates a CloudWatch alarm\. This alarm updates the `DesiredCapacity` value for the Auto Scaling group\. The Auto Scaling group uses this value to terminate EC2 container instances, and then deregister them from the cluster\.
  46  

  52  + When using capacity providers with Auto Scaling groups, the user, group, or role that creates the capacity providers requires the `autoscaling:CreateOrUpdateTags` permission\. This is because Amazon ECS adds a tag to the Auto Scaling group when it associates it with the capacity provider\.
  53: **Important**  
  54  Make sure any tooling that you use doesn't remove the `AmazonECSManaged` tag from the Auto Scaling group\. If this tag is removed, Amazon ECS can't manage it when scaling your cluster\.
  55: + Cluster Auto Scaling doesn't modify the **MinimumCapacity** or **MaximumCapacity** for the group\. For the group to scale out, the value for **MaximumCapacity** must be greater than zero\.
  56  + When Auto Scaling \(managed scaling\) is turned on, a capacity provider can only be connected to one cluster at the same time\. If your capacity provider has managed scaling turned off, you can associate it with multiple clusters\.

  86  1. When you use multiple instance types in an AS; group, the instance types in the Auto Scaling group are sorted by their parameters\. These parameters include vCPU, memory, elastic network interfaces \(ENIs\), ports, and GPUs\. The smallest and the largest instance types for each parameter are selected\. For more information about how to choose the instance type, see [Characterizing your application](https://docs.aws.amazon.com/AmazonECS/latest/bestpracticesguide/capacity-autoscaling.html#capacity-autoscaling-app) in the *Amazon ECS Best Practices Guide*\.
  87: **Important**  
  88  If a group of tasks have resource requirements that are greater than the smallest instance type in the Auto Scaling group, then that group of tasks can’t run with this capacity provider\. The capacity provider doesn’t scale the Auto Scaling group\. The tasks remain in the `PENDING` state\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cluster-capacity-providers.md:
  57  
  58: **Topics**
  59  + [Capacity provider concepts](#capacity-providers-concepts)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cluster-query-language.md:
   14  
   15: **Subject**  
   16  The attribute or field to be evaluated\.

   44  
   45: **Operator**  
   46  The comparison operator\. The following operators are supported\.

   63  
   64: **Note**  
   65  A single expression can't contain parentheses\. However, parentheses can be used to specify precedence in compound expressions\.
   66  
   67: **Argument**  
   68  For many operators, the argument is a literal value\.

   77  
   78: **Compound expressions**
   79  

   94  
   95: **Example: String Equality**  
   96  The following expression selects instances with the specified instance type\.

  101  
  102: **Example: Argument List**  
  103  The following expression selects instances in the us\-east\-1a or us\-east\-1b Availability Zone\.

  108  
  109: **Example: Compound Expression**  
  110  The following expression selects G2 instances that aren't in the us\-east\-1d Availability Zone\.

  115  
  116: **Example: Task Affinity**  
  117  The following expression selects instances that are hosting tasks in the `service:production` group\.

  122  
  123: **Example: Task Anti\-Affinity**  
  124  The following expression selects instances that aren't hosting tasks in the database group\.

  129  
  130: **Example: Running task count**  
  131  The following expression selects instances that are only running one task\.

  136  
  137: **Example: Amazon ECS container agent version**  
  138  The following expression selects instances that are running a container agent version below 1\.14\.5\.

  143  
  144: **Example: Instance registration time**  
  145  The following expression selects instances that were registered before February 13, 2018\.

  150  
  151: **Example: Amazon EC2 instance ID**  
  152  The following expression selects instances with the following Amazon EC2 instance IDs\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/cluster-regions-zones.md:
  7  
  8: **Important**  
  9  Amazon ECS on AWS Fargate workloads aren't supported in Local Zones, Wavelength Zones, or on AWS Outposts at this time\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/clusters.md:
  6  
  7: **Topics**
  8  + [Cluster concepts](#clusters-concepts)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/codedeploy_IAM_role.md:
    4  
    5: **Note**  
    6  Users also require permissions to use CodeDeploy; these permissions are described in [Blue/green deployment required IAM permissions](deployment-type-bluegreen.md#deployment-type-bluegreen-IAM)\. 

  129  
  130: **To create an IAM role for CodeDeploy**
  131  

  133  
  134: 1. In the navigation pane, choose **Roles**, **Create role**\. 
  135  
  136: 1. For **Select type of trusted entity** section, choose **AWS service**\.
  137  
  138: 1. For **Choose the service that will use this role**, choose **CodeDeploy**\.
  139  
  140: 1. For **Select your use case**, choose **CodeDeploy \- ECS**, **Next**\.
  141  
  142: 1. In the **Attach permissions policy** section, do the following:
  143  
  144:    1. Search for **AWSCodeDeployRoleForECS**, then select the policy\.
  145  
  146:    1. Under **Set permissions boundary \- optional**, choose **Create role without a permissions boundary**\.
  147  
  148:    1. Choose **Next**\.
  149  
  150: 1. Under **Role details**, do the following: 
  151  
  152:    1. For **Role name**, enter `ecsCodeDeployRole`, and enter an optional description\.
  153  
  154:    1. For **Add tags \(optional\)**, enter any custom tags to associate with the policy \.
  155  
  156: 1. Choose **Create role**\.
  157  
  158: **To add the required permissions to the Amazon ECS CodeDeploy IAM role**
  159  

  163  
  164: 1. In the **Permissions policies** section, verify that either the **AWSCodeDeployRoleForECS** or **AWSCodeDeployRoleForECSLimited** managed policy is attached to the role\. If the policy is attached, your Amazon ECS CodeDeploy service role is properly configured\. If not, follow the substeps below to attach the policy\.
  165  
  166:    1. Choose **Add Permissions**, **Attach policies**\.
  167  
  168:    1. To narrow the available policies to attach, for **Filter**, type **AWSCodeDeployRoleForECS** or **AWSCodeDeployRoleForECSLimited**\.
  169  
  170:    1. Check the box to the left of the AWS managed policy, and then choose **Attach policy**\.
  171  
  172: 1. Choose **Trust relationships**\.
  173  
  174: 1. Verify that the trust relationship contains the following policy\. If the trust relationship matches the policy below, choose **Cancel**\. If the trust relationship does not match, choose **Edit trust policy**, copy the policy into the **Policy Document** window, and then choose **Update policy**\.
  175  

  199  
  200: **To use the JSON policy editor to create a policy**
  201  

  203  
  204: 1. In the navigation column on the left, choose **Policies**\. 
  205  
  206:    If this is your first time choosing **Policies**, the **Welcome to Managed Policies** page appears\. Choose **Get Started**\.
  207  
  208: 1. At the top of the page, choose **Create policy**\.
  209  
  210: 1. Choose the **JSON** tab\.
  211  

  228  
  229: 1. Choose **Review policy**\.
  230: **Note**  
  231: You can switch between the **Visual editor** and **JSON** tabs any time\. However, if you make changes or choose **Review policy** in the **Visual editor** tab, IAM might restructure your policy to optimize it for the visual editor\. For more information, see [Policy restructuring](https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_policies.html#troubleshoot_viseditor-restructure) in the *IAM User Guide*\.
  232  
  233: 1. On the **Review policy** page, enter a **Name** and an optional **Description** for the policy that you are creating\. Review the policy **Summary** to see the permissions that are granted by your policy\. Then choose **Create policy** to save your work\.
  234  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/container-instance-draining.md:
  10  + If `minimumHealthyPercent` is below 100%, the scheduler can ignore `desiredCount` temporarily during task replacement\. For example, `desiredCount` is four tasks, a minimum of 50% allows the scheduler to stop two existing tasks before starting two new tasks\. If the minimum is 100%, the service scheduler can't remove existing tasks until the replacement tasks are considered healthy\. If tasks for services that do not use a load balancer are in the `RUNNING` state, they are considered healthy\. Tasks for services that use a load balancer are considered healthy if they are in the `RUNNING` state and the container instance they are hosted on is reported as healthy by the load balancer\.
  11: **Important**  
  12  If you use Spot Instances and `minimumHealthyPercent` is greater than or equal to 100%, then the service will not have enough time to replace the task before the Spot Instance terminates\.
  13  + The `maximumPercent` parameter represents an upper limit on the number of running tasks during task replacement, which allows you to define the replacement batch size\. For example, if `desiredCount` of four tasks, a maximum of 200% starts four new tasks before stopping the four tasks to be drained \(provided that the cluster resources required to do this are available\)\. If the maximum is 100%, then replacement tasks can't start until the draining tasks have stopped\.
  14: **Important**  
  15  If both `minimumHealthyPercent` and `maximumPercent` are 100%, then the service can't remove existing tasks, and also cannot start replacement tasks\. This prevents successful container instance draining and prevents making new deployments\.

  30  
  31: **New AWS Management Console**
  32  

  34  
  35: 1. In the navigation pane, choose **Clusters**\.
  36  
  37: 1. On the **Clusters** page, choose a cluster that hosts your instances\.
  38  
  39: 1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\. Then, under **Container instances** select the check box for each container instance you want to drain\.
  40  
  41: 1. Choose **Actions**, **Drain**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/container-instance-eni.md:
    2  
    3: **Note**  
    4  This feature is not available on Fargate\.

   16  + Only new Amazon EC2 instances launched after opting in to `awsvpcTrunking` receive the increased ENI limits and the trunk network interface\. Previously launched instances do not receive these features regardless of the actions taken\.
   17: + Amazon EC2 instances must have resource\-based IPv4 DNS requests turned off\. To disable this option, ensure the **Enable resource\-based IPV4 \(A record\) DNS requests** option is deselected when creating a new instance using the Amazon EC2 console\. To disable this option using the AWS CLI, use the following command\.
   18  

   25  + When launching a new container instance, the instance transitions to a `REGISTERING` status while the trunk elastic network interface is provisioned for the instance\. If the registration fails, the instance transitions to a `REGISTRATION_FAILED` status\. You can troubleshoot a failed registration by describing the container instance to view the `statusReason` field which describes the reason for the failure\. The container instance then can be manually deregistered or terminated\. Once the container instance is successfully deregistered or terminated, Amazon ECS will delete the trunk ENI\.
   26: **Note**  
   27  Amazon ECS emits container instance state change events which you can monitor for instances that transition to a `REGISTRATION_FAILED` state\. For more information, see [Container instance state change events](ecs_cwe_events.md#ecs_container_instance_events)\.

   47  
   48: **Important**  
   49: Amazon EC2 instances must have resource\-based IPv4 DNS requests turned off\. To disable this option, ensure the **Enable resource\-based IPV4 \(A record\) DNS requests** option is deselected when creating a new instance using the Amazon EC2 console\. To disable this option using the AWS CLI, use the following command\.  
   50  

   54  
   55: **To opt in all IAM users or roles on your account to the increased ENI limits \(AWS Management Console\)**
   56  

   60  
   61: 1. From the dashboard, choose **Account Settings**\.
   62  
   63: 1. For **IAM user or role**, ensure your root user or container instance IAM role is selected\.
   64  
   65: 1. For **AWSVPC Trunking**, select the check box\. Choose **Save** once finished\.
   66: **Important**  
   67  IAM users and IAM roles need the `ecs:PutAccountSetting` permission to perform this action\.
   68  
   69: 1. On the confirmation screen, choose **Confirm** to save the selection\.
   70  
   71: **To opt in all user or roles on your account to the increased ENI limits using the command line**
   72  

   88  
   89: **To opt in a user or container instance IAM role to the increased ENI limits as the account owner using the command line**
   90  

  126  
  127: **To view your container instances with increased ENI limits with the AWS CLI**
  128  

  148  
  149: **Important**  
  150  Although other instance types are supported in the same instance family, the `a1.metal`, `c5.metal`, `c5a.8xlarge`, `c5ad.8xlarge`, `c5d.metal`, `m5.metal`, `p3dn.24xlarge`, `r5.metal`, `r5.8xlarge`, and `r5d.metal` instance types are not supported\.  

  152  
  153: **Topics**
  154  + [General purpose](#eni-branch-gp)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/container-instance-spot.md:
  10  
  11: **Important**  
  12  Amazon ECS does not receive a notice from Amazon EC2 when instances are removed by Auto Scaling Capacity Rebalancing\. For more information, see [Amazon EC2 Auto Scaling Capacity Rebalancing](https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-capacity-rebalancing.html)\.

  15  
  16: Spot Instance draining is turned off by default and must be manually enabled\. To enable Spot Instance draining for a new container instance, when launching the container instance add the following script into the **User data** field, replacing *MyCluster* with the name of the cluster to register the container instance to\.
  17  

  27  
  28: **To turn on Spot Instance draining for an existing container instance**
  29  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/container-metadata.md:
    6  
    7: **Topics**
    8  + [Turning on container metadata](#enable-metadata)

   28  By default, the container metadata file is written to the following host and container paths\.
   29: + **For Linux instances:**
   30    + Host path: `/var/lib/ecs/data/metadata/cluster_name/task_id/container_name/ecs-container-metadata.json`
   31: **Note**  
   32  The Linux host path assumes that the default data directory mount path \(`/var/lib/ecs/data`\) is used when the agent is started\. If you are not using an Amazon ECS\-optimized AMI \(or the `ecs-init` package to start and maintain the container agent\), be sure to set the `ECS_HOST_DATA_DIR` agent configuration variable to the host path where the container agent's state file is located\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.
   33    + Container path: `/opt/ecs/metadata/random_ID/ecs-container-metadata.json`
   34: + **For Windows instances:**
   35    + Host path: `C:\ProgramData\Amazon\ECS\data\metadata\task_id\container_name\ecs-container-metadata.json`

   38  However, for easy access, the container metadata file location is set to the `ECS_CONTAINER_METADATA_FILE` environment variable inside the container\. You can read the file contents from inside the container with the following command:
   39: + **For Linux instances:**
   40  

   43    ```
   44: + **For Windows instances \(PowerShell\):**
   45  

  118  
  119: **Example Amazon ECS container metadata file \(`READY`\)**  
  120  The following example shows a container metadata file in the `READY` status\.  

  156  
  157: **Example Incomplete Amazon ECS container metadata file \(not yet `READY`\)**  
  158  The following example shows a container metadata file that has not yet reached the `READY` status\. The information in the file is limited to a few parameters that are known from the task definition\. The container metadata file should be ready within 1 second after the container starts\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create_cluster.md:
   13  
   14: **To create a cluster \(AWS Management Console\)**
   15  

   19  
   20: 1. In the navigation pane, choose **Clusters**\.
   21  
   22: 1. On the **Clusters** page, choose **Create Cluster**\.
   23  
   24: 1. For **Select cluster compatibility**, choose one of the following options and then choose **Next Step**:
   25:    + **Networking only**– This cluster template creates an empty cluster\. Optionally, you can create a new VPC to use\. This cluster template is typically used for workloads hosted on either AWS Fargate or external instances \(ECS Anywhere\)\. The `FARGATE` and `FARGATE_SPOT` capacity providers will be automatically associated with the cluster\. For more information, see [AWS Fargate capacity providers](fargate-capacity-providers.md)\.
   26:    + **EC2 Linux \+ Networking**– This cluster template is used to create a cluster of Amazon EC2 instances to run Linux\-based containers on\. An Auto Scaling group is created for the Amazon EC2 instances\.
   27:    + **EC2 Windows \+ Networking** – This cluster template is used to create a cluster of Amazon EC2 instances to run Windows\-based containers on\. An Auto Scaling group is created for the Amazon EC2 instances\. For more information, see [Amazon EC2 Windows containers](ECS_Windows.md)\.
   28  

   30  
   31: If you chose the **Networking only** cluster template, complete the following steps\. Otherwise, skip to [Using the EC2 Linux \+ Networking or EC2 Windows \+ Networking template](#create-cluster-ec2)\.
   32  
   33: **Using the **Networking only** cluster template**
   34  
   35: 1. On the **Configure cluster** page, enter a **Cluster name**\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
   36  
   37: 1. In the **Networking** section, configure the VPC for your cluster\. You can keep the default settings, or you can modify these settings with the following steps\.
   38  
   39:    1. \(Optional\) If you choose to create a new VPC, for **CIDR Block**, select a CIDR block for your VPC\. For more information, see [Your VPC and Subnets](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html) in the *Amazon VPC User Guide*\.
   40  
   41:    1. For **Subnets**, select the subnets to use for your VPC\. You can keep the default settings, or you can modify them to meet your needs\.
   42  
   43: 1. In the **Tags** section, specify the key and value for each tag to associate with the cluster\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
   44  
   45: 1. In the **CloudWatch Container Insights** section, choose whether to turn on Container Insights for the cluster\. For more information, see [Amazon ECS CloudWatch Container Insights](cloudwatch-container-insights.md)\.
   46  
   47: 1. Choose **Create**\.
   48  

   50  
   51: If you chose the **EC2 Linux \+ Networking** or **EC2 Windows \+ Networking** templates, complete the following steps\.
   52  
   53: **Using the **EC2 Linux \+ Networking** or **EC2 Windows \+ Networking** cluster template**
   54  
   55: 1. For **Cluster name**, enter a name for your cluster\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
   56  
   57: 1. \(Optional\) To create a cluster with no resources, choose **Create an empty cluster**, **Create**\.
   58  
   59: 1. For **Provisioning model**, choose one of the following instance types:
   60:    + **On\-Demand Instance**– With On\-Demand Instances, you pay for compute capacity by the hour with no long\-term commitments or upfront payments\.
   61:    + **Spot**– Spot Instances allow you to bid on spare Amazon EC2 computing capacity for up to 90% off the On\-Demand price\. For more information, see [Spot Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html)\.
   62: **Note**  
   63  Spot Instances are subject to possible interruptions\. We recommend that you avoid Spot Instances for applications that can't be interrupted\. For more information, see [Spot Instance Interruptions](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-interruptions.html)\.

   66  
   67:    1. For **Spot Instance allocation strategy**, choose the strategy that meets your needs\. For more information, see [Spot Fleet Allocation Strategy](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-fleet.html#spot-fleet-allocation-strategy)\.
   68  
   69:    1. For **Maximum bid price \(per instance/hour\)**, specify a bid price\. If your bid price is lower than the Spot price for the instance types that you selected, your Spot Instances are not launched\.
   70  
   71: 1. For **EC2 instance type**, choose the Amazon EC2 instance type for your container instances\. The instance type that you select determines the EC2 AMI Ids and resources available for your tasks\. For GPU workloads, choose an instance type from the P2 or P3 instance family\. For more information, see [Working with GPUs on Amazon ECS](ecs-gpu.md)\.
   72  
   73: 1. For **Number of instances**, choose the number of EC2 instances to launch into your cluster\. These instances are launched using the latest Amazon ECS\-optimized Amazon Linux AMI required by the instance type you chose\. For more information, see [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)\.
   74  
   75: 1. For **EC2 AMI Id**, choose the Amazon ECS\-optimized AMI for your container instances\. The available AMIs will be determined by the Region and EC2 instance type you chose\. For more information, see [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)\.
   76  
   77: 1. For **EBS storage \(GiB\)**, choose the size of the Amazon EBS volume to use for data storage on your container instances\. You can increase the size of the data volume to allow for greater image and container storage\.
   78  
   79: 1. For **Key pair**, choose an Amazon EC2 key pair to use with your container instances for SSH access\. If you do not specify a key pair, you cannot connect to your container instances with SSH\. For more information, see [Amazon EC2 Key Pairs](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html) in the *Amazon EC2 User Guide for Linux Instances*\.
   80  
   81: 1. In the **Networking** section, configure the VPC to launch your container instances into\. By default, the cluster creation wizard creates a new VPC with two subnets in different Availability Zones, and a security group open to the internet on port 80\. This is a basic setup that works well for an HTTP service\. However, you can modify these settings by following the substeps below\.
   82  
   83:    1. For **VPC**, create a new VPC, or select an existing VPC\.
   84  
   85:    1. \(Optional\) If you chose to create a new VPC, for **CIDR Block**, select a CIDR block for your VPC\. For more information, see [Your VPC and Subnets](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html) in the *Amazon VPC User Guide*\.
   86  
   87:    1. For **Subnets**, select the subnets to use for your VPC\. If you chose to create a new VPC, you can keep the default settings or you can modify them to meet your needs\. If you chose to use an existing VPC, select one or more subnets in that VPC to use for your cluster\.
   88  
   89:    1. For **Security group**, select the security group to attach to the container instances in your cluster\. If you choose to create a new security group, you can specify a CIDR block to allow inbound traffic from\. The default port 0\.0\.0\.0/0 is open to the internet\. You can also select a single port or a range of contiguous ports to open on the container instance\. For more complicated security group rules, you can choose an existing security group that you have already created\.
   90: **Note**  
   91  You can also choose to create a new security group and then modify the rules after the cluster is created\. For more information, see [Amazon EC2 Security Groups for Linux Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html) in the *Amazon EC2 User Guide for Linux Instances*\.
   92  
   93:    1. In the **Container instance IAM role** section, select the IAM role to use with your container instances\. If your account has the **ecsInstanceRole** that is created for you in the console first\-run wizard, it is selected by default\. If you do not have this role in your account, you can choose to create the role, or you can choose another IAM role to use with your container instances\.
   94: **Important**  
   95  The IAM role you use must have the `AmazonEC2ContainerServiceforEC2Role` managed policy attached to it, otherwise you will receive an error during cluster creation\. If you do not launch your container instance with the proper IAM permissions, your Amazon ECS agent does not connect to your cluster\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
   96  
   97:    1. If you chose the Spot Instance type earlier, the **Spot Fleet Role IAM role** section indicates that an IAM role `ecsSpotFleetRole` is created\.
   98  
   99:    1. In the **Tags** section, specify the key and value for each tag to associate with the cluster\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  100  
  101:    1. In the **CloudWatch Container Insights** section, choose whether to turn on Container Insights for the cluster\. For more information, see [Amazon ECS CloudWatch Container Insights](cloudwatch-container-insights.md)\.
  102  
  103:    1. Choose **Create**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-application-load-balancer.md:
   12  
   13: **To create a target group**
   14  

   16  
   17: 1. On the navigation pane, under **Load Balancing**, choose **Target Groups**\.
   18  
   19: 1. Choose **Create target group**\.
   20  
   21: 1. For **Choose a target type**, select the target type\.
   22: **Important**  
   23: If your service's task definition uses the `awsvpc` network mode \(which is required for the Fargate launch type\), you must choose **IP addresses** as the target type This is because tasks that use the `awsvpc` network mode are associated with an elastic network interface, not an Amazon EC2 instance\.
   24  
   25: 1. For **Target group name**, type a name for the target group\. This name must be unique per region per account, can have a maximum of 32 characters, must contain only alphanumeric characters or hyphens, and must not begin or end with a hyphen\.
   26  
   27: 1. \(Optional\) For **Protocol** and **Port**, modify the default values as needed\.
   28  
   29: 1. If the target type is **IP addresses**, choose **IPv4**\.
   30  
   31: 1. For **VPC**, select a virtual private cloud \(VPC\)\. Note that for **IP addresses** target types, the VPCs available for selection are those that support the **IP address type** that you chose in the previous step\. 
   32  
   33: 1. \(Optional\) For **Protocol version**, leave the default\.
   34  
   35: 1. \(Optional\) In the **Health checks** section, keep the default settings\.
   36  

   38  
   39:    1. Expand the **Tags** section\.
   40  
   41:    1. Choose **Add tag**\.
   42  

   44  
   45: 1. Choose **Next**\.
   46  
   47: 1. Choose **Create target group**\.
   48  

   54  
   55: **To configure your load balancer and listener**
   56  

   58  
   59: 1. In the navigation pane, under **Load Balancing**, choose **Load Balancers**\.
   60  
   61: 1. Choose **Create Load Balancer**\.
   62  
   63: 1. Under **Application Load Balancer**, choose **Create**\.
   64  
   65: 1. Under **Basic configuration**, do the following:
   66  
   67:    1. For **Load balancer name**, enter a name for your load balancer\. For example, **my\-alb**\. The name of your Application Load Balancer must be unique within your set of Application Load Balancers and Network Load Balancers for the Region\. Names can have a maximum of 32 characters, and can contain only alphanumeric characters and hyphens\. They cannot begin or end with a hyphen, or with `internal-`\.
   68  
   69:    1. For **Scheme**, choose **Internet\-facing** or **Internal**\. An internet\-facing load balancer routes requests from clients to targets over the internet\. An internal load balancer routes requests to targets using private IP addresses\.
   70  
   71:    1. For **IP address type**, choose **IPv4** or **Dualstack**\. Use **IPv4** if your clients use IPv4 addresses to communicate with the load balancer\. Choose **Dualstack** if your clients use both IPv4 and IPv6 addresses to communicate with the load balancer\. 
   72  
   73: 1. Under **Network mapping**, do the following:
   74  
   75:    1. For **VPC**, select the same VPC that you used for the container instances on which you intend to run your service\.
   76  
   77:    1. For **Mappings**, select the check box for the Availability Zones to use for your load balancer\. If there is one subnet for that Availability Zone, it is selected\. If there is more than one subnet for that Availability Zone, select one of the subnets\. You can select only one subnet per Availability Zone\. Your load balancer subnet configuration must include all Availability Zones that your container instances reside in\.
   78  
   79: 1. Under **Security groups**, do the following:
   80  
   81:    For **Security groups**, select an existing security group, or create a new one\. 
   82  

   84  
   85:    \(Optional\) To create a new security group for your load balancer, choose **Create a new security group**\.
   86  
   87: 1. Under **Listeners and routing**, do the following:
   88  
   89:    The default listener accepts HTTP traffic on port 80\. You can keep the default protocol and port\. For **Default action**, choose the target group that you created\. You can optionally choose **Add listener** to add another listener \(for example, an HTTPS listener\)\.
   90  

   92  
   93:    When you use HTTPS for your load balancer listener, you must deploy an SSL certificate on your load balancer\. The load balancer uses this certificate to terminate the connection and decrypt requests from clients before sending them to the targets\. Under **Secure listener settings**, do the following: 
   94  
   95:    1. For **Select policy**, choose a predefined security policy\. For details on the security policies, see [Security Policies](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/create-https-listener.html#describe-ssl-policies) in *Elastic Load Balancing Application Load Balancers*\.
   96  
   97:    1. For **Default SSL certificate**, do one of the following:
   98:       + If you created or imported a certificate using AWS Certificate Manager, select **From ACM**, and then select the certificate\.
   99:       + If you uploaded a certificate using IAM, select **From IAM**, and then select the certificate\.
  100        + If you want to import a certificate to ACM or IAM , enter a certificate name\. Then, paste the PEM\-encoded private key and body\.
  101  
  102: 1. \(Optional\) You can use **Add\-on services**, such as the **AWS Global Accelerator** to create an accelerator and associate the load balancer with the accelerator\. The accelerator name can have up to 64 characters\. Allowed characters are a\-z, A\-Z, 0\-9, \. and \- \(hyphen\)\. After the accelerator is created, you can use the **AWS Global Accelerator** console to manage it\. 
  103  
  104: 1. \(Optional\) Tag your Application Load Balancer\. Under **Tag and create**, do the following
  105  
  106:    1. Expand the **Tags** section\.
  107  
  108:    1. Choose **Add tag**\.
  109  

  111  
  112: 1. Review your configuration, and choose **Create load balancer**\. 
  113  

  117  
  118: **To allow inbound traffic from your load balancer to your container instances**
  119  

  121  
  122: 1. In the left navigation, choose **Security Groups**\.
  123  
  124: 1. Choose the security group that your container instances use\. If you created your container instances by using the Amazon ECS first run wizard, this security group may have the description, **ECS Allowed Ports**\.
  125  
  126: 1. Choose the **Inbound** tab, and then choose **Edit inbound rules**\.
  127  
  128: 1. For **Type**, choose **All traffic**\.
  129  
  130: 1. For **Source**, choose **Custom**, and then select the Application Load Balancer security group\. This rule allows all traffic from your Application Load Balancer to reach the containers in your tasks that are registered with your load balancer\. 
  131  
  132: 1. Choose **Save** to finish\.
  133  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-blue-green.md:
    6  
    7: **Note**  
    8  Support for performing a blue/green deployment has been added for AWS CloudFormation\. For more information, see [Perform Amazon ECS blue/green deployments through CodeDeploy using AWS CloudFormation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/blue-green.html) in the *AWS CloudFormation User Guide*\.

   22  
   23: **To create an Application Load Balancer**
   24  

  192  
  193: **To create CodeDeploy resources**
  194  

  304  
  305: **To create and monitor an CodeDeploy deployment**
  306  

  462  
  463: **Cleaning up the tutorial resources**
  464  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-capacity-provider-console-v2.md:
   6  
   7: **To create a capacity provider for the cluster \(New Amazon ECS console\)**
   8  

  10  
  11: 1. In the navigation pane, choose **Clusters**\.
  12  
  13: 1. On the **Clusters** page, choose the cluster\.
  14  
  15: 1. On the **Cluster : *name*** page, choose **Infrastructure**, and then choose **Create**\.
  16  
  17: 1. On the **Create capacity providers** page, configure the following options\.
  18  
  19:    1. Under **Basic details**, for **Capacity provider name**, enter a unique capacity provider name\.
  20  
  21:    1. Under **Auto Scaling group**, for **Use an existing Auto Scaling group**, choose the Auto Scaling group\.
  22  
  23:    1. \(Optional\) To configure a scaling policy, under **Scaling policies**, configure the following options\.
  24:       + To have Amazon ECS manage the scale\-in and scale\-out actions, select **Turn on managed scaling**\.
  25:       + To prevent EC2 instance with running Amazon ECS tasks from being terminated, select **Turn on scaling protection**\.
  26:       + For **Set target capacity**, enter the target value for the CloudWatch metric used in the Amazon ECS\-managed target tracking scaling policy\.
  27  
  28: 1. Choose **Create**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-cluster-console-v2.md:
  23  
  24: **To create a new cluster \(Amazon ECS console\)**
  25  

  29  
  30: 1. In the navigation pane, choose **Clusters**\.
  31  
  32: 1. On the **Clusters** page, choose **Create cluster**\.
  33  
  34: 1. Under **Cluster configuration**, for **Cluster name**, enter a unique name\.
  35  

  37  
  38: 1. \(Optional\) To change the name of the default namespace\. for **Namespace**, enter a unique name\.
  39  
  40: 1. \(Optional\) To change the VPC and subnets where your tasks and services launch, under **Networking**, perform any of the following operations:
  41:    + To remove a subnet, under **Subnets**, choose **X** for each subnet that you want to remove\.
  42:    + To change to a VPC other than the **default** VPC, under **VPC**, choose an existing **VPC**, and then under **Subnets**, select each subnet\.
  43  
  44: 1. \(Optional\) To turn on Container Insights, expand **Monitoring**, and then turn on **Use Container Insights**\.
  45  
  46: 1. \(Optional\) To help identify your cluster, expand **Tags**, and then configure your tags\.
  47  
  48:    \[Add a tag\] Choose **Add tag** and do the following:
  49:    + For **Key**, enter the key name\.
  50:    + For **Value**, enter the key value\.
  51  
  52:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-container-image.md:
    6  
    7: **Important**  
    8  AWS and Docker have collaborated to make a simplified developer experience that allows you to deploy and manage containers on Amazon ECS directly using Docker tools\. You can now build and test your containers locally using Docker Desktop and Docker Compose, and then deploy them to Amazon ECS on Fargate\. To get started with the Amazon ECS and Docker integration, download Docker Desktop and optionally sign up for a Docker ID\. For more information, see [Docker Desktop](https://www.docker.com/products/docker-desktop) and [Docker ID signup](https://hub.docker.com/signup/awsedge?utm_source=awsedge)\.

   23  
   24: **To install Docker on an Amazon EC2 instance**
   25  

   40     ```
   41: **Important**  
   42  This step assumes you are using the Amazon Linux 2 AMI for your instance\. For all other operating systems, see [Docker Desktop overview](https://docs.docker.com/desktop/)\.

   68     ```
   69: **Note**  
   70  In some cases, you may need to reboot your instance to provide permissions for the `ec2-user` to access the Docker daemon\. Try rebooting your instance if you see the following error:  

   79  
   80: **To create a Docker image of a simple web application**
   81  

  114  1. <a name="sample-docker-build-step"></a>Build the Docker image from your Dockerfile\.
  115: **Note**  
  116  Some versions of Docker may require the full path to your Dockerfile in the following command, instead of the relative path shown below\.

  139     ```
  140: **Note**  
  141  Output from the Apache web server is displayed in the terminal window\. You can ignore the "`Could not reliably determine the server's fully qualified domain name`" message\.

  143  1. Open a browser and point to the server that is running Docker and hosting your container\.
  144:    + If you are using an EC2 instance, this is the **Public DNS** value for the server, which is the same address you use to connect to the instance with SSH\. Make sure that the security group for your instance allows inbound traffic on port 80\.
  145     + If you are running Docker locally, point your browser to [http://localhost/](http://localhost/)\.

  153  
  154: 1. Stop the Docker container by typing **Ctrl \+ c**\.
  155  

  159  
  160: **To tag your image and push it to Amazon ECR**
  161  

  200     ```
  201: **Important**  
  202  If you receive an error, install or upgrade to the latest version of the AWS CLI\. For more information, see [Installing the AWS Command Line Interface](https://docs.aws.amazon.com/cli/latest/userguide/installing.html) in the *AWS Command Line Interface User Guide*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-ec2-cluster-console-v2.md:
  41  
  42: **To create a new cluster \(Amazon ECS console\)**
  43  

  49  
  50: 1. In the navigation pane, choose **Clusters**\.
  51  
  52: 1. On the **Clusters** page, choose **Create cluster**\.
  53  
  54: 1. Under **Cluster configuration**, for **Cluster name**, enter a unique name\.
  55  

  57  
  58: 1. \(Optional\) To change the name of the default namespace\. for **Namespace**, enter a unique name\.
  59  
  60: 1. \(Optional\) To change the VPC and subnets where your tasks and services launch, under **Networking**, perform any of the following operations:
  61:    + To remove a subnet, under **Subnets**, choose **X** for each subnet that you want to remove\.
  62:    + To change to a VPC other than the **default** VPC, under **VPC**, choose an existing **VPC**, and then under **Subnets**, select each subnet\.
  63  
  64: 1. \(Optional\) To add Amazon EC2 instances to your cluster, expand **Infrastructure**, and then select **Amazon EC2 instances**\. Next, configure the Auto Scaling group which acts as the capacity provider:
  65  
  66:    1. To using an existing Auto Scaling group, from **Auto Scaling group \(ASG\)**, select the group\.
  67  
  68:    1. To create a Auto Scaling group, from **Auto Scaling group \(ASG\)**, select **Create new group**, and then provide the following details about the group:
  69:       + For **Operating system/Architecture**, choose the Amazon ECS\-optimized AMI for the Auto Scaling group instances\.
  70:       + For **EC2 instance type**, choose the instance type for your workloads\.
  71  
  72           Managed scaling works best if your Auto Scaling group uses the same or similar instance types\. 
  73:       + For **SSH key pair**, choose the pair that proves your identity when you connect to the instance\.
  74:       + For **Capacity**, enter the minimum number and the maximum number of instances to launch in the Auto Scaling group\. 
  75  
  76: 1. \(Optional\) To turn on Container Insights, expand **Monitoring**, and then turn on **Use Container Insights**\.
  77  
  78: 1. \(Optional\) To manage the cluster tags, expand **Tags**, and then perform one of the following operations:
  79  
  80:    \[Add a tag\] Choose **Add tag** and do the following:
  81:    + For **Key**, enter the key name\.
  82:    + For **Value**, enter the key value\.
  83  
  84:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
  85  
  86: 1. Choose **Create**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-load-balancer.md:
  14  
  15: **Topics**
  16  + [Creating an Application Load Balancer](create-application-load-balancer.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-network-load-balancer.md:
  10  
  11: **To define your load balancer**
  12  

  16  
  17: 1. In the navigation pane, under **LOAD BALANCING**, choose **Load Balancers**\.
  18  
  19: 1. Choose **Create Load Balancer**\.
  20  
  21: 1. On the **Select load balancer type** page, choose **Create** under **Network Load Balancer**\.
  22  
  23: 1. Complete the **Configure Load Balancer** page as follows:
  24  
  25:    1. For **Name**, type a name for your load balancer\.
  26  
  27:    1. For **Scheme**, choose either **internet\-facing** or **internal**\. An internet\-facing load balancer routes requests from clients over the internet to targets\. An internal load balancer routes requests to targets using private IP addresses\.
  28  
  29:    1. For **Listeners**, the default is a listener that accepts TCP traffic on port 80\. You can keep the default listener settings, modify the protocol or port of the listener, or choose **Add listener** to add another listener\.
  30  
  31:    1. For **Availability Zones**, select the VPC that you used for your Amazon EC2 instances\. For each Availability Zone that you used to launch your Amazon EC2 instances, select an Availability Zone and then select the public subnet for that Availability Zone\. To associate an Elastic IP address with the subnet, select it from **Elastic IP**\.
  32  
  33:    1. Choose **Next: Configure Routing**\.
  34  

  38  
  39: **To configure your target group**
  40  
  41: 1. For **Target group**, keep the default, **New target group**\.
  42  
  43: 1. For **Name**, type a name for the target group\.
  44  
  45: 1. Set **Protocol** and **Port** as needed\.
  46  
  47: 1. For **Target type**, choose whether to register your targets with an instance ID or an IP address\.
  48: **Important**  
  49  If your service's task definition uses the `awsvpc` network mode \(which is required for the Fargate launch type\), you must choose `ip` as the target type, not `instance`\. This is because tasks that use the `awsvpc` network mode are associated with an elastic network interface, not an Amazon EC2 instance\.   

  51  
  52: 1. For **Health checks**, keep the default health check settings\.
  53  
  54: 1. Choose **Next: Register Targets**\.
  55  

  59  
  60: **To skip target registration**
  61  
  62: 1. In the **Registered instances** section, ensure that no instances are selected for registration\.
  63  
  64: 1. Choose **Next: Review** to go to the next page in the wizard\.
  65  

  67  
  68: Review your load balancer and target group configuration and choose **Create** to create your load balancer\.
  69  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-service-console-v1.md:
   2  
   3: **Important**  
   4  Amazon ECS has provided a new console experience for creating a service\. For more information, see [Creating a service using the console](create-service-console-v2.md)\.  

  11  
  12: **Topics**
  13  + [Step 1: Configuring basic service parameters](basic-service-params.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-service-console-v2.md:
    5  Consider the following when you use the console:
    6: + Currently, the console supports only the **Rolling update** \(`ECS`\) deployment type\. To use any other deployment type, switch to the classic console\.
    7: + Currently, the console supports only the **Target tracking** scaling policy\. To use step scaling, switch to the classic console\.
    8: + Currently, the console supports only the **Replica** service type\. To use the Daemon service type, switch to the classic console\.
    9  + There are two compute options that distribute your tasks\.
   10:   + A **capacity provider strategy** causes Amazon ECS to distribute your tasks in one or across multiple capacity providers\. 
   11:   + A **launch type** causes Amazon ECS to launch our tasks directly on either Fargate or on the Amazon EC2 instances that you have manually registered to your clusters\.
   12  + Task definitions that use the `awsvpc` network mode or services configured to use a load balancer must have a networking configuration\. By default, the console selects the default Amazon VPC along with all subnets and the default security group within the default Amazon VPC\. 
   13  + The default the task placement strategy distributes tasks evenly across Availability Zones\. 
   14: + When you use the **Launch Type** for your service deployment, by default the service starts in the subnets in your cluster VPC\.
   15: + For the **capacity provider strategy**, the console selects a compute option by default\. The following describes the order that the console uses to select a default:
   16    + If your cluster has a default capacity provider strategy defined, it is selected\.
   17    + If your cluster doesn't have a default capacity provider strategy defined but you do have the Fargate capacity providers added to the cluster, a custom capacity provider strategy that uses the `FARGATE` capacity provider is selected\.
   18:   + If your cluster doesn't have a default capacity provider strategy defined but you do have one or more Auto Scaling group capacity providers added to the cluster, the **Use custom \(Advanced\)** option is selected and you need to manually define the strategy\.
   19    + If your cluster doesn't have a default capacity provider strategy defined and no capacity providers added to the cluster, the Fargate launch type is selected\.

   31  
   32: **To create a service \(Amazon ECS console\)**
   33  

   35  
   36: 1. In the navigation page, choose **Clusters**\.
   37  
   38: 1. On the **Clusters** page, select the cluster to create the service in\.
   39  
   40: 1. From the **Services** tab, choose **Create**\.
   41  
   42: 1. Under **Deployment configuration**, specify how your application is deployed\.
   43  
   44:    1. For **Application type**, choose **Service**\.
   45  
   46:    1. For **Task definition**, choose the task definition family and revision to use\.
   47  
   48:    1. For **Service name**, enter a name for your service\.
   49  
   50:    1. For **Desired tasks**, enter the number of tasks to launch and maintain in the service\.
   51  
   52: 1. \(Optional\) To help identify your service and tasks, expand the **Tags** section, and then configure your tags\.
   53  
   54:    To have Amazon ECS automatically tag all newly launched tasks with the cluster name and the task definition tags, select **Turn on Amazon ECS managed tags**, and then select **Task definitions**\.
   55  
   56:    To have Amazon ECS automatically tag all newly launched tasks with the cluster name and the service tags, select **Turn on Amazon ECS managed tags**, and then select **Service**\.
   57  
   58     Add or remove a tag\.
   59:    + \[Add a tag\] Choose **Add tag**, and then do the following:
   60:      + For **Key**, enter the key name\.
   61:      + For **Value**, enter the key value\.
   62:    + \[Remove a tag\] Next to the tag, choose **Remove tag**\.
   63  

   67  
   68: **To create a service \(Amazon ECS console\)**
   69  

   74  
   75: 1. \(Optional\) Choose how your tasks are distributed across your cluster infrastructure\. Expand **Compute configuration**, and then choose your option\.    
   76  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/create-service-console-v2.html)
   77  
   78: 1. To specify how your service is deployed, expand **Deployment configuration**, and then choose your options\.
   79  
   80:    1. For **Application type**, leave the choice as **Service**\.
   81  
   82:    1. For **Task definition** and **Revision**, choose the task definition family and revision to use\.
   83  
   84:    1. For **Service name**, enter a name for your service\.
   85  
   86:    1. For **Service type**, choose the service scheduling strategy\.
   87:       + To have the scheduler place and maintain the desired number of tasks in your cluster, choose **Replica**\.
   88  

   90  
   91:    1. If you chose **Replica**, for **Desired tasks**, enter the number of tasks to launch and maintain in the service\.
   92  
   93:    1. To change the minimum healthy percent and maximum percent of running tasks allowed during a service deployment, expand **Deployment options**, and then specify the following parameters\.
   94  
   95:       1. For **Min running tasks**, enter the lower limit on the number of tasks in the service that must remain in the `RUNNING` state during a deployment, as a percentage of the desired number of tasks \(rounded up to the nearest integer\)\. For more information, see [Deployment configuration](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html#sd-deploymentconfiguration)\.
   96  
   97:       1. For **Max running tasks**, enter the upper limit on the number of tasks in the service that are allowed in the `RUNNING` or `PENDING` state during a deployment, as a percentage of the desired number of tasks \(rounded down to the nearest integer\)\.
   98  
   99:    1. To configure how Amazon ECS detects and handles deployment failures, expand **Deployment failure detection**, and then choose your options\. 
  100  
  101:       1. To stop a deployment when the tasks cannot start, select **Use the Amazon ECS deployment circuit breaker**\.
  102  
  103:          To have the software automatically roll back the deployment to the last completed deployment state when the deployment circuit breaker sets the deployment to a failed state, select **Rollback on failure**\.
  104  
  105:       1. To stop a deployment based on application metrics\., select **Use CloudWatch alarms**\. Then, from **CloudWatch alarm names**, choose the alarms\. To create a new alarm, choose **Create new alarm**\.
  106  
  107:          To have the software automatically roll back the deployment to the last completed deployment state when a CloudWatch alarm sets the deployment to a failed state, select **Rollback on failure**\.
  108  
  109: 1. To configure service auto scaling, expand **Service auto scaling**, and then specify the following parameters\.
  110  
  111:    1. To use service auto scaling, select **Service auto scaling**\.
  112  
  113:    1. For **Minimum number of tasks**, enter the lower limit of the number of tasks for Service Auto Scaling to use\. The desired count will not go below this count\.
  114  
  115:    1. For **Maximum number of tasks**, enter the upper limit of the number of tasks for Service Auto Scaling to use\. The desired count will not go above this count\.
  116  
  117:    1. For **Scaling policy type**, choose **Target tracking**\.
  118  
  119:    1. For **Policy name**, enter the policy name\.
  120  
  121:    1. For **ECS service metric**, choose one of the following metrics:
  122:       + **ECSServiceAverageCPUUtilization**: Average CPU utilization of the service\. 
  123:       + **ECSServiceAverageMemoryUtilization**: Average memory utilization of the service\. 
  124:       + **ALBRequestCountPerTarget**: Number of requests completed per target in an Application Load Balancer target group\. 
  125  

  127  
  128:    1. For **Target value**, enter the value in percent that the service maintains for the selected metric\.
  129  
  130:    1. For **Scale\-out cooldown period**, enter the number of seconds after a scale\-out activity that no other scale outs can happen\.
  131  
  132:    1. For **Scale\-in cooldown period**, enter the number of seconds after a scale\-in activity that no other scale ins can happen\.
  133  
  134:    1. To prevent the policy from performing a scale\-in activity, select **Turn off scale\-in**\.
  135  
  136: 1. \(Optional\) To use Service Connect, select **Turn on Service Connect**, and then specify the following:
  137  
  138:    1. Under** Service Connect configuration**, specify the client mode\.
  139:       + If your service runs s network client application that only needs to connect to other services in the namespace, choose **Client side only**\.
  140:       + If your service runs a network or web service application and needs to provide endpoints for this service, and connects to other services in the namespace, choose **Client and server**\.
  141  
  142:    1. To use a namespace that is not the default cluster namespace, for **Namespace**, choose the service namespace\.
  143  
  144:    1. \(Optional\) Select the **Use log collection** option to specify a log configuration\. For each available log driver, there are log driver options to specify\. The default option sends container logs to CloudWatch Logs\. The other log driver options are configured using AWS FireLens\. For more information, see [Custom log routing](using_firelens.md)\.
  145  
  146        The following describes each container log destination in more detail\.
  147:       + **Amazon CloudWatch** — Configure the task to send container logs to CloudWatch Logs\. The default log driver options are provided which creates a CloudWatch log group on your behalf\. To specify a different log group name, change the driver option values\.
  148:       + **Amazon Kinesis Data Firehose** — Configure the task to send container logs to Kinesis Data Firehose\. The default log driver options are provided which sends logs to an Kinesis Data Firehose delivery stream\. To specify a different delivery stream name, change the driver option values\.
  149:       + **Amazon Kinesis Data Streams** — Configure the task to send container logs to Kinesis Data Streams\. The default log driver options are provided which sends logs to an Kinesis Data Streams stream\. To specify a different stream name, change the driver option values\.
  150:       + **Amazon OpenSearch Service** — Configure the task to send container logs to an OpenSearch Service domain\. The log driver options must be provided\. For more information, see [Forwarding logs to an Amazon OpenSearch Service domain](firelens-example-taskdefs.md#firelens-example-opensearch)\.
  151:       + **Amazon S3** — Configure the task to send container logs to an Amazon S3 bucket\. The default log driver options are provided but you must specify a valid Amazon S3 bucket name\.
  152  
  153: 1. \(Optional\) To configure a load balancer for your service, expand **Load balancing**\.
  154  

  157  
  158: 1. \(Optional\) To use a task placement strategy other than the default, expand **Task Placement**, and then choose from the following options\.
  159  
  160      For more information, see [Amazon ECS task placement](task-placement.md)\.
  161:    + **AZ Balanced Spread** \- Distribute tasks across Availability Zones and across container instances in the Availability Zone\.
  162:    + **AZ Balanced BinPack** \- Distribute tasks across Availability Zones and across container instances with the least available memory\.
  163:    + **BinPack** \- Distribute tasks based on the least available amount of CPU or memory\.
  164:    + **One Task Per Host** \- Place, at most, one task from the service on each container instance\.
  165:    + **Custom** \- Define your own task placement strategy\. 
  166  
  167:    If you chose **Custom**, define the algorithm for placing tasks and the rules that are considered during task placement\.
  168:    + Under **Strategy**, for **Type** and **Field**, choose the algorithm and the entity to use for the algorithm\.
  169  
  170       You can enter a maximum of 5 strategies\.
  171:    + Under **Constraint**, for **Type** and **Expression**, choose the rule and attribute for the constraint\.
  172  
  173:      When you enter the **Expression**, do not enter the double quotation marks \(`" "`\)\. For example, to set the constraint to place tasks on T2 instances, for the **Expression**, enter **attribute:ecs\.instance\-type =\~ t2\.\***\.
  174  

  176  
  177: 1. If your task definition uses the `awsvpc` network mode, expand **Networking**\. Use the following steps to specify a custom configuration\.
  178  
  179:    1. For **VPC**, select the VPC to use\.
  180  
  181:    1. For **Subnets**, select one or more subnets in the VPC that the task scheduler considers when placing your tasks\.
  182: **Important**  
  183  Only private subnets are supported for the `awsvpc` network mode\. Tasks don't receive public IP addresses\. Therefore, a NAT gateway is required for outbound internet access, and inbound internet traffic is routed through a load balancer\.
  184  
  185:    1. For **Security group**, you can either select an existing security group or create a new one\. To use an existing security group, select the security group and move to the next step\. To create a new security group, choose **Create a new security group**\. You must specify a security group name, description, and then add one or more inbound rules for the security group\.
  186  
  187: 1. \(Optional\) To help identify your service and tasks, expand the **Tags** section, and then configure your tags\.
  188  
  189:    To have Amazon ECS automatically tag all newly launched tasks with the cluster name and the task definition tags, select **Turn on Amazon ECS managed tags**, and then select **Task definitions**\.
  190  
  191:    To have Amazon ECS automatically tag all newly launched tasks with the cluster name and the service tags, select **Turn on Amazon ECS managed tags**, and then select **Service**\.
  192  
  193     Add or remove a tag\.
  194:    + \[Add a tag\] Choose **Add tag**, and then do the following:
  195:      + For **Key**, enter the key name\.
  196:      + For **Value**, enter the key value\.
  197:    + \[Remove a tag\] Next to the tag, choose **Remove tag**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-service-review.md:
  2  
  3: After you have configured your basic service definition parameters and optionally configured your service's networking, load balancer, service discovery, and automatic scaling, you can review your configuration\. Then, choose **Create Service** to finish creating your service\.
  4  
  5: **Note**  
  6  After you create a service, the load balancer configuration can't be changed from the AWS Management Console\. You can use the AWS Copilot, AWS CloudFormation, AWS CLI or SDK to modify the load balancer configuration for the `ECS` rolling deployment controller only, not AWS CodeDeploy blue/green or external\. When you add, update, or remove a load balancer configuration, Amazon ECS starts a new deployment with the updated Elastic Load Balancing configuration\. This causes tasks to register to and deregister from load balancers\. We recommend that you verify this on a test environment before you update the Elastic Load Balancing configuration\. For information about how to modify the configuration, see [UpdateService](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_UpdateService.html) in the *Amazon Elastic Container Service API Reference*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-service.md:
  11  
  12: **Note**  
  13  When using a load balancer with services that are hosted on Amazon EC2 instances, verify that your instances can receive traffic from your load balancers\. You can allow traffic to all ports on your instances from your load balancer's security group\. This ensures that traffic can reach any containers that use dynamically assigned ports\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-standard-load-balancer.md:
   17  
   18: **To define your load balancer**
   19  

   23  
   24: 1. In the navigation pane, under **LOAD BALANCING**, choose **Load Balancers**\.
   25  
   26: 1. Choose **Create Load Balancer**\.
   27  
   28: 1. On the **Select load balancer type** page, choose **Classic Load Balancer**\.
   29  
   30: 1. For **Load Balancer name**, enter a unique name for your load balancer\.
   31  

   33  
   34: 1. For **Create LB inside**, select the same network that your container instances are located in a specific VPC\.
   35  

   37  
   38: 1. To improve the availability of your load balancer, select at least two subnets in different Availability Zones\. Your load balancer subnet configuration must include all Availability Zones that your container instances reside in\. In the **Select Subnets** section, under **Available Subnets**, select the subnets\. The subnets that you select are moved under **Selected Subnets**\.
   39: **Note**  
   40: If you have a default VPC but did not choose **Enable advanced VPC configuration**, you do not see **Select Subnets**\.  
   41  ![\[Selected subnets\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/AddInstanceVPC_SelectedSubnet.png)
   42  
   43: 1. Choose **Next: Assign Security Groups** to go to the next page in the wizard\.
   44  

   48  
   49: **To assign a security group to your load balancer**
   50  
   51: 1. On the **Assign Security Groups** page, choose **Create a new security group**\.
   52  
   53: 1. Enter a name and description for your security group, or leave the default name and description\. This new security group contains a rule that allows traffic to the port that you configured your load balancer to use\. If you specified a different port for the health checks, you must choose **Add Rule** to add a rule that allows inbound traffic to that port as well\.
   54: **Note**  
   55  Also assign this security group to container instances in your service, or another security group with the same rules\.  

   57  
   58: 1. Choose **Next: Configure Security Settings** to go to the next page in the wizard\.
   59  

   61  
   62: For this tutorial, you can choose **Next: Configure Health Check** to continue to the next step\. For more information about creating an HTTPS load balancer and using additional security features, see [HTTPS Load Balancers](https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-https-load-balancers.html) in the *User Guide for Classic Load Balancers*\.
   63  

   67  
   68: **Note**  
   69  The following procedure configures an HTTP \(port 80\) load balancer, but you can modify these values for your application\.
   70  
   71: **To configure a health check for your instances**
   72  
   73: 1. On the **Configure Health Check** page, do the following:
   74  
   75:    1. Leave **Ping Protocol** set to its default value of `HTTP`\.
   76  
   77:    1. Leave **Ping Port** set to its default value of `80`\.
   78  
   79:    1. For **Ping Path**, replace the default value with a single forward slash \("/"\)\. This tells Elastic Load Balancing to send health check queries to the default home page for your web server, such as `index.html` or `default.html`\.
   80  

   83  
   84: 1. Choose **Next: Add EC2 Instances** to go to the next page in the wizard\.
   85  

   89  
   90: **To skip instance registration and tag the load balancer**
   91  
   92: 1. On the **Add EC2 Instances** page, for **Add Instances to Load Balancer**, ensure that no instances are selected for registration\.
   93  

   95  
   96: 1. Choose **Next: Add Tags** to go to the next page in the wizard\.
   97  

  101  
  102: **To add tags to your load balancer**
  103  
  104: 1. On the **Add Tags** page, specify a key and a value for the tag\.
  105  
  106: 1. To add another tag, choose **Create Tag** and specify a key and a value for the tag\.
  107  
  108: 1. After you are finished adding tags, choose **Review and Create**\.
  109  

  113  
  114: **To finish creating your load balancer**
  115  
  116: 1. On the **Review** page, check your settings\. To change the initial settings, choose the corresponding edit link\.
  117  
  118: 1. Choose **Create** to create your load balancer\.
  119  
  120: 1. After you are notified that your load balancer was created, choose **Close**\.
  121  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-task-definition-classic.md:
    7  
    8: **Important**  
    9  Amazon ECS has provided a new console experience for creating task definitions\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.  

   13  
   14: **To create a new task definition \(Classic Amazon ECS console\)**
   15  

   17  
   18: 1. In the navigation pane, choose **task definitions**, **Create new task definition**\.
   19  
   20: 1. On the **Select compatibilities** page, select the launch type that your task is to use and choose **Next step**\.
   21  

   26  
   27: **Using the Fargate launch type compatibility template**
   28  
   29: If you chose **Fargate**, complete the following steps:
   30  

   32  
   33:    1. On the **Configure task and container definitions** page, scroll to the bottom of the page and choose **Configure via JSON**\.
   34  
   35:    1. Paste your task definition JSON into the text area and choose **Save**\.
   36  
   37:    1. Verify your information and choose **Create**\.
   38  
   39:    Scroll to the bottom of the page and choose **Configure via JSON**\.
   40  
   41: 1. For **Task Definition Name**, type a name for your task definition\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
   42  
   43: 1. \(Optional\) For **Task Role**, choose an IAM role that provides permissions for containers in your task to make calls to AWS API operations on your behalf\. For more information, see [Task IAM role](task-iam-roles.md)\.
   44: **Note**  
   45: Only roles that have the **Amazon EC2 Container Service Task Role** trust relationship are shown here\. For more information about creating an IAM role for your tasks, see [Creating an IAM role and policy for your tasks](task-iam-roles.md#create_task_iam_policy_and_role)\.
   46  
   47: 1. For **Operating system family**, choose the container operating system\.
   48  
   49: 1. For **Task execution IAM role**, either select your task execution role or choose **Create new role** so that the console can create one for you\. For more information, see [Amazon ECS task execution IAM role](task_execution_IAM_role.md)\.
   50  
   51: 1. For **Task size**, choose a value for **Task memory \(GB\)** and **Task CPU \(vCPU\)**\. The table below shows the valid combinations\.    
   52  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/create-task-definition-classic.html)

   55  
   56:    1. Choose **Add container**\.
   57  
   58:    1. Fill out each required field and any optional fields to use in your container definitions\. More container definition parameters are available in the **Advanced container configuration** menu\. For more information, see [Task definition parameters](task_definition_parameters.md)\.
   59  
   60:    1. Choose **Add** to add your container to the task definition\.
   61  
   62: 1. \(Optional\) For **Service Integration**, to configure the parameters for App Mesh integration, choose **Enable App Mesh integration** and then do the following:
   63  
   64:    1. For **Mesh name**, choose the existing App Mesh service mesh to use\. If you don't see any meshes listed, then you need to create one first\. For more information, see [Service meshes](https://docs.aws.amazon.com/app-mesh/latest/userguide/meshes.html) in the *AWS App Mesh User Guide*\.
   65: **Note**  
   66  This option is not available for Windows containers on Fargate\.
   67  
   68:    1. For **App Mesh endpoints**, select one of the following options\.
   69:       + **Virtual node** – Enter or select the following information\.
   70:         + For **Application container name**, choose the container name to use for the App Mesh integration\. This container must already be defined within the task definition\.
   71:         + For **Virtual node name**, choose the existing App Mesh virtual node to use\. If you don't see any virtual nodes listed, then you need to create one first\. For more information, see [Virtual nodes](https://docs.aws.amazon.com/app-mesh/latest/userguide/virtual_nodes.html) in the *AWS App Mesh User Guide*\.
   72:         + For **Virtual node port** – Pre\-populated with the listener port set on the virtual node in App Mesh\.
   73:       + **Virtual gateway** – Enter or select the following information\.
   74:         + For **Virtual gateway name**, choose the existing App Mesh virtual gateway to use\. If you don't see any virtual gateways listed, then you need to create one first\. For more information, see [Virtual gateways](https://docs.aws.amazon.com/app-mesh/latest/userguide/virtual_gateways.html) in the *AWS App Mesh User Guide*\.
   75:         + For **Virtual gateway port** – Pre\-populated with the listener port set on the virtual gateway in App Mesh\.
   76  
   77:    1. For **Envoy image**, enter *840364872350*\.dkr\.ecr\.*us\-west\-2*\.amazonaws\.com/aws\-appmesh\-envoy:v1\.15\.1\.0\-prod for all regions except `me-south-1` and `ap-east-1`\. You can replace *us\-west\-2* with any Region except `me-south-1` and `ap-east-1`\. If your application is in one of these regions, then you also need to replace *840364872350* with the appropriate value for your Region\. For more information, see [Envoy image](https://docs.aws.amazon.com/app-mesh/latest/userguide/envoy.html) in the *AWS App Mesh User Guide*\.
   78  
   79:    1. Choose **Apply** and then choose **Confirm**\. This will add an Envoy proxy container to the task definition, as well as the settings to support it\. If you selected **Virtual node**, it will also auto\-populate the App Mesh **Proxy Configuration** settings for the next step\. If you selected **Virtual gateway**, then the **Proxy Configuration** is disabled, because it's not used for a virtual gateway\.
   80  
   81: 1. \(Optional\) If you selected **Virtual node** in **Service Integration**, then for **Proxy Configuration**, verify all of the pre\-populated values\. For more information about these fields, see the JSON tab in [Update services](https://docs.aws.amazon.com/AmazonECS/latest/userguide/appmesh-getting-started.html#update-services)\.
   82  
   83: 1. \(Optional\) For **Log Router Integration**, you can add a custom log routing configuration\. Choose **Enable FireLens integration** and then do the following:
   84  
   85:    1. For **Type**, choose the log router type to use\.
   86  
   87:    1. For **Image**, type the image URI for your log router container\. If you chose the `fluentbit` log router type, the **Image** field pre\-populates with the AWS for Fluent Bit image\. For more information, see [Using the AWS for Fluent Bit image](firelens-using-fluentbit.md)\.
   88  
   89:    1. Choose **Apply**\. This creates a new log router container to the task definition named `log_router`, and applies the settings to support it\. If you make changes to the log router integration fields, choose **Apply** again to update the FireLens container\.
   90  
   91: 1. \(Optional\) To define data volumes for your task, choose **Add volume**\. For more information, see [Using data volumes in tasks](using_data_volumes.md)\.
   92  
   93:    1. For **Name**, type a name for your volume\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
   94  
   95: 1. In the **Tags** section, specify the key and value for each tag to associate with the task definition\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
   96  
   97: 1. Choose **Create**\.
   98  

  101  
  102: **Using the EC2 launch type compatibility template**
  103  
  104: If you chose **EC2**, complete the following steps:
  105  

  107  
  108:    1. On the **Configure task and container definitions** page, scroll to the bottom of the page and choose **Configure via JSON**\.
  109  
  110:    1. Paste your task definition JSON into the text area and choose **Save**\.
  111  
  112:    1. Verify your information and choose **Create**\.
  113  
  114:    Scroll to the bottom of the page and choose **Configure via JSON**\.
  115  
  116: 1. For **task definition Name**, type a name for your task definition\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  117  
  118: 1. \(Optional\) For **Task Role**, choose an IAM role that provides permissions for containers in your task to make calls to AWS APIs on your behalf\. For more information, see [Task IAM role](task-iam-roles.md)\.
  119  
  120     For tasks that use the EC2 launch type, these permissions are usually granted by the Amazon ECS Container Instance IAM role\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
  121: **Note**  
  122: Only roles that have the **Amazon EC2 Container Service Task Role** trust relationship are shown here\. For instructions on how to create an IAM role for your tasks, see [Creating an IAM role and policy for your tasks](task-iam-roles.md#create_task_iam_policy_and_role)\.
  123  
  124: 1. \(Optional\) For **Network Mode**, choose the Docker network mode to use for the containers in your task\. The available network modes correspond to those that are described in [Network settings](https://docs.docker.com/engine/reference/run/#/network-settings) in the Docker run reference\. If you select **Enable App Mesh integration** in a following step, then you must select `awsvpc`\.
  125  

  127  
  128: 1. \(Optional\) For **Task execution role**, choose an IAM role that provides permissions for containers in your task to make calls to AWS APIs on your behalf\.
  129  
  130:    For tasks that use the EC2 launch type, these permissions are usually granted by the Amazon ECS Container Instance IAM role\. This role is specified earlier as the **Task Role**\. There's no need to specify a task execution role\. For more information, see[Amazon ECS task execution IAM role](task_execution_IAM_role.md)\.
  131  
  132: 1. \(Optional\) For **Task size**, choose a value for **Task memory \(GB\)** and **Task CPU \(vCPU\)**\. The `Task CPU (vCPU)` values that are supported are between 128 CPU units \(0\.125 vCPUs\) and 10240 CPU units \(10 vCPUs\)\.
  133: **Note**  
  134  Task\-level CPU and memory parameters are ignored for Windows containers\. We recommend specifying container\-level resources for Windows containers\.

  137  
  138:    1. Choose **Add container**\.
  139  
  140:    1. Enter each of the required fields and any optional fields to use in your container definitions\. More container definition parameters are available in the **Advanced container configuration** menu\. For more information, see [Task definition parameters](task_definition_parameters.md)\.
  141  
  142:    1. Choose **Add** to add your container to the task definition\.
  143  
  144: 1. \(Optional\) For **Constraint**, you define how tasks that are created from this task definition are placed in your cluster\. For tasks that use the EC2 launch type, you can use constraints to place tasks based on Availability Zone, instance type, or custom attributes\. For more information, see [Amazon ECS task placement constraints](task-placement-constraints.md)\.
  145  
  146: 1. \(Optional\) For **Service Integration**, to configure the parameters for App Mesh integration, choose **Enable App Mesh integration** and then do the following:
  147  
  148:    1. For **Mesh name**, choose the existing App Mesh service mesh to use\. If you don't see any meshes listed, then you need to create one first\. For more information, see [Service meshes](https://docs.aws.amazon.com/app-mesh/latest/userguide/meshes.html) in the *AWS App Mesh User Guide*\.
  149: **Note**  
  150  This option is not available for Windows containers on Fargate\.
  151  
  152:    1. For **App Mesh endpoints**, select one of the following options\.
  153:       + **Virtual node** – Enter or select the following information\.
  154:         + For **Application container name**, choose the container name to use for the App Mesh integration\. This container must already be defined within the task definition\.
  155:         + For **Virtual node name**, choose the existing App Mesh virtual node to use\. If you don't see any virtual nodes listed, then you need to create one first\. For more information, see [Virtual nodes](https://docs.aws.amazon.com/app-mesh/latest/userguide/virtual_nodes.html) in the *AWS App Mesh User Guide*\.
  156:         + For **Virtual node port** – Pre\-populated with the listener port set on the virtual node in App Mesh\.
  157:       + **Virtual gateway** – Enter or select the following information\.
  158:         + For **Virtual gateway name**, choose the existing App Mesh virtual gateway to use\. If you don't see any virtual gateways listed, then you need to create one first\. For more information, see [Virtual gateways](https://docs.aws.amazon.com/app-mesh/latest/userguide/virtual_gateways.html) in the *AWS App Mesh User Guide*\.
  159:         + For **Virtual gateway port** – Pre\-populated with the listener port set on the virtual gateway in App Mesh\.
  160  
  161:    1. For **Envoy image**, enter *840364872350*\.dkr\.ecr\.*us\-west\-2*\.amazonaws\.com/aws\-appmesh\-envoy:v1\.15\.1\.0\-prod for all regions except `me-south-1` and `ap-east-1`\. You can replace *us\-west\-2* with any Region except `me-south-1` and `ap-east-1`\. If your application is in one of these regions, then you also need to replace *840364872350* with the appropriate value for your Region\. For more information, see [Envoy image](https://docs.aws.amazon.com/app-mesh/latest/userguide/envoy.html) in the *AWS App Mesh User Guide*\.
  162  
  163:    1. Choose **Apply** and then choose **Confirm**\. This will add an Envoy proxy container to the task definition, as well as the settings to support it\. If you selected **Virtual node**, it will also auto\-populate the App Mesh **Proxy Configuration** settings for the next step\. If you selected **Virtual gateway**, then the **Proxy Configuration** is disabled, because it's not used for a virtual gateway\.
  164  
  165: 1. \(Optional\) If you selected **Virtual node** in **Service Integration**, then for **Proxy Configuration**, verify all of the pre\-populated values\. For more information about these fields, see the JSON tab in [Update services](https://docs.aws.amazon.com/AmazonECS/latest/userguide/appmesh-getting-started.html#update-services)\.
  166  
  167: 1. \(Optional\) For **Log Router Integration**, you can add a custom log routing configuration\. Choose **Enable FireLens integration** and then do the following:
  168  
  169:    1. For **Type**, choose the log router type to use\.
  170  
  171:    1. For **Image**, type the image URI for your log router container\. If you chose the `fluentbit` log router type, the **Image** field pre\-populates with the AWS for Fluent Bit image\. For more information, see [Using the AWS for Fluent Bit image](firelens-using-fluentbit.md)\.
  172  
  173:    1. Choose **Apply**\. This creates a new log router container to the task definition named `log_router`, and applies the settings to support it\. If you make changes to the log router integration fields, choose **Apply** again to update the FireLens container\.
  174  
  175: 1. \(Optional\) To define data volumes for your task, choose **Add volume**\. You can create either a bind mount or Docker volume\. For more information, see [Using data volumes in tasks](using_data_volumes.md)\.
  176  
  177:    1. For **Name**, type a name for your volume\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  178  
  179:    1. \(Optional\) To create a bind mount volume, for **Source path**, enter the path on the host container instance to present to the container\. If you leave this field empty, the Docker daemon assigns a host path for you\. If you specify a source path, the data volume persists at the specified location on the host container instance until you delete it manually\. If the source path doesn't exist on the host container instance, the Docker daemon creates it\. If the location does exist, the contents of the source path folder are exported to the container\.
  180  
  181:    1. To create a Docker volume, select **Specify a volume driver**\.
  182  
  183:       1. For **Driver**, choose the Docker volume driver to use\. The driver value must match the driver name provided by Docker\. Use `docker plugin ls` on your container instance to retrieve the driver name\.
  184  
  185:       1. For **Scope**, choose the option that determines the lifecycle of the Docker volume\. Docker volumes that are scoped to a `task` are automatically provisioned when the task starts and destroyed when the task stops\. Docker volumes that are scoped as `shared` persist after the task stops\.
  186  
  187:       1. Select **Enable auto\-provisioning** to have the Docker volume created if it doesn't already exist\. This option is only available for volumes that specify the `shared` scope\.
  188  
  189:       1. For **Driver options**, specify the driver\-specific key values to use\.
  190  
  191:       1. For **Volume labels**, specify the custom metadata to add to your Docker volume\.
  192  
  193: 1. In the **Tags** section, specify the key and value for each tag to associate with the task definition\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  194  
  195: 1. Choose **Create**\.
  196  

  199  
  200: **Using the external instance launch type**
  201  
  202: If you chose **External**, complete the following steps:
  203  

  205  
  206:    1. On the **Configure task and container definitions** page, scroll to the bottom of the page and choose **Configure via JSON**\.
  207  
  208:    1. Paste your task definition JSON file into the text area and choose **Save**\.
  209  
  210:    1. Verify your information and choose **Create**\.
  211  
  212:    Scroll to the bottom of the page and choose **Configure via JSON**\.
  213  
  214: 1. For **task definition Name**, enter a name for your task definition\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  215  
  216: 1. \(Optional\) For **Task Role**, choose an IAM role that provides permissions for containers in your task to make calls to AWS APIs on your behalf\. For more information, see [Task IAM role](task-iam-roles.md) and [IAM permissions for Amazon ECS Anywhere](ecs-anywhere-iam.md)\.
  217  
  218: 1. \(Optional\) For **Network Mode**, choose the Docker network mode to use for the containers in your task\. The available network modes correspond to those that are described in [Network settings](https://docs.docker.com/engine/reference/run/#/network-settings) in the Docker run reference\. 
  219  

  221  
  222: 1. \(Optional\) For **Task execution role**, choose an IAM role that provides permissions for containers in your task to make calls to AWS APIs on your behalf\.
  223  
  224: 1. \(Optional\) For **Task size**, choose a value for **Task memory \(GB\)** and **Task CPU \(vCPU\)**\. Supported `Task CPU (vCPU)` values are between 128 CPU units \(0\.125 vCPUs\) and 10240 CPU units \(10 vCPUs\)\.
  225: **Note**  
  226  Task\-level CPU and memory parameters are ignored for Windows containers\. We recommend specifying container\-level resources for Windows containers\.

  229  
  230:    1. Choose **Add container**\.
  231  
  232:    1. Enter each of the required fields and any optional fields to use in your container definitions\. More container definition parameters are available in the **Advanced container configuration** menu\. For more information, see [Task definition parameters](task_definition_parameters.md)\.
  233  
  234:    1. Choose **Add** to add your container to the task definition\.
  235  
  236: 1. \(Optional\) For **Constraint**, you define how tasks that are created from this task definition are placed in your cluster\. For more information, see [Amazon ECS task placement constraints](task-placement-constraints.md)\.
  237  
  238: 1. \(Optional\) For **Log Router Integration**, you can add a custom log routing configuration\. Choose **Enable FireLens integration** and then do the following:
  239  
  240:    1. For **Type**, choose the log router type to use\.
  241  
  242:    1. For **Image**, type the image URI for your log router container\. If you chose the `fluentbit` log router type, the **Image** field pre\-populates with the AWS for Fluent Bit image\. For more information, see [Using the AWS for Fluent Bit image](firelens-using-fluentbit.md)\.
  243  
  244:    1. Choose **Apply**\. This creates a new log router container to the task definition named `log_router`, and applies the settings to support it\. If you make changes to the log router integration fields, choose **Apply** again to update the FireLens container\.
  245  
  246: 1. \(Optional\) To define data volumes for your task, choose **Add volume**\. You can create either a bind mount or Docker volume\. For more information, see [Using data volumes in tasks](using_data_volumes.md)\.
  247  
  248:    1. For **Name**, type a name for your volume\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  249  
  250:    1. \(Optional\) To create a bind mount volume, for **Source path**, enter the path on the host container instance to present to the container\. If you leave this field empty, the Docker daemon assigns a host path for you\. If you specify a source path, the data volume persists at the specified location on the host container instance until you delete it manually\. If the source path doesn't exist on the host container instance, the Docker daemon creates it\. If the location does exist, the contents of the source path folder are exported to the container\.
  251  
  252:    1. To create a Docker volume, select **Specify a volume driver**\.
  253  
  254:       1. For **Driver**, choose the Docker volume driver to use\. The driver value must match the driver name provided by Docker\. Use `docker plugin ls` on your container instance to retrieve the driver name\.
  255  
  256:       1. For **Scope**, choose the option that determines the lifecycle of the Docker volume\. Docker volumes that are scoped to a `task` are automatically provisioned when the task starts and destroyed when the task stops\. Docker volumes that are scoped as `shared` persist after the task stops\.
  257  
  258:       1. Select **Enable auto\-provisioning** to have the Docker volume created if it does not already exist\. This option is only available for volumes that specify the `shared` scope\.
  259  
  260:       1. For **Driver options**, specify the driver\-specific key values to use\.
  261  
  262:       1. For **Volume labels**, specify the custom metadata to add to your Docker volume\.
  263  
  264: 1. In the **Tags** section, specify the key and value for each tag to associate with the task definition\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  265  
  266: 1. Choose **Create**\.
  267  

  269  
  270: **To create a new task definition \(AWS CLI\)**
  271  + Use the `register-task-definition` command\. For more information, see [register\-task\-definition](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_RegisterTaskDefinition.html) in the *AWS Command Line Interface Reference*\. 

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/create-task-definition.md:
   27  
   28: 1. In the navigation pane, choose **Task definitions**
   29  
   30: 1. Choose **Create new task definition**, **Create new task definition**\.
   31  
   32: 1. For **Task definition family**, specify a unique name for the task definition\.
   33  

   35  
   36:    1. For **Name**, enter a name for the container\.
   37  
   38:    1. For **Image URI**, enter the image to use to start a container\. Images in the Amazon ECR Public Gallery registry may be specified using the Amazon ECR Public registry name only\. For example, if `public.ecr.aws/ecs/amazon-ecs-agent:latest` is specified, the Amazon Linux container hosted on Amazon ECR Public Gallery is used\. For all other repositories, specify the repository using either the `repository-url/image:tag` or `repository-url/image@digest` formats\.
   39  
   40:    1. If you use a container image in a private registry outside of Amazon ECR, under **Private registry**, turn on **Private registry authentication**\. Then, in **Secrets Manager ARN or name**, enter the Amazon Resource Name \(ARN\) of the secret\.
   41  
   42:    1. For **Essential container**, if your task definition has two or more containers defined, you may specify whether the container should be considered essential\. If a container is marked as *essential*, if that container stops then the task is stopped\. Each task definition must contain at least one essential container\.
   43  
   44:    1. A port mapping allows the container to access ports on the host to send or receive traffic\. Under **Port mappings**, do one of the following: 
   45:       + When you use the **awsvpc** network mode, for **Container port** and **Protocol**, choose the port mapping to use for the container\.
   46:       + When you use the **bridge** network mode, for **Container port** and **Protocol**, choose the port mapping to use for the container\. You select the **bridge** network mode on the next page\. After you select it, choose **Previous**, and then for **Host port**, specify the port number on the container instance to reserve for your container\.
   47  
   48:       Choose **Add more port mappings** to specify additional container port mappings\.
   49  
   50:    1. Expand the **Environment variables** section to specify environment variables to inject into the container\. You can specify environment variables either individually using key\-value pairs or in bulk by specifying an environment variable file hosted in an Amazon S3 bucket\. For information on how to format an environment variable file, see [Passing environment variables to a container](taskdef-envfiles.md)\.
   51  
   52:    1. \(Optional\) To configure the commands that determine if a container is healthy, expand **HealthCheck**, and then configure the following items:
   53:       + For **Command**, enter a comma\-separated list of commands\. You can start the commands with `CMD` to run the command arguments directly, or `CMD-SHELL` to run the command with the container's default shell\. If neither is specified, `CMD` is used\. 
   54:       + For **Interval**, enter the number of seconds between each health check\. The valid values are between 5 and 30\.
   55:       + For **Timeout**, enter the period of time \(in seconds\) to wait for a health check to succeed before it's considered a failure\. The valid values are between 2 and 60\.
   56:       + For **Start period**, enter the period of time \(in seconds\) to wait for a container to bootstrap before the health check commands run\. The valid values are between 0 and 300\.
   57:       + For **Retries**, enter the number of times to retry the health check commands when there is a failure\. The value values are between 1 and 10\.
   58  
   59:    1. \(Optional\) To override some of the values in a Dockerfile, expand **Docker configuration**, and then configure the following items:
   60:       + For **Command**, enter an executable command for a container\. 
   61  
   62          This parameter maps to `Cmd` in the [Create a container](https://docs.docker.com/engine/api/v1.38/#operation/ContainerCreate) section of the Docker Remote API and the `COMMAND` option to `docker run`\. This will override the `CMD` instruction in a [Dockerfile](https://docs.docker.com/engine/reference/builder/#workdir)\.
   63:       + For **Entry point**, enter the Docker ENTRYPOINT that is passed to the container\.
   64  
   65          This parameter maps to `Entrypoint` in the [Create a container](https://docs.docker.com/engine/api/v1.38/#operation/ContainerCreate) section of the Docker Remote API and the `--entrypoint` option to `docker run`\. This will override the `ENTRYPOINT` instruction in a [Dockerfile](https://docs.docker.com/engine/reference/builder/#workdir)\.
   66:       + For **Working directory**, enter the directory that the container will run any entry point and command instructions provided\. 
   67  

   69  
   70:    1. \(Optional\) Choose **Add more containers** to add additional containers to the task definition\. Choose **Next** once all containers have been defined\.
   71  
   72: 1. For **App environment**, choose the application environment\. The console default is **AWS Fargate \(serverless\)**\. Amazon ECS performs validation using this value to ensure the task definition parameters are valid for the infrastructure type\.
   73  
   74: 1. For **Operating system/Architecture**, choose the operating system and CPU architecture for the task\. 
   75  
   76:    To run your task on a 64\-bit ARM architecture, select **Linux/ARM64**\. For more information, see [Runtime platform](task_definition_parameters.md#runtime-platform)\.
   77  
   78:    To run your **AWS Fargate \(serverless\)** tasks on Windows containers, choose a supported Windows operating system\. For more information, see [Task Operating Systems](AWS_Fargate.md#fargate-task-os)\.
   79  
   80: 1. For **Task size**, choose the CPU and memory values to reserve for the task\. The CPU value is specified as vCPUs and memory is specified as GB\.
   81  

   85     For tasks hosted on Amazon EC2, supported task CPU values are between 128 CPU units \(0\.125 vCPUs\) and 10240 CPU units \(10 vCPUs\)\.
   86: **Note**  
   87  Task\-level CPU and memory parameters are ignored for Windows containers\.
   88  
   89: 1. Expand the **Container size** section to enter the amount \(in GB\) of memory to present to the container and the number of CPU units the Amazon ECS container agent will reserve for the container\. 
   90  
   91:    For each container, choose **Add**, and then complete the following steps:
   92  
   93:    1. For **Container**, choose the container\.
   94  
   95:    1. For **CPU**, enter the number of CPU units the Amazon ECS container agent reserves for the container\.
   96  
   97:       The total amount of CPU reserved for all containers within a task must be lower than the task\-level **CPU** value\.
   98  

  100  
  101:    1. For **Memory**, enter the amount of memory, in GB to present to the container\.
  102  
  103:       If your container attempts to exceed the memory specified, the container is killed\. The total amount of memory reserved for all containers within a task must be lower than the task **Memory** value, if one is specified\.
  104  
  105:    1. For **GPU**, enter the number of GPU units for the container instance\. An Amazon EC2 instance with GPU support has 1 GPU unit for every GPU\. For more information, see [Working with GPUs on Amazon ECS](ecs-gpu.md)\.
  106  
  107: 1. \(Optional\) Expand the **Task roles, network mode** section to specify the following:
  108  
  109:    1. For **Task role**, choose the IAM role to assign to the task\. A task IAM role provides permissions for the containers in a task to call AWS APIs\.
  110  
  111:    1. For **Network mode**, choose the network mode to use\. The default is **awsvpc** mode\. For more information, see [Amazon ECS task networking](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-networking.html)\.
  112  
  113:       If you choose **bridge** for the network mode, choose **Previous**, and then under **Port mappings**, for **Host port**, enter the port number on the container instance to reserve for your container\.
  114  
  115: 1. \(Optional\) The **Storage** section is used to expand the amount of ephemeral storage for tasks hosted on Fargate as well as add a data volume configuration for the task\.
  116  
  117:    1. To expand the available ephemeral storage beyond the default value of 20 GiB for your Fargate tasks, for **Amount**, enter a value up to 200 GiB\.
  118  
  119: 1. \(Optional\) To add a data volume configuration for the task definition, choose **Add volume**\.    
  120  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/create-task-definition.html)
  121  
  122: 1. \(Optional\) Select the **Use log collection** option to specify a log configuration\. For each available log driver, there are log driver options to specify\. The default option sends container logs to CloudWatch Logs\. The other log driver options are configured using AWS FireLens\. For more information, see [Custom log routing](using_firelens.md)\.
  123  
  124     The following describes each container log destination in more detail\.
  125:    + **Amazon CloudWatch** — Configure the task to send container logs to CloudWatch Logs\. The default log driver options are provided which creates a CloudWatch log group on your behalf\. To specify a different log group name, change the driver option values\.
  126:    + **Amazon Kinesis Data Firehose** — Configure the task to send container logs to Kinesis Data Firehose\. The default log driver options are provided which sends logs to an Kinesis Data Firehose delivery stream\. To specify a different delivery stream name, change the driver option values\.
  127:    + **Amazon Kinesis Data Streams** — Configure the task to send container logs to Kinesis Data Streams\. The default log driver options are provided which sends logs to an Kinesis Data Streams stream\. To specify a different stream name, change the driver option values\.
  128:    + **Amazon OpenSearch Service** — Configure the task to send container logs to an OpenSearch Service domain\. The log driver options must be provided\. For more information, see [Forwarding logs to an Amazon OpenSearch Service domain](firelens-example-taskdefs.md#firelens-example-opensearch)\.
  129:    + **Amazon S3** — Configure the task to send container logs to an Amazon S3 bucket\. The default log driver options are provided but you must specify a valid Amazon S3 bucket name\.
  130  
  131: 1. \(Optional\) Select the **Use trace collection** option to configure your tasks to route trace data from your application to AWS X\-Ray\. When this option is selected, Amazon ECS creates an AWS Distro for OpenTelemetry container sidecar which is preconfigured to send the trace data\. For more information, see [Collecting application trace data](trace-data.md)\.
  132: **Important**  
  133  When using trace collection, your task definition requires a task IAM role with the required permissions\. For more information, see [Required IAM permissions for AWS Distro for OpenTelemetry integration with AWS X\-Ray](trace-data.md#trace-data-iam)\. 
  134  
  135: 1. \(Optional\) Select the **Use metric collection** option to collect and send metrics for your tasks to either Amazon CloudWatch or Amazon Managed Service for Prometheus\. When this option is selected, Amazon ECS creates an AWS Distro for OpenTelemetry container sidecar which is preconfigured to send the application metrics\. For more information, see [Collecting application metrics](metrics-data.md)\.
  136  
  137:    1. When **Amazon CloudWatch** is selected, your custom application metrics are routed to CloudWatch as custom metrics\. For more information, see [Exporting application metrics to Amazon CloudWatch](application-metrics-cloudwatch.md)\.
  138: **Important**  
  139  When exporting application metrics to Amazon CloudWatch, your task definition requires a task IAM role with the required permissions\. For more information, see [Required IAM permissions for AWS Distro for OpenTelemetry integration with Amazon CloudWatch](application-metrics-cloudwatch.md#application-metrics-cloudwatch-iam)\. 
  140  
  141:    1. When you select **Amazon Managed Service for Prometheus \(Prometheus libraries instrumentation\)**, your task\-level CPU, memory, network, and storage metrics and your custom application metrics are routed to Amazon Managed Service for Prometheus\. For **Workspace remote write endpoint**, enter the remote write endpoint URL for your Prometheus workspace\. For **Scraping target**, enter the host and port the AWS Distro for OpenTelemetry collector can use to scrape for metrics data\. For more information, see [Exporting application metrics to Amazon Managed Service for Prometheus](application-metrics-prometheus.md)\.
  142: **Important**  
  143  When exporting application metrics to Amazon Managed Service for Prometheus, your task definition requires a task IAM role with the required permissions\. For more information, see [Required IAM permissions for AWS Distro for OpenTelemetry integration with Amazon Managed Service for Prometheus](application-metrics-prometheus.md#application-metrics-prometheus-iam)\. 
  144  
  145:    1. When you select **Amazon Managed Service for Prometheus \(OpenTelemetry instrumentation\)** , your task\-level CPU, memory, network, and storage metrics and your custom application metrics are routed to Amazon Managed Service for Prometheus\. For **Workspace remote write endpoint**, enter the remote write endpoint URL for your Prometheus workspace\. For more information, see [Exporting application metrics to Amazon Managed Service for Prometheus](application-metrics-prometheus.md)\.
  146: **Important**  
  147  When exporting application metrics to Amazon Managed Service for Prometheus, your task definition requires a task IAM role with the required permissions\. For more information, see [Required IAM permissions for AWS Distro for OpenTelemetry integration with Amazon Managed Service for Prometheus](application-metrics-prometheus.md#application-metrics-prometheus-iam)\. 
  148  
  149: 1. \(Optional\) Expand the **Tags** section to add tags, as key\-value pairs, to the task definition\.
  150  
  151     Add or remove a tag\.
  152:    + \[Add a tag\] Choose **Add tag**, and then do the following:
  153:      + For **Key**, enter the key name\.
  154:      + For **Value**, enter the key value\.
  155:    + \[Remove a tag\] Next to the tag, choose **Remove tag**\.
  156  
  157: 1. Choose **Next** to review the task definition\.
  158  
  159: 1. On the **Review and create** page, review each task definition section\. Choose **Edit** to make changes\. After the task definition is complete, choose **Create** to register the task definition\.
  160  

  165  
  166: 1. In the navigation pane, choose **Task definitions**\.
  167  
  168: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
  169  

  173  
  174: 1. Choose **Create**\.
  175  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/creating-resources-with-cloudformation.md:
   22  
   23: **JSON**
   24  

   79  
   80: **YAML**
   81  

  128  
  129: **JSON**
  130  

  144  
  145: **YAML**
  146  

  159  
  160: **JSON**
  161  

  245  
  246: **YAML**
  247  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/CWE_IAM_role.md:
   51  
   52: **Note**  
   53  Specify the full ARN of your task execution role or task role override\.

   75  
   76: 1. In the navigation pane, choose **Roles**\. 
   77  

   79  
   80: 1. On the **Permissions** tab, verify that the **AmazonEC2ContainerServiceEventsRole** is attached to the role\.
   81  
   82:    1. Choose **Add Permissions**, **Attach policies**\.
   83  
   84:    1. To narrow the available policies to attach, for **Filter**, enter **AmazonEC2ContainerServiceEventsRole**\.
   85  
   86:    1. Check the box to the left of the **AmazonEC2ContainerServiceEventsRole** policy, and then choose **Attach policy**\.
   87  
   88: 1. Choose **Trust relationships**\.
   89  
   90: 1. Verify that the trust relationship contains the following policy\. If the trust relationship matches the policy below, choose **Cancel**\. If the trust relationship does not match, choose **Edit trust policy**, copy the policy into the **Policy Document** window and choose **Update policy**\.
   91  

  109  
  110: **To create an IAM role for CloudWatch Events**
  111  

  113  
  114: 1. In the navigation pane, choose **Roles**, **Create role**\. 
  115  
  116: 1. In the **Trusted entity type** section, choose **AWS service**, **Elastic Container Service**\.
  117  
  118: 1. For **Use case**, choose **Elastic Container Service Task**, and then choose **Next**\.
  119  
  120: 1. In the **Attach permissions policy** section, do the following:
  121  

  123  
  124:    1. Under **Set permissions boundary \- optional**, choose **Create role without a permissions boundary**\.
  125  
  126:    1. Choose **Next**\.
  127  
  128: 1. Under **Role details**, do the following: 
  129  
  130:    1. For **Role name**, enter `ecsEventsRole` \.
  131  
  132:    1. For **Add tags \(optional\)**, enter any custom tags to associate with the policy\.
  133  
  134: 1. Choose **Create role**\.
  135  

  137  
  138: 1. Replace the existing trust relationship with the following text\. On the ** Trust relationships** tab, choose **Edit trust policy**, copy the policy into the **Policy Document** window, and then choose **Update policy**\.
  139  

  157  
  158: **To add permissions for the task execution role to the CloudWatch Events IAM role**
  159  

  161  
  162: 1. In the navigation pane, choose **Policies**, **Create policy**\.
  163  
  164: 1. Choose **JSON**, paste the following policy, and then choose **Review policy**:
  165  

  180  
  181: 1. For **Name**, enter `AmazonECSEventsTaskExecutionRole`, optionally enter a description, and then choose **Create policy**\.
  182  
  183: 1. In the navigation pane, choose **Roles**\.
  184  

  186  
  187: 1. Choose **Attach policy**\.
  188  
  189: 1. In the **Attach policy** section, select the **AmazonECSEventsTaskExecutionRole** policy, and then choose **Attach policy**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deep-learning-containers.md:
   8  
   9: **Note**  
  10  Starting April 15, 2023, AWS will not onboard new customers to Amazon Elastic Inference \(EI\), and will help current customers migrate their workloads to options that offer better price and performance\. After April 15, 2023, new customers will not be able to launch instances with Amazon EI accelerators in Amazon SageMaker, Amazon ECS, or Amazon EC2\. However, customers who have used Amazon EI at least once during the past 30\-day period are considered current customers and will be able to continue using the service\. 

  13  
  14: **Important**  
  15  Your Amazon ECS container instances require at least version `1.30.0` of the container agent\. For information about checking your agent version and updating to the latest version, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/delete_cluster-new-console.md:
   8  + Deregister all registered container instances in the cluster\. For more information, see [Deregister an Amazon EC2 backed container instance](deregister_container_instance.md)\.
   9: + If you created your cluster with the new console, delete the AWS CloudFormation stack that was created for your cluster\. The stack is named ***cluster\-name*\-ECS\-Infra**\. For example, if the cluster name is "example\-cluster\-new\-console", then the stack name is `example-cluster-new-console-ECS-Infra`\. For more information, see [Deleting a stack on the AWS CloudFormation console](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-delete-stack.html) in the *AWS CloudFormation User Guide*\.
  10  + Delete the namespace\. For more information, see [Deleting namespaces](https://docs.aws.amazon.com/cloud-map/latest/dg/deleting-namespaces.html) in the *AWS Cloud Map Developer Guide*\.

  13  
  14: **To delete a cluster \(Amazon ECS console\)**
  15  

  19  
  20: 1. In the navigation pane, choose **Clusters**\.
  21  
  22: 1. On the **Clusters** page, select the cluster to delete\.
  23  
  24: 1. In the upper\-right of the page, choose **Delete Cluster**\. 
  25  

  27  
  28: 1. In the confirmation box, enter **delete *cluster name***\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/delete_cluster.md:
  13  
  14: **To delete a cluster using the classic console**
  15  

  19  
  20: 1. In the navigation pane, choose **Clusters**\.
  21  
  22: 1. On the **Clusters** page, select the cluster to delete\.
  23: **Note**  
  24  If your cluster has registered container instances, you must deregister or terminate them\. For more information, see [Deregister an Amazon EC2 backed container instance](deregister_container_instance.md)\.
  25  
  26: 1. In the upper\-right of the page, choose **Delete Cluster**\. You see one of two confirmation prompts:
  27:    + **Deleting the cluster also deletes the AWS CloudFormation stack EC2ContainerService\-*cluster\_name* – ** Deleting this cluster cleans up the associated resources that were created with the cluster, including Auto Scaling groups, VPCs, or load balancers\.
  28:    + **Deleting the cluster does not affect AWS CloudFormation resources** – Deleting this cluster does not clean up any resources that are associated with the cluster, including Auto Scaling groups, VPCs, or load balancers\. Also, any container instances that are registered with this cluster must be deregistered or terminated before you can delete the cluster\. For more information, see [Deregister an Amazon EC2 backed container instance](deregister_container_instance.md)\. You can visit the AWS CloudFormation console at [https://console\.aws\.amazon\.com/cloudformation/](https://console.aws.amazon.com/cloudformation/) to update or delete any of these resources\.
  29  
  30: 1. In the confirmation box, enter **delete me**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/delete-capacity-provider-console-v2.md:
   4  
   5: **To create a capacity provider for the cluster \(Amazon ECS console\)**
   6  

   8  
   9: 1. In the navigation pane, choose **Clusters**\.
  10  
  11: 1. On the **Clusters** page, choose the cluster\.
  12  
  13: 1. On the **Cluster : *name*** page, choose **Infrastructure**, the Auto Scaling group, and then choose **Delete**\.
  14  
  15: 1. In the confirmation box, enter **delete *Auto Scaling group name***
  16  
  17: 1. Choose **Delete**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/delete-service-v2.md:
   4  
   5: **To delete a service \(Amazon ECS console\)**
   6  

   8  
   9: 1. On the **Clusters** page, select the cluster for the service\.
  10  
  11: 1. On the **Clusters** page, choose the cluster\.
  12  
  13: 1. On the **Cluster : *name*** page, choose the **Services** tab\. 
  14  
  15: 1. To delete a service even if it wasn't scaled down to zero tasks, select **Force delete service**\.
  16  
  17: 1. Select the services, and then choose **Delete**\.
  18  
  19: 1. At the confirmation prompt, enter **delete** and then choose **Delete**\. 

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/delete-service.md:
  18  
  19: 1. In the navigation pane, choose **Clusters** and select the name of the cluster in which your service resides\.
  20  
  21: 1. On the **Cluster : *name*** page, choose **Services**\.
  22  
  23: 1. Check the box to the left of the service to update and choose **Delete**\.
  24  
  25: 1. Confirm the service deletion by entering the text phrase and choose **Delete**\.
  26  

  38     ```
  39: **Note**  
  40  If no service discovery service is returned, continue to step 4\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/delete-task-definition-v2.md:
   8  
   9: **To delete task definitions \(Amazon ECS console\)**
  10  

  16  
  17: 1. In the navigation pane, choose **Task definitions**\.
  18  
  19: 1. On the **Task definitions** page, choose the task definition family that contains one or more revisions that you want to delete\.
  20  
  21: 1. On the **task definition Name** page, select the revisions to delete, and then choose **Actions**, **Delete**\.
  22  
  23: 1. Verify the information in the **Delete** window, and then choose **Delete** to finish\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deployment-type-bluegreen.md:
    5  There are three ways traﬃc can shift during a blue/green deployment:
    6: + **Canary** — Traﬃc is shifted in two increments\. You can choose from predeﬁned canary options that specify the percentage of traﬃc shifted to your updated task set in the ﬁrst increment and the interval, in minutes, before the remaining traﬃc is shifted in the second increment\.
    7: + **Linear** — Traﬃc is shifted in equal increments with an equal number of minutes between each increment\. You can choose from predeﬁned linear options that specify the percentage of traﬃc shifted in each increment and the number of minutes between each increment\.
    8: + **All\-at\-once** — All traﬃc is shifted from the original task set to the updated task set all at once\.
    9  

   11  
   12: **CodeDeploy application**  
   13  A collection of CodeDeploy resources\. This consists of one or more deployment groups\.
   14  
   15: **CodeDeploy deployment group**  
   16  The deployment settings\. This consists of the following:  

   26  
   27: **CodeDeploy deployment configuration**  
   28  Specifies how CodeDeploy routes production traffic to your replacement task set during a deployment\. The following pre\-defined linear and canary deployment configuration are available\. You can also create custom defined linear and canary deployments as well\. For more information, see [Working with Deployment Configurations](https://docs.aws.amazon.com/codedeploy/latest/userguide/deployment-configurations.html) in the *AWS CodeDeploy User Guide*\.      

   30  
   31: **Revision**  
   32  A revision is the CodeDeploy application specification file \(AppSpec file\)\. In the AppSpec file, you specify the full ARN of the task definition and the container and port of your replacement task set where traffic is to be routed when a new deployment is created\. The container name must be one of the container names referenced in your task definition\. If the network configuration or platform version has been updated in the service definition, you must also specify those details in the AppSpec file\. You can also specify the Lambda functions to run during the deployment lifecycle events\. The Lambda functions allow you to run tests and return metrics during the deployment\. For more information, see [AppSpec File Reference](https://docs.aws.amazon.com/codedeploy/latest/userguide/reference-appspec-file.html) in the *AWS CodeDeploy User Guide*\.

   66  |  Deployment group load balancer info  |  The load balancer production listener, optional test listener, and target groups specified are added to the deployment group configuration\.  | 
   67: |  Traffic rerouting settings  |  Traffic rerouting – The default setting is **Reroute traffic immediately**\. You can change it on the CodeDeploy console or by updating the `TrafficRoutingConfig`\. For more information, see [CreateDeploymentConfig](https://docs.aws.amazon.com/codedeploy/latest/APIReference/API_CreateDeploymentConfig.html) in the *AWS CodeDeploy API Reference*\.  | 
   68  |  Original revision termination settings  |  The original revision termination settings are configured to wait 1 hour after traffic has been rerouted before terminating the blue task set\.  | 

   71  
   72: To view details of an Amazon ECS service using the blue/green deployment type, use the **Deployments** tab on the Amazon ECS console\.
   73  

  126  
  127: **Note**  
  128  In addition to the standard Amazon ECS permissions required to run tasks and services, users also require `iam:PassRole` permissions to use IAM roles for tasks\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deployment-type-ecs.md:
  8  
  9: **Important**  
  10  When setting a minimum healthy percent or a maximum percent, you should ensure that the scheduler can stop or start at least one task when a deployment is initiated\. If your service has a deployment that is stuck due to an invalid deployment configuration, a service event message will be sent\. For more information, see [service \(*service\-name*\) was unable to stop or start tasks during a deployment because of the service deployment configuration\. Update the minimumHealthyPercent or maximumPercent value and try again\.](service-event-messages.md#service-event-messages-7)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deployment-type-external.md:
  20  
  21: **To manage an Amazon ECS service using an external deployment controller**
  22  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deployment-types.md:
  6  
  7: **Topics**
  8  + [Rolling update](deployment-type-ecs.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deregister_container_instance_classic_console.md:
   7  
   8: **Important**  
   9  This topic is for container instances created in Amazon EC2 only\.

  26  
  27: 1. In the navigation pane, choose **Clusters** and select the cluster that hosts the container instance\.
  28  
  29: 1. On the **Cluster : *name*** page, choose the **ECS Instances** tab\.  
  30  ![\[ECS Instances Tab\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ECS_Instances_tab.png)

  33  
  34: 1. On the **Container Instance : *id*** page, choose **Deregister**\.
  35  
  36: 1. Review the deregistration message and choose **Deregister**\.
  37  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deregister_container_instance.md:
   2  
   3: **Important**  
   4  This topic is for container instances created in Amazon EC2 only\. For more information about deregistering external instances, see [Deregistering an external instance](ecs-anywhere-deregistration.md)\.

  21  
  22: 1. In the navigation pane, choose **Clusters** and select the cluster that hosts the instance\.
  23  
  24: 1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\.
  25  
  26: 1. Under **Container instances**, select the instance ID to deregister\. You're redirected to the container instance detail page\.
  27  
  28: 1. On the **Container Instance : *id*** page, choose **Deregister**\.
  29  
  30: 1. On the confirmation screen, choose **Deregister**\.
  31  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deregister-task-definition-v2.md:
   8  
   9: **Note**  
  10  When you deregister all revisions in a task family, the task definition family is moved to the `INACTIVE` list\. Adding a new revision of an `INACTIVE` task definition moves the task definition family back to the `ACTIVE` list\.  

  20  
  21: **To deregister a new task definition \(Amazon ECS console\)**
  22  

  26  
  27: 1. In the navigation pane, choose **Task definitions**\.
  28  
  29: 1. On the **Task definitions** page, choose the task definition family that contains one or more revisions that you want to deregister\.
  30  
  31: 1. On the **Task definitions** page, choose the task definition family that contains one or more revisions that you want to deeregister\.
  32  
  33: 1. On the **task definition Name** page, select the revisions to delete, and then choose **Actions**, **Deregister**\.
  34  
  35: 1. Verify the information in the **Deregister** window, and then choose **Deregister** to finish\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/deregister-task-definition.md:
  13  
  14: **Note**  
  15  You can’t deregister a task definition family at one time\. You can only deregister individual revisions or multiple revisions within the family\. When you deregister all revisions, the task definition family is moved to the `INACTIVE` list\. Adding a new revision of an `INACTIVE` task definition moves the task definition family back to the `ACTIVE` list\.  

  17  
  18: **To deregister a new task definition \(Classic Amazon ECS console\)**
  19  

  23  
  24: 1. In the navigation pane, choose **task definitions**\.
  25  
  26: 1. On the **task definitions** page, choose the task definition family that contains one or more revisions that you want to deregister\.
  27  
  28: 1. On the **task definition Name** page, select the box to the left of each task definition revision that you want to deregister\.
  29  
  30: 1. Choose **Actions**, **Deregister**\.
  31  
  32: 1. Verify the information in the **Deregister task definition** window, and then choose **Deregister** to finish\.
  33  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/docker-debug-mode.md:
   6  
   7: **Important**  
   8  This procedure is written for the Amazon ECS\-optimized Amazon Linux AMI\. For other operating systems, see [Enable debugging](https://docs.docker.com/engine/admin/#enable-debugging) and [Control and configure Docker with systemd]() in the Docker documentation\.
   9  
  10: **To enable Docker daemon debug mode on the Amazon ECS\-optimized Amazon Linux AMI**
  11  

  16  1. Find the Docker options statement and add the `-D` option to the string, inside the quotes\.
  17: **Note**  
  18  If the Docker options statement begins with a `#`, remove that character to uncomment the statement and enable the options\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/docker-diags.md:
  42  
  43: **Note**  
  44  Docker logs are only available on the container instance if you are using the default `json` log driver\. If you have configured your tasks to use the `awslogs` log driver, then your container logs are available in CloudWatch Logs\. For more information, see [Using the awslogs log driver](using_awslogs.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/docker-volumes.md:
  122  
  123: **To provide nonpersistent storage for a container using a Docker volume**
  124  

  159  
  160: **To provide persistent storage for a container using a Docker volume**
  161  

  206  
  207: **To provide NFS persistent storage for a container using a Docker volume**
  208  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ec2-run-command.md:
  15  
  16: **Topics**
  17  + [Run Command IAM policy](#run_command_iam_policy)

  23  
  24: **To attach the Systems Manager policies to your `ecsInstanceRole`**
  25  

  27  
  28: 1. In the navigation pane, choose **Roles**\. 
  29  

  31  
  32: 1. Choose the **Permissions** tab\.
  33  
  34: 1. Choose **Attach policies**\.
  35  
  36: 1. To narrow the available policies to attach, for **Filter**, type `SSM`\.
  37  
  38: 1. In the list of policies, select the box next **AmazonSSMManagedInstanceCore**\. Use this policy to provide the minimum permissions that are necessary to use Systems Manager\.
  39  

  41  
  42: 1. Choose **Attach Policy**\.
  43  

  47  
  48: **Example: To update container instance software with Run Command**
  49  

  57  
  58: 1. In the left navigation pane, choose **Run Command**, and then choose **Run command**\.
  59  
  60: 1. For **Command document**, choose `AWS-RunShellScript`\.
  61  
  62: 1. In the **Commands** section, enter the command or commands to send to your container instances\. In this example, the following command updates the instance software:
  63  

  67  
  68: 1. In the **Target instances** section, select the boxes next to the container instances where you want to run the update command\.
  69  
  70: 1. Choose **Run** to send the command to the specified instances\.
  71  

  73  
  74: 1. \(Optional\) In **Targets and output**, choose the button next to the instance ID, and then choose **View output**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_agent.md:
   6  
   7: **Note**  
   8  For tasks using the Fargate launch type and platform version 1\.3\.0 and prior, the Amazon ECS container agent is installed on the AWS managed infrastructure used for these tasks\. If you are only using tasks with the Fargate launch type, no additional configuration is needed and the content in this topic does not apply\. For tasks using the Fargate and platform version 1\.4\.0 and later \(for Linux \) or 1\.0\.0 or later \(for Windows\), the Fargate container agent is used\. For more information, see [AWS Fargate platform versions](https://docs.aws.amazon.com/AmazonECS/latest/userguide/platform_versions.html) in the *Amazon Elastic Container Service User Guide for AWS Fargate*\.
   9  
  10: **Topics**
  11  + [Installing the Amazon ECS container agent](ecs-agent-install.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_AWSCLI_EC2.md:
   4  
   5: **Topics**
   6  + [Prerequisites](#AWSCLI_EC2_prereq)

  29  
  30: **Note**  
  31  The benefit of using the `default` cluster that is provided for you is that you don't have to specify the `--cluster cluster_name` option in the subsequent commands\. If you do create your own, non\-default, cluster, you must specify `--cluster cluster_name` for each command that you intend to use with that cluster\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_AWSCLI_Fargate_windows.md:
   4  
   5: **Topics**
   6  + [Prerequisites](#ECS_AWSCLI_Fargate_windows_prereq)

  33  
  34: **Note**  
  35  The benefit of using the `default` cluster that is provided for you is that you don't have to specify the `--cluster cluster_name` option in the subsequent commands\. If you do create your own, non\-default, cluster, you must specify `--cluster cluster_name` for each command that you intend to use with that cluster\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_AWSCLI_Fargate.md:
    4  
    5: **Topics**
    6  + [Prerequisites](#ECS_AWSCLI_Fargate_prereq)

   34  
   35: **Note**  
   36  The benefit of using the `default` cluster that is provided for you is that you don't have to specify the `--cluster cluster_name` option in the subsequent commands\. If you do create your own, non\-default, cluster, you must specify `--cluster cluster_name` for each command that you intend to use with that cluster\.

  326  
  327: Enter the public IP address in your web browser and you should see a webpage that displays the **Amazon ECS **sample application\.
  328  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_CLI.md:
   22  
   23: **To install the Amazon ECS CLI**
   24  

   45  
   46: **Note**  
   47  If you encounter permission issues, ensure that you have administrator access on Windows and you are running PowerShell as an administrator\.

  358        ```
  359: **Important**  
  360  The warning in the output is expected and is not problematic\. It occurs because there is not a chain of trust between your personal PGP key \(if you have one\) and the Amazon ECS PGP key\. For more information, see [Web of trust](https://en.wikipedia.org/wiki/Web_of_trust)\.

  381  
  382: **Note**  
  383  After the `PATH` variable is set, the Amazon ECS CLI can be used from either Windows PowerShell or the command prompt\.

  393     Proceed to [Configuring the Amazon ECS CLI](#ECS_CLI_Configuration)\.
  394: **Important**  
  395  You must configure the Amazon ECS CLI with your AWS credentials, an AWS Region, and an Amazon ECS cluster name before you can use it\. For more information, see [Configuring the Amazon ECS CLI](#ECS_CLI_Configuration)\.

  405  
  406: **To configure the Amazon ECS CLI**
  407  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs_cwe_events.md:
    4  
    5: **Note**  
    6  Amazon ECS may add other event types, sources, and details in the future\. If you are deserializing event JSON data in code, make sure that your application is prepared to handle unknown properties to avoid issues if and when these additional properties are added\.

   46  
   47: **Example Container instance state change event**  
   48  Container instance state change events are delivered in the following format\. The `detail` section below resembles the [ContainerInstance](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_ContainerInstance.html) object that is returned from a [DescribeContainerInstances](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_DescribeContainerInstances.html) API operation in the *Amazon Elastic Container Service API Reference*\. For more information about EventBridge parameters, see [Events and Event Patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eventbridge-and-event-patterns.html) in the *Amazon EventBridge User Guide*\.  

  203  
  204: **Example Task state change event**  
  205  Task state change events are delivered in the following format\. The `detail` section below resembles the [Task](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_Task.html) object that is returned from a [DescribeTasks](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_DescribeTasks.html) API operation in the *Amazon Elastic Container Service API Reference*\. If your containers are using an image hosted with Amazon ECR, the `imageDigest` field is returned\.  

  296  
  297: Amazon ECS sends service action events with the detail type **ECS Service Action**\. Unlike the container instance and task state change events, the service action events do not include a version number in the `details` response field\. The following is an event pattern that is used to create an EventBridge rule for Amazon ECS service action events\. For more information, see [Creating an EventBridge Rule](https://docs.aws.amazon.com/eventbridge/latest/userguide/create-eventbridge-rule.html) in the *Amazon EventBridge User Guide*\.
  298  

  352  
  353: **Example Service steady state event**  
  354  Service steady state events are delivered in the following format\. For more information about EventBridge parameters, see [Events and Event Patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eventbridge-and-event-patterns.html) in the *Amazon EventBridge User Guide*\.  

  376  
  377: **Example Capacity provider steady state event**  
  378  Capacity provider steady state events are delivered in the following format\.  

  403  
  404: **Example Service task start impaired event**  
  405  Service task start impaired events are delivered in the following format\.  

  427  
  428: **Example Service task placement failure event**  
  429  Service task placement failure events are delivered in the following format\. For more information about EventBridge parameters, see [Events and Event Patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eventbridge-and-event-patterns.html) in the *Amazon EventBridge User Guide*\.  

  484  
  485: Amazon ECS sends service deployment change state events with the detail type **ECS Deployment State Change**\. The following is an event pattern that is used to create an EventBridge rule for Amazon ECS service deployment state change events\. For more information, see [Creating an EventBridge Rule](https://docs.aws.amazon.com/eventbridge/latest/userguide/create-eventbridge-rule.html) in the *Amazon EventBridge User Guide*\.
  486  

  508  
  509: **Example service deployment in progress event**  
  510  Service deployment in progress events are delivered when both an initial and a rollback deployment is started\. The difference between the two is in the `reason` field\. For more information about EventBridge parameters, see [Events and Event Patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eventbridge-and-event-patterns.html) in the *Amazon EventBridge User Guide*\.  

  557  
  558: **Example service deployment completed event**  
  559  Service deployment completed state events are delivered in the following format\. For more information, see [Rolling update](deployment-type-ecs.md)\.  

  582  
  583: **Example service deployment failed event**  
  584  Service deployment failed state events are delivered in the following format\. A service deployment failed state event will only be sent for services that have deployment circuit breaker logic turned on\. For more information, see [Rolling update](deployment-type-ecs.md)\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs_cwet.md:
   14  
   15: 1. Choose **Create function**\. 
   16  
   17: 1. On the **Author from scratch** screen, do the following:
   18  
   19:    1. For **Name**, enter a value\. 
   20  
   21:    1. For **Runtime**, choose your version of Python, for example, **Python 3\.9**\.
   22  
   23:    1. For **Role**, choose **Create a new role with basic Lambda permissions**\.
   24  
   25: 1. Choose **Create function**\.
   26  
   27: 1. In the **Function code** section, edit the sample code to match the following example:
   28  

   41  
   42: 1. Choose **Save**\.
   43  

   47  
   48: **Note**  
   49  When you use the AWS Management Console to create an event rule, the console automatically adds the IAM permissions necessary to grant CloudWatch Events permission to call your Lambda function\. If you are creating an event rule using the AWS CLI, you need to grant this permission explicitly\. For more information, see [Events and Event Patterns](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/CloudWatchEventsandEventPatterns.html) in the *Amazon CloudWatch Events User Guide*\.
   50  
   51: **To route events to your Lambda function**
   52  

   54  
   55: 1. On the navigation pane, choose **Events**, **Rules**, **Create rule**\.
   56  
   57: 1. For **Event Source**, choose **ECS** as the event source\. By default, the rule applies to all Amazon ECS events for all of your Amazon ECS groups\. Alternatively, you can select specific events or a specific Amazon ECS group\.
   58  
   59: 1. For **Targets**, choose **Add target**, for **Target type**, choose **Lambda function**, and then select your Lambda function\.
   60  
   61: 1. Choose **Configure details**\.
   62  
   63: 1. For **Rule definition**, type a name and description for your rule and choose **Create rule**\.
   64  

   70  
   71: 1. In the navigation pane, choose **Task Definitions**\.
   72  
   73: 1. Choose **Create new Task Definition**, **Create new revision with JSON**\.
   74  
   75: 1. Copy and paste the following example task definition into the box and then choose **Save**\.
   76  

  104  
  105: 1. Choose **Create**\.
  106  

  110  
  111: **To test your rule**
  112  

  114  
  115: 1. Choose **Task definitions**\.
  116  
  117: 1. Choose **console\-sample\-app\-static**, and then choose **Deploy**, **Run new task**\.
  118  
  119: 1. For **Cluster**, choose default, and then choose **Deploy**\.
  120  

  122  
  123: 1. On the navigation pane, choose **Logs** and select the log group for your Lambda function \(for example, **/aws/lambda/***my\-function*\)\.
  124  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs_cwet2.md:
   65  
   66: 1. In the navigation pane, choose **Task definitions**\.
   67  
   68: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
   69  

   98  
   99: 1. Choose **Create**\.
  100  
  101: **To run a task from the console**
  102  

  104  
  105: 1. On the **Clusters** page, select the cluster you created in the prerequisites\.
  106  
  107: 1. From the **Tasks** tab, choose **Run new task**\.
  108  
  109: 1. For **Application type**, choose **Task**\.
  110  
  111: 1. For **Task definition**, choose **fargate\-task\-definition**\.
  112  
  113: 1. For **Desired tasks**, enter the number of tasks to launch\.
  114  
  115: 1. Choose **Create**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_instances.md:
   4  
   5: **Note**  
   6  Tasks using the Fargate launch type are deployed onto infrastructure managed by AWS, so this topic does not apply\.

  12  
  13: **Topics**
  14  + [Container instance concepts](#container_instance_concepts)

  44  
  45: **Important**  
  46  If you stop and start a container instance, or reboot that instance, some older versions of the Amazon ECS container agent register the instance again without deregistering the original container instance ID\. In this case, Amazon ECS lists more container instances in your cluster than you actually have\. \(If you have duplicate container instance IDs for the same Amazon EC2 instance ID, you can safely deregister the duplicates that are listed as `ACTIVE` with an agent connection status of `FALSE`\.\) This issue is fixed in the current version of the Amazon ECS container agent\. For more information about updating to the current version, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.

  51  
  52: **Important**  
  53   You can drain the instances manually, or build an Auto Scaling group lifecycle hook to set the instance status to `DRAINING`\. See [Amazon EC2 Auto Scaling lifecycle hooks](https://docs.aws.amazon.com/autoscaling/ec2/userguide/lifecycle-hooks.html) for more information about Auto Scaling lifecycle hooks\.

  60  
  61: **To check for the `ecsInstanceRole` in the IAM console**
  62  

  64  
  65: 1. In the navigation pane, choose **Roles**\. 
  66  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs_monitoring.md:
  20  
  21: **Topics**
  22  + [Monitoring tools](monitoring-automated-manual.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs_run_task.md:
  18  
  19: 1. In the navigation pane, choose **Task Definitions** and select the task definition to run\.
  20     + To run the latest revision of a task definition, select the box to the left of the task definition to run\.

  22  
  23: 1. Choose **Actions**, **Run Task**\.
  24  
  25: 1. On the **Run Task** page, complete the following steps\.
  26  
  27     1. Choose either a capacity provider strategy or a launch type\.
  28:       + To use a **Capacity provider strategy** and choose **Switch to capacity provider strategy**\. Then, choose whether your task uses the default capacity provider strategy that's defined for the cluster or a custom capacity provider strategy\. A capacity provider must be associated with the cluster to be used in a custom capacity provider strategy\. For more information, see [Amazon ECS capacity providers](cluster-capacity-providers.md)\.
  29:       + To use a **Launch type**, choose **Switch to launch type** and select either **EC2** or **EXTERNAL**\. For more information about launch types, see [Amazon ECS launch types](launch_types.md)\.
  30  
  31:    1. For **Cluster**, choose the cluster to use\.
  32  
  33:    1. For **Number of tasks**, enter the number of tasks to launch with this task definition\.
  34  
  35:    1. For **Task group**, enter the name of the task group\.
  36  

  38  
  39:    1. For **Cluster VPC**, choose the VPC that your container instances reside in\.
  40  
  41:    1. For **Subnets**, choose the available subnets for your task\.
  42: **Important**  
  43  Only private subnets are supported for the `awsvpc` network mode\. Tasks don't receive public IP addresses\. Therefore, a NAT gateway is required for outbound internet access, and inbound internet traffic is routed through a load balancer\.
  44  
  45:    1. For **Security groups**, a security group was created for your task that allows HTTP traffic from the internet \(0\.0\.0\.0/0\)\. To edit the name or the rules of this security group, choose **Edit** and then modify your security group settings\. Do the same if you want to choose an existing security group\.
  46  
  47: 1. \(Optional\) For **Task Placement**, you can specify how tasks are placed using task placement strategies and constraints\. Choose from the following options:
  48:    + **AZ Balanced Spread** \- Distribute tasks across Availability Zones and across container instances in the Availability Zone\.
  49:    + **AZ Balanced BinPack** \- Distribute tasks across Availability Zones and across container instances with the least available memory\.
  50:    + **BinPack** \- Distribute tasks based on the least available amount of CPU or memory\.
  51:    + **One Task Per Host** \- Place, at most, one task from the service on each container instance\.
  52:    + **Custom** \- Define your own task placement strategy\. 
  53  

  55  
  56: 1. \(Optional\) To send command, environment variable, task IAM role, or task execution role overrides to one or more containers in your task definition, choose **Advanced Options** and complete the following steps:
  57: **Note**  
  58  If you intend to use the parameter values from your task definition, you don't need to specify overrides\. These fields are only used to override the values that are specified in the task definition\.
  59  
  60:    1. For **Task Role Override**, choose an IAM role for this task to override the task IAM role that's specified in the task definition\. For more information, see [Task IAM role](task-iam-roles.md)\.
  61  

  63  
  64:    1. For **Task Execution Role Override**, choose a task execution role to override the task execution role specified in the task definition\. For more information, see [Amazon ECS task execution IAM role](task_execution_IAM_role.md)\.
  65  
  66: 1. \(Optional\) To override the container commands and environment variables, expand **Container Overrides**, and then expand the container\.
  67:    +  To send a command to the container other than the task definition command, for **Command override**, enter the Docker command\.
  68  
  69       For more information about the Docker run command, see [Docker Run reference](https://docs.docker.com/engine/reference/run/) in the Docker Reference Manual\.
  70:    + To add an environment variable, choose **Add Environment Variable**\. For **Key**, enter the name of your environment variable\. For **Value**, enter a string value for your environment value \(without the surrounding double quotation marks \(`" "`\)\)\.
  71  

  77  
  78: 1. In the **Task tagging configuration** section, complete the following steps:
  79  
  80:    1. Select **Enable ECS managed tags** if you want Amazon ECS to automatically tag each task with the Amazon ECS managed tags\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  81  
  82:    1. For **Propagate tags from**, select one of the following:
  83:       + **Do not propagate** – This option will not propagate any tags\.
  84:       + **Task Definitions** – This option will propagate the tags specified in the task definition to the task\.
  85: **Note**  
  86: If you specify a tag with the same `key` in the **Tags** section, it will override the tag propagated from the task definition\.
  87  
  88: 1. In the **Tags** section, specify the key and value for each tag to associate with the task\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
  89  
  90: 1. Review your task information and choose **Run Task**\.
  91: **Note**  
  92  If your task moves from the `PENDING` to the `STOPPED` status, your task might be stopping because of an error\. This is also the case if it displays a `PENDING` status and then disappears from the listed tasks\. For more information, see [Checking stopped tasks for errors](stopped-task-errors.md) in the troubleshooting section\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs_services.md:
   6  
   7: **Topics**
   8  + [Service scheduler concepts](#service_scheduler)

  28  + `DAEMON`—The daemon scheduling strategy deploys exactly one task on each active container instance that meets all of the task placement constraints that you specify in your cluster\. The service scheduler evaluates the task placement constraints for running tasks and will stop tasks that do not meet the placement constraints\. When using this strategy, there is no need to specify a desired number of tasks, a task placement strategy, or use Service Auto Scaling policies\. For more information, see [Daemon](#service_scheduler_daemon)\.
  29: **Note**  
  30  Fargate tasks do not support the `DAEMON` scheduling strategy\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_Windows_getting_started.md:
   11  
   12: **Topics**
   13  + [Step 1: Create a Windows cluster](#create_windows_cluster)

   21  
   22: **To create a cluster with the AWS Management Console**
   23  

   25  
   26: 1. In the navigation pane, choose **Clusters**\.
   27  
   28: 1. On the **Clusters** page, choose **Create Cluster**\.
   29  
   30: 1. Choose **EC2 Windows \+ Networking** and choose **Next step**\.
   31  
   32: 1. For **Cluster name** enter a name for your cluster \(in this example, `windows` is the name of the cluster\)\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
   33  
   34: 1. In the **Instance configuation** section, complete the following steps\.
   35  
   36:    1. For **Provisioning model**, choose one of the following instance types:
   37:       + **On\-Demand Instance**– With On\-Demand Instances, you pay for compute capacity by the hour with no long\-term commitments or upfront payments\.
   38:       + **Spot**– Spot Instances allow you to bid on spare Amazon EC2 computing capacity for up to 90% off the On\-Demand price\. For more information, see [Spot Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html)\.
   39: **Note**  
   40  Spot Instances are subject to possible interruptions\. We recommend that you avoid Spot Instances for applications that can't be interrupted\. For more information, see [Spot Instance Interruptions](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-interruptions.html)\.

   43  
   44:       1. For **Spot Instance allocation strategy**, choose the strategy that meets your needs\. For more information, see [Spot Fleet Allocation Strategy](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-fleet.html#spot-fleet-allocation-strategy)\.
   45  
   46:       1. For **Maximum bid price \(per instance/hour\)**, specify a bid price\. If your bid price is lower than the Spot price for the instance types that you selected, your Spot Instances are not launched\.
   47  
   48:    1. For **EC2 instance type** page, choose the hardware configuration of your instance\. The instance type that you select determines the resources available for your tasks to run on\.
   49  
   50:    1. For **Number of instances**, choose the number of Amazon EC2 instances to launch into your cluster\.
   51  
   52:    1. For **EC2 AMI Id**, choose the Amazon ECS\-optimized AMI to use for your container instances\. The available AMIs will be determined by the Region and instance type you chose\. For more information, see [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)\.
   53  
   54:    1. For **EBS storage \(GiB\)**, choose the size of the Amazon EBS volume to use for data storage on your container instances\. You can increase the size of the data volume to allow for greater image and container storage\.
   55  
   56:    1. For **Key pair**, choose an Amazon EC2 key pair to use with your container instances for RDP access\. If you do not specify a key pair, you cannot connect to your container instances with RDP\. For more information, see [Amazon EC2 Key Pairs](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html) in the *Amazon EC2 User Guide for Linux Instances*\.
   57  
   58: 1. In the **Networking** section, configure the VPC to launch your container instances into\. By default, the cluster creation wizard creates a new VPC with two subnets in different Availability Zones, and a security group open to the internet on port 80\. This is a basic setup that works well for an HTTP service\. However, you can modify these settings by following the substeps below\.
   59  
   60:    1. For **VPC**, create a new VPC, or select an existing VPC\.
   61  
   62:    1. \(Optional\) If you chose to create a new VPC, for **CIDR Block**, select a CIDR block for your VPC\. For more information, see [Your VPC and Subnets](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html) in the *Amazon VPC User Guide*\.
   63  
   64:    1. For **Subnets**, select the subnets to use for your VPC\. If you chose to create a new VPC, you can keep the default settings or you can modify them to meet your needs\. If you chose to use an existing VPC, select one or more subnets in that VPC to use for your cluster\.
   65  
   66:    1. For **Security group**, select the security group to attach to the container instances in your cluster\. If you choose to create a new security group, you can specify a CIDR block to allow inbound traffic from\. The default port 0\.0\.0\.0/0 is open to the internet\. You can also select a single port or a range of contiguous ports to open on the container instance\. For more complicated security group rules, you can choose an existing security group that you have already created\.
   67: **Note**  
   68  You can also choose to create a new security group and then modify the rules after the cluster is created\. For more information, see [Amazon EC2 security groups for Windows instances](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-security-groups.html) in the *Amazon EC2 User Guide for Windows Instances*\.
   69  
   70:    1. In the **Container instance IAM role** section, select the IAM role to use with your container instances\. If your account has the **ecsInstanceRole** that is created for you in the console first\-run wizard, it is selected by default\. If you do not have this role in your account, you can choose to create the role, or you can choose another IAM role to use with your container instances\.
   71: **Important**  
   72  The IAM role you use must have the `AmazonEC2ContainerServiceforEC2Role` managed policy attached to it, otherwise you will receive an error during cluster creation\. If you do not launch your container instance with the proper IAM permissions, your Amazon ECS agent does not connect to your cluster\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
   73  
   74:    1. If you chose the Spot Instance type earlier, the **Spot Fleet Role IAM role** section indicates that an IAM role `ecsSpotFleetRole` is created\.
   75  
   76: 1. In the **Tags** section, specify the key and value for each tag to associate with the cluster\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
   77  
   78: 1. In the **CloudWatch Container Insights** section, choose whether to enable Container Insights for the cluster\. For more information, see [Amazon ECS CloudWatch Container Insights](cloudwatch-container-insights.md)\.
   79  
   80: 1. Choose **Create**\.
   81: **Note**  
   82  It can take up to 15 minutes for your Windows container instances to register with your cluster\.

   87  
   88: **To register the sample task definition with the AWS Management Console**
   89  

   91  
   92: 1. In the navigation pane, choose **Task Definitions**\.
   93  
   94: 1. On the **Task Definitions** page, choose **Create new Task Definition**\.
   95  
   96: 1. On the **Select launch type compatibilities** page, choose **EC2**, **Next step**\.
   97  
   98: 1. Scroll to the bottom of the page and choose **Configure via JSON**\.
   99  
  100: 1. Paste the sample task definition JSON below into the text area \(replacing the pre\-populated JSON there\) and choose **Save**\.
  101  

  125  
  126: 1. Verify your information and choose **Create**\.
  127  
  128: **To register the sample task definition with the AWS CLI**
  129  

  134  1. Using the AWS CLI, run the following command to register the task definition with Amazon ECS\.
  135: **Note**  
  136  Make sure that your AWS CLI is configured to use the same region that your Windows cluster exists in, or add the `--region your_cluster_region` option to your command\.

  145  
  146: **To create a service from your task definition with the console**
  147  
  148: 1. On the **Task Definition: windows\-simple\-iis** registration confirmation page, choose **Actions**, **Create Service**\.
  149  
  150: 1. On the **Create Service** page, enter the following information and then choose **Create service**\.
  151:    + **Launch type:** `EC2`
  152:    + **Cluster:** windows
  153:    + **Service name:** windows\-simple\-iis
  154:    + **Service type:** `REPLICA`
  155:    + **Number of tasks:** 1
  156:    + **Deployment type:** Rolling update
  157  
  158: **To create a service from your task definition with the AWS CLI**
  159  + Using the AWS CLI, run the following command to create your service\.

  168  
  169: **Note**  
  170  It can take up to 15 minutes for your container instance to download and extract the Windows container base layers\.
  171  
  172: **To view your service**
  173  

  175  
  176: 1. On the **Clusters** page, choose the **windows** cluster\.
  177  
  178: 1. In the **Services** tab, choose the **windows\-simple\-iis** service\.
  179  
  180: 1. On the **Service: windows\-simple\-iis** page, choose the task ID for the task in your service\.
  181  
  182: 1. On the **Task** page, expand the `iis` container to view its information\.
  183  
  184: 1. In the **Network bindings** of the container, you should see an **External Link** IP address and port combination link\. Choose that link to open the IIS test page in your browser\.  
  185  ![\[Screenshot of the Amazon ECS simple-iis application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/windows-simple-iis.png)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS_Windows.md:
   9  Amazon ECS vends AMIs that are optimized for Windows containers in the following variants\. For more information, see [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)\.
  10: + **Amazon ECS\-optimized Windows Server 2022 Full AMI** – Recommended for launching your Amazon ECS container instances on the Windows operating system\.
  11: + **Amazon ECS\-optimized Windows Server 2022 Core AMI** – Recommended for launching your Amazon ECS container instances on the Windows operating system\.
  12: + **Amazon ECS\-optimized Windows Server 2019 Full AMI** – Recommended for launching your Amazon ECS container instances on the Windows operating system\.
  13: + **Amazon ECS\-optimized Windows Server 2019 Core AMI** – Recommended for launching your Amazon ECS container instances on the Windows operating system\.
  14: + **Amazon ECS\-optimized Windows Server 2004 Core AMI** – Available for launching your Amazon ECS container instances on the Windows operating system\.
  15: **Important**  
  16  The Amazon ECS\-optimized Windows Server 2004 Core AMI is being deprecated\. No new versions of this AMI will be released\.
  17: + **Amazon ECS\-optimized Windows Server 1909 Core AMI** – Available for launching your Amazon ECS container instances on the Windows operating system\.
  18: **Important**  
  19  The Amazon ECS\-optimized Windows Server 1909 Core AMI is being deprecated\. No new versions of this AMI will be released\.
  20: + **Amazon ECS\-optimized Windows Server 2016 Full AMI** – Available for launching your Amazon ECS container instances on the Windows operating system\.
  21  

  23  
  24: **Topics**
  25  + [Windows container caveats](#windows_caveats)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-account-settings.md:
    9  
   10: **Note**  
   11  Federated users assume the account setting of the root user and can't have explicit account settings set for them separately\.

   14  
   15: **Amazon Resource Names \(ARNs\) and IDs**  
   16  Resource names: `serviceLongArnFormat`, `taskLongArnFormat`, and `containerInstanceLongArnFormat`  

   20  
   21: **AWSVPC trunking**  
   22  Resource name: `awsvpcTrunking`  

   25  
   26: **CloudWatch Container Insights**  
   27  Resource name: `containerInsights`  

   31  
   32: **Dual\-stack VPC IPv6**  
   33  Resource name: `dualStackIPv6`  

   38  
   39: **Fargate FIPS\-140 compliance**  
   40  Resource name: `fargateFIPSMode`  

   43  
   44: **Tag Resource Authorization**  
   45  Resource name: `tagResourceAuthorization`  

   48  
   49: **Topics**
   50  + [Amazon Resource Names \(ARNs\) and IDs](#ecs-resource-ids)

   67  
   68: **Note**  
   69  A resource ID doesn't change after it's created\. Therefore, opting in or out of the new format doesn't affect your existing resource IDs\.

   72  
   73: **Amazon Resource Name \(ARN\) format**  
   74  Some resources have a user\-friendly name, such as a service named `production`\. In other cases, you must specify a resource using the Amazon Resource Name \(ARN\) format\. The new ARN format for Amazon ECS tasks, services, and container instances includes the cluster name\. For information about opting in to the new ARN format, see [Modifying account settings](ecs-modifying-longer-id-settings.md)\.

   84  
   85: **Resource ID length**  
   86  A resource ID takes the form of a unique combination of letters and numbers\. New resource ID formats include shorter IDs for Amazon ECS tasks and container instances\. The current resource ID format is 36 characters long\. The new IDs are in a 32\-character format that doesn't include any hyphens\. For information about opting in to the new resource ID format, see [Modifying account settings](ecs-modifying-longer-id-settings.md)\.

  158  + April 27, 2023 through July 16, 2023 – All new accounts and non\-impacted existing accounts are automatically migrated to tagging authorization\. 
  159: **Note**  
  160  To opt out, run `put-account-setting-default` with the `tagResourceAuthorization` option set to `off`\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-agent-install.md:
    7  
    8: **Note**  
    9  The `systemd` units for both Amazon ECS and Docker services have a directive to wait for `cloud-init` to finish before starting both services\. The `cloud-init` process is not considered finished until your Amazon EC2 user data has finished running\. Therefore, starting Amazon ECS or Docker via Amazon EC2 user data may cause a deadlock\. To start the container agent using Amazon EC2 user data you can use `systemctl enable --now --no-block ecs.service`\.

   14  
   15: **To install the Amazon ECS container agent on an Amazon Linux 2 EC2 instance**
   16  

   37     ```
   38: **Note**  
   39  If you get no response, ensure that you associated the Amazon ECS container instance IAM role when launching the instance\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.

   44  
   45: **To install the Amazon ECS container agent on an Amazon Linux AMI EC2 instance**
   46  

   91  
   92: **Note**  
   93  When using a non\-Amazon Linux AMI, your Amazon EC2 instance requires `cgroupfs` support for the `cgroup` driver in order for the Amazon ECS agent to support task level resource limits\. For more information, see [Amazon ECS agent on GitHub](https://github.com/aws/amazon-ecs-agent)\.

  118  
  119: **To install the Amazon ECS container agent on an Amazon EC2 instance using a non\-Amazon Linux AMI**
  120  

  155     For more information about these and other agent runtime options, see [Amazon ECS container agent configuration](ecs-agent-config.md)\. 
  156: **Note**  
  157  You can optionally store your agent environment variables in Amazon S3 \(which can be downloaded to your container instances at launch time using Amazon EC2 user data\)\. This is recommended for sensitive information such as authentication credentials for private repositories\. For more information, see [Storing container instance configuration in Amazon S3](ecs-agent-config.md#ecs-config-s3) and [Private registry authentication for tasks](private-auth.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-agent-introspection.md:
   4  
   5: **Important**  
   6  Your container instance must have an IAM role that allows access to Amazon ECS in order to retrieve the metadata\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.

  63  
  64: **Note**  
  65  Amazon ECS container agents before version 1\.14\.2 require full Docker container IDs for the introspection API, not the short version that is shown with docker ps\. You can get the full Docker ID for a container by running the docker ps \-\-no\-trunc command on the container instance\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-agent-update.md:
   4  
   5: **Note**  
   6  Agent updates do not apply to Windows container instances\. We recommend that you launch new container instances to update the agent version in your Windows clusters\.
   7  
   8: **Topics**
   9  + [Checking the Amazon ECS container agent version](#checking_agent_version)

  23  
  24: 1. In the navigation pane, choose **Clusters** and select the cluster that hosts the external instance\.
  25  
  26: 1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\.
  27  
  28: 1. Under **Container instances**, note the **Agent version** column for your container instances\. If the container instance does not contain the latest version of the container agent, the console alerts you with a message and flags the outdated agent version\.
  29  

  32     + If your container instance is not running an Amazon ECS\-optimized AMI, see [Manually updating the Amazon ECS container agent \(for non\-Amazon ECS\-Optimized AMIs\)](manually_update_agent.md)\.
  33: **Important**  
  34  To update the Amazon ECS agent version from versions before v1\.0\.0 on your Amazon ECS\-optimized AMI, we recommend that you terminate your current container instance and launch a new instance with the most recent AMI version\. Any container instances that use a preview version should be retired and replaced with the most recent AMI\. For more information, see [Launching an Amazon ECS Linux container instance](launch_container_instance.md)\.

  40  
  41: **To check if your Amazon ECS container agent is running the latest version with the introspection API**
  42  

  49     ```
  50: **Note**  
  51  The introspection API added `Version` information in the version v1\.0\.0 of the Amazon ECS container agent\. If `Version` is not present when querying the introspection API, or the introspection API is not present in your agent at all, then the version you are running is v0\.0\.3 or earlier\. You should update your version\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-agent-versions.md:
   14  
   15: **Note**  
   16  As new Amazon ECS\-optimized Amazon Linux 2 AMIs and Amazon ECS agent versions are released, older versions are still available for launch in Amazon EC2\. However, we encourage you to [update to the latest version](ecs-agent-update.md) of the Amazon ECS agent and to keep your container instance software up to date\. If you request support for an older version of the Amazon ECS agent through AWS Support, you may be asked to move to the latest version as a part of the support process\.
   17  
   18: **Important**  
   19  Amazon ECS agent versions 1\.20\.0 and later have deprecated support for Docker versions older than 1\.9\.0\.

  135  
  136: **Note**  
  137  As new Amazon ECS\-optimized Amazon Linux AMIs and Amazon ECS agent versions are released, older versions are still available for launch in Amazon EC2\. However, we encourage you to [update to the latest version](ecs-agent-update.md) of the Amazon ECS agent and to keep your container instance software up\-to\-date\. If you request support for an older version of the Amazon ECS agent through AWS Support, you may be asked to move to the latest version as a part of the support process\.
  138  
  139: **Important**  
  140  Amazon ECS agent versions 1\.20\.0 and later have deprecated support for Docker versions older than 1\.9\.0\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-ami-build-scripts.md:
   8  
   9: **To build an Amazon ECS\-optimized Linux AMI**
  10  

  63       ```
  64: **Important**  
  65  On April 15, 2021, the Amazon ECS\-optimized Amazon Linux AMI ended its standard support phase and entered a maintenance support phase\. In the maintenance support phase, Amazon ECS will continue providing critical and important security updates for a reduced list of packages\. During this period, Amazon ECS will no longer add support for new EC2 instance types, new services and features, and new packages\. Instead, Amazon ECS will provide updates only for critical and important security fixes that apply to a reduced set of packages\. Maintenance support period will end on June 30, 2023\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-ami-storage-config.md:
    2  
    3: **Important**  
    4: The **Amazon ECS\-optimized Amazon Linux AMI** is deprecated as of April 15, 2021\. After that date, Amazon ECS will continue providing critical and important security updates for the AMI but will not add support for new features\.
    5  

    7  
    8: **Topics**
    9  + [Amazon Linux 2 storage configuration](#al2-ami-storage-config)

   26  
   27: **Important**  
   28: The **Amazon ECS\-optimized Amazon Linux AMI** is deprecated as of April 15, 2021\. After that date, Amazon ECS will continue providing critical and important security updates for the AMI but will not add support for new features\.
   29  

   35  
   36: **Note**  
   37  You can increase these default volume sizes by changing the block device mapping settings for your instances when you launch them; however, you cannot specify a smaller volume size than the default\. For more information, see [Block Device Mapping](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html) in the *Amazon EC2 User Guide for Linux Instances*\.

   40  
   41: **Note**  
   42  Earlier Amazon ECS\-optimized Amazon Linux AMI versions \(`2015.09.d` to `2016.03.a`\) create a logical volume that uses 40% of the available storage in the volume group\. When the logical volume becomes 60% full, the logical volume is increased in size by 20%\.
   43  
   44: **To determine the available storage for Docker**
   45  + You can use the LVM commands, vgs and lvs, or the docker info command to view available storage for Docker\.
   46: **Note**  
   47  The LVM command output displays storage values in GiB \(2^30 bytes\), and docker info displays storage values in GB \(10^9 bytes\)\.

   75    1. The docker info command also provides information about how much data space it is using, and how much data space is available\. However, its available space value is based on the logical volume size that it is using\.
   76: **Note**  
   77  Because docker info displays storage values as GB \(10^9 bytes\), instead of GiB \(2^30 bytes\), the values displayed here look larger for the same amount of storage displayed with lvs\. However, the values are equal \(23\.35 GB = 21\.75 GiB\)\.

   90  
   91: **To extend the Docker logical volume**
   92  
   93  The easiest way to add storage to your Amazon EC2 instances is to terminate the existing instances and launch new ones with larger data storage volumes\. However, if you are unable to do this, you can add storage to the volume group that Docker uses and extend its logical volume by following these steps\.
   94: **Note**  
   95  If your Amazon EC2 instance storage is filling up too quickly, there are a few actions that you can take to reduce this effect:  

  193  1. \(Optional\) Verify that docker info also recognizes the added storage space\.
  194: **Note**  
  195  Because docker info displays storage values as GB \(10^9 bytes\), instead of GiB \(2^30 bytes\), the values displayed here look larger for the same amount of storage displayed with lvs\. However, the values are equal \(1\.539 TB =1\.40 TiB\)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-ami-versions.md:
  540  
  541: **Important**  
  542: The **Amazon ECS\-optimized Amazon Linux AMI** is deprecated as of April 15, 2021\. After that date, Amazon ECS will continue providing critical and important security updates for the AMI but will not add support for new features\.
  543  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ECS-AMI-windows-SubscribeTopic.md:
  4  
  5: **Note**  
  6  Your user, or the role attached to your user must have the `sns::subscribe` IAM permission to subscribe to an Amazon SNS topic\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-deregistration-classic-console.md:
  17  
  18: 1. In the navigation pane, choose **Clusters** and select the cluster that hosts the external instance\.
  19  
  20: 1. On the **Cluster : *name*** page, choose the **ECS Instances** tab\.  
  21  ![\[ECS Instances tab\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ECS_Instances_tab.png)

  24  
  25: 1. On the **Container Instance : *id*** page, choose **Deregister**\.
  26  
  27: 1. Review the deregistration message\. Select **Deregister from AWS Systems Manager** to also deregister the external instance as an Systems Manager managed instance\. Choose **Deregister**\.
  28: **Note**  
  29  You can deregister the external instance as an Systems Manager managed instance in the Systems Manager console\. For instructions, see [Deregistering managed instances](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-managed-instances-advanced-deregister.html) in the *AWS Systems Manager User Guide*\.

  47  
  48:    **For CentOS 7, CentOS 8, and RHEL 7**
  49  

  53  
  54:    **For SUSE Enterprise Server 15**
  55  

  59  
  60:    **For Debian and Ubuntu**
  61  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-deregistration.md:
  12  
  13: 1. In the navigation pane, choose **Clusters** and select the cluster that hosts the external instance\.
  14  
  15: 1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\.
  16  
  17: 1. Under **Container instances**, select the external instance ID to deregister\. You're redirected to the container instance detail page\.
  18  
  19: 1. On the **Container Instance : *id*** page, choose **Deregister**\.
  20  
  21: 1. Review the deregistration message\. Select **Deregister from AWS Systems Manager** to also deregister the external instance as an Systems Manager managed instance\. Choose **Deregister**\.
  22: **Note**  
  23  You can deregister the external instance as an Systems Manager managed instance in the Systems Manager console\. For instructions, see [Deregistering managed instances](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-managed-instances-advanced-deregister.html) in the *AWS Systems Manager User Guide*\.

  39  
  40:    **For CentOS 7, CentOS 8, and RHEL 7**
  41  

  45  
  46:    **For SUSE Enterprise Server 15**
  47  

  51  
  52:    **For Debian and Ubuntu**
  53  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-iam.md:
  10  
  11: **To create the ECS Anywhere IAM role \(AWS Management Console\)**
  12  

  14  
  15: 1. In the navigation pane, choose **Roles** and then choose **Create role**\.
  16  
  17: 1. Choose the **AWS service** role type, and then choose **Systems Manager**, ** Allows SSM to call AWS services on your behalf **\.
  18  
  19: 1. Choose the **Systems Manager** use case and then **Next: Permissions**\.
  20  
  21: 1. In the **Attached permissions policy** section, search for and select the **AmazonSSMManagedInstanceCore** and **AmazonEC2ContainerServiceforEC2Role** policies and then choose **Next: Review**\.
  22: **Important**  
  23  The `AmazonEC2ContainerServiceforEC2Role` managed policy provides permissions that are needed for your on\-premises server or VM\. However, the `AmazonEC2ContainerServiceforEC2Role` managed policy might grant permissions that aren't needed for your use case\. Review the permissions granted by this policy and see if your use case doesn't require all of the permissions\. Then, depending on your situation, optionally create a custom policy and add only the permissions you require\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
  24  
  25: 1. For **Add tags \(optional\)**, specify any custom tags to associate with the policy and then choose **Next: Review**\.
  26  
  27: 1. For **Role name**, enter `ECSAnywhereRole` and optionally you can edit the description\.
  28  
  29: 1. Review your role information and then choose **Create role**\. 
  30  

  32  
  33: **To create the ECS Anywhere IAM role \(AWS CLI\)**
  34  

  72     ```
  73: **Important**  
  74  The `AmazonEC2ContainerServiceforEC2Role` managed policy provides permissions that are needed for your on\-premises server or VM\. However, the `AmazonEC2ContainerServiceforEC2Role` managed policy might grant permissions that aren't needed for your use case\. Review the permissions granted by this policy and see if your use case doesn't require all of the permissions\. Then, depending on your situation, optionally create a custom policy and add only the permissions you require\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-registration-classic-console.md:
   9  
  10: **Note**  
  11  Before registering your Linux external instance with the cluster, create the `/etc/ecs/ecs.config` file on your external instance and add any container agent configuration parameters that you want\. You can't do this after registering the external instance to a cluster\.

  16  
  17: 1. In the navigation pane, choose **Clusters**\.
  18  
  19: 1. On the **Clusters** page, choose a cluster to register your external instance to\.
  20  
  21: 1. Choose the **ECS Instances** tab, then choose **Register external instances**\.
  22  
  23: 1. On the **Step 1: External instances activation details** page, complete the following steps\.
  24  
  25:    1. For **Activation key duration \(in days\)**, enter the number of days that the activation key remains active for\. After the number of days you entered pass, the key no longer works when registering an external instance\.
  26  
  27:    1. For **Number of instances**, enter the number of external instances that you want to register to your cluster with the activation key\.
  28  
  29:    1. For **Instance role**, choose the IAM role to associate with your external instances\. If a role wasn't already created, choose **Create new role** to have Amazon ECS create a role on your behalf\. 
  30  
  31:    1. Choose **Next step**\.
  32  
  33: 1. On the **Step 2: Register external instances** page, copy the registration command\. This command should be run on each external instance you want to register to the cluster\.
  34: **Important**  
  35  The bash portion of the script must be run as root\. If the command isn't run as root, an error is returned\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-registration.md:
    4  
    5: **Note**  
    6  Before registering your Linux external instance with the cluster, create the `/etc/ecs/ecs.config` file on your external instance and add any container agent configuration parameters that you want\. You can't do this after registering the external instance to a cluster\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.

   14  
   15: 1. In the navigation pane, choose **Clusters**\.
   16  
   17: 1. On the **Clusters** page, choose a cluster to register your external instance to\.
   18  
   19: 1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\.
   20  
   21: 1. On the **Register external instances** page, complete the following steps\.
   22  
   23:    1. For **Activation key duration \(in days\)**, enter the number of days that the activation key remains active for\. After the number of days you entered pass, the key no longer works when registering an external instance\.
   24  
   25:    1. For **Number of instances**, enter the number of external instances that you want to register to your cluster with the activation key\.
   26  
   27:    1. For **Instance role**, choose the IAM role to associate with your external instances\. If a role wasn't already created, choose **Create new role** to have Amazon ECS create a role on your behalf\. For more information about what IAM permissions are required for your external instances, see [Required IAM permissions for external instances](ecs-anywhere-iam.md#ecs-anywhere-iam-required)\.
   28  
   29     1.  Copy the registration command\. This command should be run on each external instance you want to register to the cluster\.
   30: **Important**  
   31  The bash portion of the script must be run as root\. If the command isn't run as root, an error is returned\.
   32  
   33:    1. Choose **Close**\.
   34  

  106  
  107: **To register an existing external instance with a different cluster**
  108  

  184  
  185: **To register an existing external instance with a different cluster**
  186  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-runtask.md:
  8  
  9: **Important**  
  10  If your tasks require a task execution IAM role, make sure that it's specified in the task definition\. For more information, see [Conditional IAM permissions](ecs-anywhere-iam.md#ecs-anywhere-iam-conditional)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-troubleshooting.md:
   4  
   5: **Topics**
   6  + [External instance registration issues](#ecs-anywhere-troubleshooting-registration)

  15  + Amazon ECS provides an installation script that installs Docker, the Amazon ECS container agent, and the Systems Manager Agent on your external instance\. If the installation script fails, it's likely that the script can't be run again on the same instance without an error occurring\. If this happens, follow the cleanup process to clear AWS resources from the instance so you can run the installation script again\. For more information, see [Deregistering an external instance](ecs-anywhere-deregistration.md)\.
  16: **Note**  
  17  Be aware that, if the installation script successfully requested and used the Systems Manager activation, running the installation script a second time uses the Systems Manager activation again\. This might in turn cause you to reach the registration limit for that activation\. If this limit is reached, you must create a new activation\.

  27  
  28: **Important**  
  29  Amazon ECS provides the Amazon ECS logs collection tool\. You can use it to collect logs from your external instances for troubleshooting purposes\. For more information, see [Amazon ECS logs collector](ecs-logs-collector.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-anywhere-updates.md:
   14  
   15: **Note**  
   16  You can determine which operating system and system architecture that your external instance uses by using the following commands\.  

   32  
   33: **To update the Amazon ECS agent**
   34  

   42  
   43:    **amazon\-ecs\-init\-latest\.x86\_64\.rpm**
   44  

   48  
   49:    **amazon\-ecs\-init\-latest\.aarch64\.rpm**
   50  

   54  
   55:    **amazon\-ecs\-init\-latest\.amd64\.deb**
   56  

   60  
   61:    **amazon\-ecs\-init\-latest\.arm64\.deb**
   62  

   78  
   79:       **amazon\-ecs\-init\-latest\.x86\_64\.rpm**
   80  

   84  
   85:       **amazon\-ecs\-init\-latest\.aarch64\.rpm**
   86  

   90  
   91:       **amazon\-ecs\-init\-latest\.amd64\.deb**
   92  

   96  
   97:       **amazon\-ecs\-init\-latest\.arm64\.deb**
   98  

  104  
  105:       **For the `rpm` packages**
  106  

  110  
  111:       **For the `deb` packages**
  112  

  130  
  131:    **For the `rpm` package on CentOS 7, CentOS 8, and RHEL 7**
  132  

  136  
  137:    **For the `rpm` package on SUSE Enterprise Server 15**
  138  

  142  
  143:    **For the `deb` package**
  144  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-bottlerocket.md:
  46  You can retrieve the latest stable `aws-ecs-1` Bottlerocket AMI variant by AWS Region and architecture with the AWS CLI or the AWS Management Console\. 
  47: + **AWS CLI** – You can retrieve the image ID of the latest recommended Amazon ECS\-optimized Bottlerocket AMI with the following AWS CLI command by using the subparameter `image_id`\. Replace the `region` with the Region code that you want the AMI ID for\. For information about the supported AWS Regions, see [Finding an AMI](https://github.com/bottlerocket-os/bottlerocket/blob/develop/QUICKSTART-ECS.md#finding-an-ami) on GitHub\. To retrieve a version other than the latest, replace `latest` with the version number\.
  48    + For the 64\-bit \(`x86_64`\) architecture:

  57      ```
  58: + **AWS Management Console** – You can query for the recommended Amazon ECS\-optimized AMI ID using a URL in the AWS Management Console\. The URL opens the Amazon EC2 Systems Manager console with the value of the ID for the parameter\. In the following URL, replace `region` with the Region code that you want the AMI ID for\. For information about the supported AWS Regions, see [Finding an AMI](https://github.com/bottlerocket-os/bottlerocket/blob/develop/QUICKSTART-ECS.md#finding-an-ami) on GitHub\.
  59    + For the 64\-bit \(`x86_64`\) architecture:

  72  You can retrieve the latest stable `aws-ecs-1-nvdia` Bottlerocket AMI variant by Region and architecture with the AWS CLI or the AWS Management Console\. 
  73: + **AWS CLI** – You can retrieve the image ID of the latest recommended Amazon ECS\-optimized Bottlerocket AMI with the following AWS CLI command by using the subparameter `image_id`\. Replace the `region` with the Region code that you want the AMI ID for\. For information about the supported AWS Regions, see [Finding an AMI](https://github.com/bottlerocket-os/bottlerocket/blob/develop/QUICKSTART-ECS.md#finding-an-ami) on GitHub\. To retrieve a version other than the latest, replace `latest` with the version number\.
  74    + For the 64\-bit \(`x86_64`\) architecture:

  83      ```
  84: + **AWS Management Console** – You can query for the recommended Amazon ECS optimized AMI ID using a URL in the AWS Management Console\. The URL opens the Amazon EC2 Systems Manager console with the value of the ID for the parameter\. In the following URL, replace `region` with the Region code that you want the AMI ID for\. For information about the supported AWS Regions, see [Finding an AMI](https://github.com/bottlerocket-os/bottlerocket/blob/develop/QUICKSTART-ECS.md#finding-an-ami) on GitHub\.
  85    + For the 64 bit \(`x86_64`\) architecture:

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-compliance.md:
   9  + [Architecting for HIPAA Security and Compliance on Amazon Web Services](https://docs.aws.amazon.com/whitepapers/latest/architecting-hipaa-security-and-compliance-on-aws/welcome.html) – This whitepaper describes how companies can use AWS to create HIPAA\-eligible applications\.
  10: **Note**  
  11  Not all AWS services are HIPAA eligible\. For more information, see the [HIPAA Eligible Services Reference](https://aws.amazon.com/compliance/hipaa-eligible-services-reference/)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-container-agent-endpoint.md:
   2  
   3: **Important**  
   4    

  10  
  11: **Note**  
  12  You can add support for this feature on Amazon EC2 instances using older versions of the Amazon ECS container agent by updating the agent to the latest version\. For more information, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-exec.md:
  159  
  160: The following command will run an interactive `/bin/sh` command against a container named **container\-name** for a task with an id of *task\-id*\.
  161  

  175  
  176: **Note**  
  177  This configuration only handles the logging of the `execute-command` session\. It doesn't affect logging of your application\.

  394  
  395: **Note**  
  396  Because the `execute-command` API action contains only task and cluster resources in a request, only cluster and task tags are evaluated\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-fips-compliance.md:
  36  
  37: CloudTrail is turned on in your AWS account when you create the account\. When API and console activity occurs in Amazon ECS, that activity is recorded in a CloudTrail event along with other AWS service events in **Event history**\. You can view, search, and download recent events in your AWS account\. For more information, see [Viewing Events with CloudTrail Event History](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html)\. 
  38  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-gpu.md:
  40  
  41: **Topics**
  42  + [Considerations](#gpu-considerations)

  78  
  79: **Important**  
  80  If your GPU requirements aren't specified in the task definition, the task uses the default Docker runtime\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-inference.md:
  15  + You need a Linux application in a container that uses a machine learning framework that supports AWS Neuron\.
  16: **Important**  
  17  Applications that use other frameworks might not have improved performance on Trn1, Inf1, and Inf2 instances\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-integrations.md:
  4  
  5: **Topics**
  6  + [Using Amazon ECR with Amazon ECS](ecr-repositories.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-linux.md:
   4  
   5: **Note**  
   6  Tasks using the Fargate launch type are deployed onto infrastructure managed by AWS, so this topic does not apply\.

  13  
  14: **Required**
  15  + A modern Linux distribution running at least version 3\.10 of the Linux kernel\.

  17  + A Docker daemon running at least version 1\.9\.0, and any Docker runtime dependencies\. For more information, see [Check runtime dependencies](https://docs.docker.com/engine/installation/binaries/#check-runtime-dependencies) in the Docker documentation\.
  18: **Note**  
  19  For the best experience, we recommend the Docker version that ships with and is tested with the corresponding Amazon ECS container agent version that you are using\.
  20  
  21: **Recommended**
  22  + An initialization and nanny process to run and monitor the Amazon ECS container agent\. The Amazon ECS\-optimized AMIs use the `ecs-init` RPM to manage the agent\. For more information, see the [`ecs-init` project](https://github.com/aws/amazon-ecs-init) on GitHub\.
  23  
  24: **Topics**
  25  + [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-logging-monitoring.md:
   4  
   5: **Amazon CloudWatch Alarms**  
   6  Watch a single metric over a time period that you specify, and perform one or more actions based on the value of the metric relative to a given threshold over a number of time periods\. The action is a notification sent to an Amazon Simple Notification Service \(Amazon SNS\) topic or Amazon EC2 Auto Scaling policy\. CloudWatch alarms do not invoke actions simply because they are in a particular state; the state must have changed and been maintained for a specified number of periods\. For more information, see [Amazon ECS CloudWatch metrics](cloudwatch-metrics.md)\.  

   8  
   9: **Amazon CloudWatch Logs**  
  10  Monitor, store, and access the log files from the containers in your Amazon ECS tasks by specifying the `awslogs` log driver in your task definitions\. For more information, see [Using the awslogs log driver](using_awslogs.md)\.  

  12  
  13: **Amazon CloudWatch Events**  
  14  Match events and route them to one or more target functions or streams to make changes, capture state information, and take corrective action\. For more information, see [Amazon ECS events and EventBridge](cloudwatch_event_stream.md) in this guide and [What Is Amazon CloudWatch Events?](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html) in the *Amazon CloudWatch Events User Guide*\.
  15  
  16: **AWS CloudTrail Logs**  
  17  CloudTrail provides a record of actions taken by a user, role, or an AWS service in Amazon ECS\. Using the information collected by CloudTrail, you can determine the request that was made to Amazon ECS, the IP address from which the request was made, who made the request, when it was made, and additional details\. For more information, see [Logging Amazon ECS API calls with AWS CloudTrail](logging-using-cloudtrail.md)\.
  18  
  19: **AWS Trusted Advisor**  
  20  Trusted Advisor draws upon best practices learned from serving hundreds of thousands of AWS customers\. Trusted Advisor inspects your AWS environment and then makes recommendations when opportunities exist to save money, improve system availability and performance, or help close security gaps\. All AWS customers have access to five Trusted Advisor checks\. Customers with a Business or Enterprise support plan can view all Trusted Advisor checks\.   

  22  
  23: **AWS Compute Optimizer**  
  24  AWS Compute Optimizer is a service that analyzes the configuration and utilization metrics of your AWS resources\. It reports whether your resources are optimal, and generates optimization recommendations to reduce the cost and improve the performance of your workloads\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-logs-collector.md:
  11  
  12: **Note**  
  13  The source code for the Amazon ECS logs collector is available on GitHub for both [Linux](https://github.com/awslabs/ecs-logs-collector) and [Windows](https://github.com/awslabs/aws-ecs-logs-collector-for-windows)\. We encourage you to submit pull requests for changes that you would like to have included\. However, Amazon Web Services doesn't currently support running modified copies of this software\.
  14  
  15: **To download and run the Amazon ECS logs collector for Linux**
  16  

  25  1. Run the script to collect the logs and create the archive\.
  26: **Note**  
  27  To enable the debug mode for the Docker daemon and the Amazon ECS container agent, add the `--mode=enable-debug` option to the command below\. This may restart the Docker daemon, which kills all containers that are running on the instance\. Consider draining the container instance and moving any important tasks to other container instances before enabling debug mode\. For more information, see [Container instance draining](container-instance-draining.md)\.

  34  
  35: **To download and run the Amazon ECS logs collector for Windows**
  36  

  45  1. Run the script to collect the logs and create the archive\.
  46: **Note**  
  47  To enable the debug mode for the Docker daemon and the Amazon ECS container agent, add the `-RunMode debug` option to the command below\. This restarts the Docker daemon, which kills all containers that are running on the instance\. Consider draining the container instance and moving any important tasks to other container instances before enabling debug mode\. For more information, see [Container instance draining](container-instance-draining.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-machine-learning.md:
  4  
  5: **Topics**
  6  + [Using AWS Neuron on Amazon Linux 2 on Amazon ECS](ecs-inference.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-modifying-longer-id-settings-classic.md:
  13  
  14: 1. From the dashboard, choose **Account Settings**\.
  15  
  16: 1. On the **Amazon ECS ARN and resource ID settings**, **AWSVPC Trunking**, and **CloudWatch Container Insights** sections, you can select or deselect the check boxes for each account setting for the authenticated IAM user and role\. Choose **Save** once finished\.
  17: **Important**  
  18  IAM users and IAM roles need the `ecs:PutAccountSetting` permission to perform this action\.
  19  
  20: 1. On the confirmation screen, choose **Confirm** to save the selection\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-modifying-longer-id-settings.md:
   8  
   9: 1. In the navigation page, choose **Account Settings**\.
  10  
  11: 1. Choose **Update**\.
  12  
  13: 1.  To increase or decrease the number of tasks that you can run in the awsvpc network mode for each EC2 instance, under **AWSVPC Trunking**, select **AWSVPC Trunking**\.
  14  
  15: 1.  To use or stop using CloudWatch Container Insights by default for clusters, under **CloudWatch Container Insights**, select or clear **CloudWatch Container Insights**\.
  16  
  17: 1.  To opt in or out of tagging authorization, under **Resource Tagging Authorization**, select or clear **Resource Tagging Authorization**\.
  18  
  19: 1. Choose **Save changes**\.
  20  
  21: 1. On the confirmation screen, choose **Confirm** to save the selection\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-on-outposts.md:
   32  
   33:  **AWS CLI** 
   34  

   95     ```
   96: **Note**  
   97  In order to avoid delays caused by pulling container images from Amazon ECR in the Region, use image caches\. To do this, each time a task is run, configure the Amazon ECS agent to default to using the cached image on the instance itself by setting `ECS_IMAGE_PULL_BEHAVIOR` to `prefer-cached`\. 

  108     ```
  109: **Note**  
  110  This command is also used when adding additional instances to the cluster\. Any containers deployed in the cluster will be placed on that specific AWS Outposts\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-optimized_AMI.md:
  8  
  9: **Important**  
  10  The Amazon ECS\-optimized Amazon Linux 2023 AMI isn't supported with Service Connect\. This is because the Service Connect agent isn't available for Amazon Linux 2023\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-optimized_windows_AMI.md:
  10  
  11: **Important**  
  12  All ECS\-optimized AMI variants produced after August will be migrating from Docker EE \(Mirantis\) to Docker CE \(Moby project\)\.
  13: + **Amazon ECS\-optimized Windows Server 2022 Full AMI** 
  14: + **Amazon ECS\-optimized Windows Server 2022 Core AMI** 
  15: + **Amazon ECS\-optimized Windows Server 2019 Full AMI** 
  16: + **Amazon ECS\-optimized Windows Server 2019 Core AMI** 
  17: + **Amazon ECS\-optimized Windows Server 2016 Full AMI**
  18: + **Amazon ECS\-optimized Windows Server 20H2 Core AMI**
  19: **Important**  
  20  On August 9, 2022, the Amazon ECS\-optimized Windows Server 20H2 Core AMI reached its end of support date\. No new versions of this AMI will be released\. For more information, see [Windows Server release information](https://docs.microsoft.com/en-us/windows-server/get-started/windows-server-release-info)\.

  27  
  28: **Important**  
  29   All ECS\-optimized AMI variants produced after August will be migrating from Docker EE \(Mirantis\) to Docker CE \(Moby project\)\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-recommendations.md:
  7  AWS Compute Optimizer generates recommendations for Amazon ECS services on AWS Fargate\. AWS Compute Optimizer recommends task CPU and task memory size and container CPU, container memory and container memory reservation sizes\. These recommendations are displayed on the following pages of the Compute Optimizer console\.
  8: + **Recommendations for Amazon ECS services on Fargate** page
  9: + ** Amazon ECS services on Fargate details** page
  10  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-resource-tagging.md:
  6  
  7: **Topics**
  8  + [Tagging your Amazon ECS resources](ecs-using-tags.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-reverting-account.md:
   4  
   5: The **Revert to account default** option is only available when your account settings are no longer the default settings\.
   6  

  10  
  11: 1. In the navigation page, choose **Account Settings**\.
  12  
  13: 1. Choose **Update**\.
  14  
  15: 1. Choose **Revert to account default**\.
  16  
  17: 1. On the confirmation screen, choose **Confirm** to save the selection\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-using-tags.md:
    8  
    9: **Warning**  
   10  Tag keys and their values are returned by many different API calls\. Denying access to `DescribeTags` doesn’t automatically deny access to tags returned by other APIs\. As a best practice, we recommend that you do not include sensitive data in your tags\.

   28  
   29:   For information about the added tags, see the **Tags automatically added by the console** column in the **Tagging support for Amazon ECS resources** table\.
   30  

   35  
   36: **Tagging support for Amazon ECS resources**  
   37  

   94  
   95: **Note**  
   96  If you've turned on reporting, it can take up to 24 hours before the data for the current month is available for viewing\.

  101  
  102: When you select a resource\-specific page in the Amazon ECS console, it displays a list of those resources\. For example, if you select **Clusters** from the navigation pane, the console displays a list of Amazon ECS clusters\. When you select a resource from one of these lists \(for example, a specific cluster\) that supports tags, you can view and manage its tags on the **Tags** tab\.
  103  
  104: **Warning**  
  105  As a best practice, we recommend that you do not include sensitive data in your tags\.
  106  
  107: **Topics**
  108  + [Adding tags on an individual resource during launch](#adding-tags-creation)

  130  
  131: **Warning**  
  132  Do not add personally identifiable information \(PII\) or other confidential or sensitive information in tags\. Tags are accessible to many AWS services, including billing\. Tags are not intended to be used for private or sensitive data\.
  133  
  134: **To modify a tag for an individual resource**
  135  

  139  
  140: 1. In the navigation pane, select a resource type \(for example, **Clusters**\)\.
  141  
  142: 1. Select the resource from the resource list, choose the **Tags** tab, and then choose **Manage tags**\.
  143  

  145  
  146:    \[Add a tag\] Choose **Add tag**, and then do the following:
  147:    + For **Key**, enter the key name\.
  148:    + For **Value**, enter the key value\.
  149  
  150:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
  151  
  152: 1. Choose **Save**\.
  153  

  157  + Method 1 – When creating the container instance using the Amazon EC2 API, CLI, or console, specify tags by passing user data to the instance using the container agent configuration parameter `ECS_CONTAINER_INSTANCE_TAGS`\. This creates tags that are associated with the container instance in Amazon ECS only, they cannot be listed using the Amazon EC2 API\. For more information, see [Bootstrapping container instances with Amazon EC2 user data](bootstrap_container_instance.md)\.
  158: **Important**  
  159  If you launch your container instances using an Amazon EC2 Auto Scaling group, then you should use the ECS\_CONTAINER\_INSTANCE\_TAGS agent configuration parameter to add tags\. This is due to the way in which tags are added to Amazon EC2 instances that are launched using Auto Scaling groups\.

  217  
  218: **Warning**  
  219  Don't add personally identifiable information \(PII\) or other confidential or sensitive information in tags\. Tags are accessible to many AWS services, including billing\. Tags aren't intended to be used for private or sensitive data\.

  221  
  222: **Tagging support for Amazon ECS resources**  
  223  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-viewing-longer-id-settings-classic.md:
   9  
  10: **Important**  
  11  The `dualStackIPv6` account setting can only be viewed or changed using the AWS CLI\.

  16  
  17: 1. From the dashboard, choose **Account Settings**\.
  18  
  19: 1. On the **Amazon ECS ARN and resource ID settings**, **AWSVPC Trunking**, and **CloudWatch Container Insights** sections, you can view your opt\-in status for each account setting for the authenticated IAM user and role\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-viewing-longer-id-settings.md:
   4  
   5: **Important**  
   6  The `dualStackIPv6` and the `fargateFIPSMode` account settings can only be viewed or changed using the AWS CLI\.

  11  
  12: 1. In the navigation page, choose **Account Settings**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-vt1.md:
   4  
   5: **Note**  
   6  For instructions on how to run video transcoding workloads in containers other than Amazon ECS, see the [Xilinx documentation](https://xilinx.github.io/video-sdk/v1.5/container_setup.html#working-with-docker-vt1)\.

  12  + You need a Linux application that uses Xilinx U30 media transcoding cards with accelerated AVC \(H\.264\) and HEVC \(H\.265\) codecs\.
  13: **Important**  
  14  Applications that use other codecs might not have improved performance on VT1 instances\.

  46  
  47: **Important**  
  48  If the task definition lists devices that the EC2 instance doesn't have, the task fails to run\. When the task fails, the following error message appears in the `stoppedReason`: `CannotStartContainerError: Error response from daemon: error gathering device information while adding custom device "/dev/dri/renderD130": no such file or directory`\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-windows-ami-versions.md:
   10  
   11: **Note**  
   12  For details on referencing the Systems Manager Parameter Store parameter in an AWS CloudFormation template, see [Using the latest recommended Amazon ECS\-optimized AMI in an AWS CloudFormation template](retrieve-ecs-optimized_AMI.md#ecs-optimized-ami-parameter-examples-5)\.
   13  
   14: **Important**  
   15  To ensure that customers have the latest security updates by default, Amazon ECS maintains at least the last three Windows Amazon ECS\-optimized AMIs\. After releasing new Windows Amazon ECS\-optimized AMIs, Amazon ECS makes the Windows Amazon ECS\-optimized AMIs that are older private\. If there is a private AMI that you need access to, let us know by filing a ticket with Cloud Support\.

   24  | --- | --- | --- | --- | 
   25: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2023\.03\.21**  |  `1.69.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
   26: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2023\.02\.21**  |  `1.68.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
   27: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2023\.01\.11**  |  `1.68.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
   28: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.12\.14**  |  `1.67.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
   29: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.11\.09**  |  `1.65.1`  |  `20.10.21 (Docker CE)`  |  Public  | 
   30: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.10\.12**  |  `1.64.0`  |  `20.10.17 (Docker CE)`  |  Private  | 
   31: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.09\.22**  |  `1.63.1`  |  `20.10.17 (Docker CE)`  |  Private  | 
   32: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.09\.14**  |  `1.62.2`  |  `20.10.17 (Docker CE)`  |  Private  | 
   33: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.08\.15**  |  `1.62.1`  |  `20.10.9`  |  Private  | 
   34: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.07\.13**  |  `1.61.3`  |  `20.10.9`  |  Private  | 
   35: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.06\.15**  |  `1.61.2`  |  `20.10.9`  |  Private  | 
   36: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2022\.01\.18**  |  `1.57.1`  |  `20.10.9`  |  Private  | 
   37: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2021\.12\.16**  |  `1.57.1`  |  `20.10.7`  |  Private  | 
   38: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2021\.11\.11**  |  `1.57.0`  |  `20.10.7`  |  Private  | 
   39: |  **Windows\_Server\-2022\-English\-Full\-ECS\_Optimized\-2021\.009\.23**  |  `1.55.3`  |  `20.10.7`  |  Private  | 
   40  

   54  | --- | --- | --- | --- | 
   55: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2023\.03\.21**  |  `1.69.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
   56: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2023\.02\.21**  |  `1.68.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
   57: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2023\.01\.11**  |  `1.68.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
   58: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.12\.14**  |  `1.67.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
   59: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.11\.09**  |  `1.65.1`  |  `20.10.21 (Docker CE)`  |  Public  | 
   60: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.10\.12**  |  `1.64.0`  |  `20.10.17 (Docker CE)`  |  Private  | 
   61: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.09\.22**  |  `1.63.1`  |  `20.10.17 (Docker CE)`  |  Private  | 
   62: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.09\.14**  |  `1.62.2`  |  `20.10.17 (Docker CE)`  |  Private  | 
   63: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.08\.15**  |  `1.62.1`  |  `20.10.9`  |  Private  | 
   64: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.07\.13**  |  `1.61.3`  |  `20.10.9`  |  Private  | 
   65: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2022\.06\.15**  |  `1.61.2`  |  `20.10.9`  |  Private  | 
   66: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2021\.12\.16**  |  `1.57.1`  |  `20.10.7`  |  Private  | 
   67: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2021\.11\.11**  |  `1.57.0`  |  `20.10.7`  |  Private  | 
   68: |  **Windows\_Server\-2022\-English\-Core\-ECS\_Optimized\-2021\.009\.23**  |  `1.55.3`  |  `20.10.7`  |  Private  | 
   69  

   83  | --- | --- | --- | --- | 
   84: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2023\.03\.21**  |  `1.69.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
   85: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2023\.02\.21**  |  `1.68.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
   86: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2023\.01\.11**  |  `1.68.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
   87: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.12\.14**  |  `1.67.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
   88: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.11\.09**  |  `1.65.1`  |  `20.10.21 (Docker CE)`  |  Public  | 
   89: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.10\.12**  |  `1.64.0`  |  `20.10.17 (Docker CE)`  |  Private  | 
   90: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.09\.22**  |  `1.63.1`  |  `20.10.17 (Docker CE)`  |  Private  | 
   91: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.09\.14**  |  `1.62.2`  |  `20.10.17 (Docker CE)`  |  Private  | 
   92: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.08\.15**  |  `1.62.1`  |  `20.10.9`  |  Private  | 
   93: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.07\.13**  |  `1.61.3`  |  `20.10.9`  |  Private  | 
   94: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.06\.15**  |  `1.61.2`  |  `20.10.9`  |  Private  | 
   95: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2022\.01\.18**  |  `1.57.1`  |  `20.10.9`  |  Private  | 
   96: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.12\.16**  |  `1.57.1`  |  `20.10.7`  |  Private  | 
   97: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.11\.11**  |  `1.57.0`  |  `20.10.7`  |  Private  | 
   98: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.009\.23**  |  `1.55.3`  |  `20.10.7`  |  Private  | 
   99: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.08\.12**  |  `1.55.0`  |  `20.10.6`  |  Public  | 
  100: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.07\.13**  |  `1.54.02`  |  `20.10.6`  |  Private  | 
  101: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.07\.08**  |  `1.54.0`  |  `20.10.5`  |  Private  | 
  102: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.06\.11**  |  `1.53.0`  |  `20.10.5`  |  Private  | 
  103: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.05\.21**  |  `1.52.2`  |  `20.10.4`  |  Private  | 
  104: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.04\.14**  |  `1.51.0`  |  `20.10.0`  |  Private  | 
  105: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.03\.11**  |  `1.50.2`  |  `19.03.14`  |  Private  | 
  106: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.02\.10**  |  `1.50.0`  |  `19.03.14`  |  Private  | 
  107: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2021\.01\.13**  |  `1.49.0`  |  `19.03.14`  |  Private  | 
  108: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.11\.18**  |  `1.48.0`  |  `19.03.13`  |  Private  | 
  109: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.11\.06**  |  `1.47.0`  |  `19.03.11`  |  Private  | 
  110: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.10\.14**  |  `1.45.0`  |  `19.03.11`  |  Private  | 
  111: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.08\.12**  |  `1.43.0`  |  `19.03.11`  |  Private  | 
  112: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.07\.15**  |  `1.41.1`  |  `19.03.5`  |  Private  | 
  113: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.06\.11**  |  `1.40.0`  |  `19.03.5`  |  Private  | 
  114: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.05\.14**  |  `1.39.0`  |  `19.03.5`  |  Private  | 
  115: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2020\.01\.15**  |  `1.35.0`  |  `19.03.5`  |  Private  | 
  116: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.12\.16**  |  `1.34.0`  |  `19.03.5`  |  Private  | 
  117: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.11\.25**  |  `1.34.0`  |  `19.03.4`  |  Private  | 
  118: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.11\.13**  |  `1.32.1`  |  `19.03.4`  |  Private  | 
  119: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.10\.09**  |  `1.32.0`  |  `19.03.2`  |  Private  | 
  120: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.09\.11**  |  `1.30.0`  |  `19.03.1`  |  Private  | 
  121: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.08\.16**  |  `1.29.1`  |  `19.03.1`  |  Private  | 
  122: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.07\.19**  |  `1.29.0`  |  `18.09.8`  |  Private  | 
  123: |  **Windows\_Server\-2019\-English\-Full\-ECS\_Optimized\-2019\.05\.10**  |  `1.27.0`  |  `18.09.4`  |  Private  | 
  124  

  138  | --- | --- | --- | --- | 
  139: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2023\.03\.21**  |  `1.69.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
  140: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2023\.02\.21**  |  `1.68.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
  141: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2023\.01\.11**  |  `1.68.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
  142: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.12\.14**  |  `1.67.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
  143: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.11\.09**  |  `1.65.1`  |  `20.10.21 (Docker CE)`  |  Public  | 
  144: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.10\.12**  |  `1.64.0`  |  `20.10.17 (Docker CE)`  |  Private  | 
  145: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.09\.22**  |  `1.63.1`  |  `20.10.17 (Docker CE)`  |  Private  | 
  146: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.09\.14**  |  `1.62.2`  |  `20.10.17 (Docker CE)`  |  Private  | 
  147: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.08\.15**  |  `1.62.1`  |  `20.10.9`  |  Private  | 
  148: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.07\.13**  |  `1.61.3`  |  `20.10.9`  |  Private  | 
  149: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.06\.15**  |  `1.61.2`  |  `20.10.9`  |  Private  | 
  150: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2022\.01\.18**  |  `1.57.1`  |  `20.10.9`  |  Private  | 
  151: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.12\.16**  |  `1.57.1`  |  `20.10.7`  |  Private  | 
  152: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.11\.11**  |  `1.57.0`  |  `20.10.7`  |  Private  | 
  153: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.09\.23**  |  `1.55.3`  |  `20.10.7`  |  Private  | 
  154: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.08\.12**  |  `1.55.0`  |  `20.10.6`  |  Private  | 
  155: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.07\.13**  |  `1.54.02`  |  `20.10.6`  |  Private  | 
  156: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.07\.08**  |  `1.54.0`  |  `20.10.6`  |  Private  | 
  157: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.06\.11**  |  `1.53.0`  |  `20.10.5`  |  Private  | 
  158: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.05\.21**  |  `1.52.2`  |  `20.10.4`  |  Private  | 
  159: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.04\.14**  |  `1.51.0`  |  `20.10.0`  |  Private  | 
  160: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.03\.11**  |  `1.50.2`  |  `19.03.14`  |  Private  | 
  161: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.02\.10**  |  `1.50.0`  |  `19.03.14`  |  Private  | 
  162: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2021\.01\.13**  |  `1.49.0`  |  `19.03.14`  |  Private  | 
  163: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.11\.18**  |  `1.48.0`  |  `19.03.13`  |  Private  | 
  164: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.11\.06**  |  `1.47.0`  |  `19.03.11`  |  Private  | 
  165: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.10\.14**  |  `1.45.0`  |  `19.03.11`  |  Private  | 
  166: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.09\.09**  |  `1.44.3`  |  `19.03.11`  |  Private  | 
  167: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.08\.12**  |  `1.43.0`  |  `19.03.11`  |  Private  | 
  168: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.07\.15**  |  `1.41.1`  |  `19.03.5`  |  Private  | 
  169: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.06\.11**  |  `1.40.0`  |  `19.03.5`  |  Private  | 
  170: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.05\.14**  |  `1.39.0`  |  `19.03.5`  |  Private  | 
  171: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2020\.01\.15**  |  `1.35.0`  |  `19.03.5`  |  Private  | 
  172: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2019\.12\.16**  |  `1.34.0`  |  `19.03.5`  |  Private  | 
  173: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2019\.11\.25**  |  `1.34.0`  |  `19.03.4`  |  Private  | 
  174: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2019\.11\.13**  |  `1.32.1`  |  `19.03.4`  |  Private  | 
  175: |  **Windows\_Server\-2019\-English\-Core\-ECS\_Optimized\-2019\.10\.09**  |  `1.32.0`  |  `19.03.2`  |  Private  | 
  176  

  190  | --- | --- | --- | --- | 
  191: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2023\.03\.21**  |  `1.69.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
  192: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2023\.02\.21**  |  `1.68.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
  193: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2023\.01\.11**  |  `1.68.0`  |  `20.10.21 (Docker CE)`  |  Public  | 
  194: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.12\.14**  |  `1.67.2`  |  `20.10.21 (Docker CE)`  |  Public  | 
  195: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.11\.09**  |  `1.65.1`  |  `20.10.21 (Docker CE)`  |  Public  | 
  196: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.10\.12**  |  `1.64.0`  |  `20.10.17 (Docker CE)`  |  Private  | 
  197: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.09\.22**  |  `1.63.1`  |  `20.10.17 (Docker CE)`  |  Private  | 
  198: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.09\.14**  |  `1.62.2`  |  `20.10.17 (Docker CE)`  |  Private  | 
  199: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.08\.15**  |  `1.62.1`  |  `20.10.9`  |  Private  | 
  200: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.07\.13**  |  `1.61.3`  |  `20.10.9`  |  Private  | 
  201: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.06\.15**  |  `1.61.2`  |  `20.10.9`  |  Private  | 
  202: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2022\.01\.18**  |  `1.57.1`  |  `20.10.9`  |  Private  | 
  203: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.12\.16**  |  `1.57.1`  |  `20.10.7`  |  Private  | 
  204: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.11\.11**  |  `1.57.0`  |  `20.10.7`  |  Private  | 
  205: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.09\.23**  |  `1.55.3`  |  `20.10.7`  |  Private  | 
  206: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.08\.12**  |  `1.55.0`  |  `20.10.6`  |  Private  | 
  207: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.07\.13**  |  `1.54.02`  |  `20.10.6`  |  Private  | 
  208: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.07\.08**  |  `1.54.0`  |  `20.10.5`  |  Private  | 
  209: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.06\.11**  |  `1.53.0`  |  `20.10.5`  |  Private  | 
  210: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.05\.21**  |  `1.52.2`  |  `20.10.4`  |  Private  | 
  211: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.04\.14**  |  `1.51.0`  |  `20.10.0`  |  Private  | 
  212: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.03\.11**  |  `1.50.2`  |  `19.03.14`  |  Private  | 
  213: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.02\.10**  |  `1.50.0`  |  `19.03.14`  |  Private  | 
  214: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2021\.01\.13**  |  `1.49.0`  |  `19.03.14`  |  Private  | 
  215: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.11\.18**  |  `1.48.0`  |  `19.03.13`  |  Private  | 
  216: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.11\.06**  |  `1.47.0`  |  `19.03.11`  |  Private  | 
  217: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.10\.14**  |  `1.45.0`  |  `19.03.12`  |  Private  | 
  218: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.09\.09**  |  `1.44.3`  |  `19.03.11`  |  Private  | 
  219: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.08\.12**  |  `1.43.0`  |  `19.03.11`  |  Private  | 
  220: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.07\.15**  |  `1.41.1`  |  `19.03.5`  |  Private  | 
  221: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.06\.11**  |  `1.40.0`  |  `19.03.5`  |  Private  | 
  222: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.05\.14**  |  `1.39.0`  |  `19.03.5`  |  Private  | 
  223: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2020\.01\.15**  |  `1.35.0`  |  `19.03.5`  |  Private  | 
  224: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.12\.16**  |  `1.34.0`  |  `19.03.5`  |  Private  | 
  225: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.11\.25**  |  `1.34.0`  |  `19.03.4`  |  Private  | 
  226: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.11\.13**  |  `1.32.1`  |  `19.03.4`  |  Private  | 
  227: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.10\.09**  |  `1.32.0`  |  `19.03.2`  |  Private  | 
  228: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.09\.11**  |  `1.30.0`  |  `19.03.1`  |  Private  | 
  229: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.08\.16**  |  `1.29.1`  |  `19.03.1`  |  Private  | 
  230: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.07\.19**  |  `1.29.0`  |  `18.09.8`  |  Private  | 
  231: |  **Windows\_Server\-2016\-English\-Full\-ECS\_Optimized\-2019\.03\.07**  |  `1.26.0`  |  `18.03.1`  |  Private  | 
  232  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/ecs-windows.md:
  4  
  5: **Note**  
  6  Tasks using the Fargate launch type are deployed onto infrastructure managed by AWS, so this topic does not apply\.
  7  
  8: **Topics**
  9  + [Amazon ECS\-optimized AMI](ecs-optimized_windows_AMI.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/efs-volumes.md:
  12  + For tasks that use the EC2 launch type, Amazon EFS file system support was added as a public preview with Amazon ECS\-optimized AMI version `20191212` with container agent version 1\.35\.0\. However, Amazon EFS file system support entered general availability with Amazon ECS\-optimized AMI version `20200319` with container agent version 1\.38\.0, which contained the Amazon EFS access point and IAM authorization features\. We recommend that you use Amazon ECS\-optimized AMI version `20200319` or later to use these features\. For more information, see [Amazon ECS\-optimized AMI versions](ecs-ami-versions.md)\.
  13: **Note**  
  14  If you create your own AMI, you must use container agent 1\.38\.0 or later, `ecs-init` version 1\.38\.0\-1 or later, and run the following commands on your Amazon EC2 instance to enable the Amazon ECS volume plugin\. The commands are dependent on whether you're using Amazon Linux 2 or Amazon Linux as your base image\.  

  37  
  38: **Note**  
  39  When creating an EFS access point, specify a path on the file system to serve as the root directory\. When referencing the EFS file system with an access point ID in your Amazon ECS task definition, the root directory must either be omitted or set to `/`, which enforces the path set on the EFS access point\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/firelens-concatanate-multiline.md:
   21  
   22: 1. In the navigation pane, choose **Policies** and then choose **Create Policy**\. 
   23  
   24: 1. Choose **JSON** and paste the following permissions: 
   25  

   40  
   41: 1. Choose **Next: Tags** and add any tags to the policy to help you organize them\. Then choose **Next: Review**\. 
   42  
   43: 1. On the **Review policy** page, for **Name** type a unique name for the policy\. In this example, we will use `ecs-policy-for-firelens`\. You may specify an optional description for the policy as well\. 
   44  
   45: 1. Choose **Create policy** to finish\. 
   46  
   47: 1. In the navigation pane, choose **Roles** and then choose **Create Roles**\. 
   48  
   49: 1. In the **Trusted entity type** section, choose **AWS service**\. 
   50  
   51: 1. For **Use case**, choose **Elastic Container Service\.**\.
   52  
   53: 1. Choose **Elastic Container Service Task** and then **Next**\. 
   54  
   55: 1. Associate the role with the `ecs-policy-for-firelens` policy you created and choose **Next**\. 
   56  
   57: 1. Enter a unique name for the role\. In this example, use: **ecs\-task\-role\-for\-firelens**\. 
   58  
   59: **Verify that you have an Amazon ECS task execution IAM role**
   60  

   64  
   65: 1. In the navigation pane, choose **Roles** and then search for `ecsTaskExecutionRole`\. 
   66  

  135  
  136: **Build and upload the image for a Fluent Bit container**
  137  

  187        ```
  188: **Note**  
  189  You must use the absolute path of the parser\. 

  206  1. Using the Dockerfile, build a custom Fluent Bit image with the parser and custom configuration files included\.
  207: **Note**  
  208  You can place the parser file and configuration file anywhere in the Docker image except `/fluent-bit/etc/fluent-bit.conf` as this file path is used by FireLens\.

  243  
  244: **Build and upload the image for a demo multiline application**
  245  

  347  
  348: **Create the task definition and run the task**
  349  

  400  
  401:       To find the task role ARN, go to the IAM console\. Choose **Roles** and find the `ecs-task-role-for-firelens` task role that you created\. Choose the role and copy the **ARN** that appears in the **Summary** section\.
  402  

  404  
  405:       To find the execution role ARN, go to the IAM console\. Choose **Roles** and find the `ecsTaskExecutionRole` role\. Choose the role and copy the **ARN** that appears in the **Summary** section\.
  406  

  418  
  419: 1. In the navigation pane, choose **Task Definitions** and then choose the `firelens-example-multiline` family because we registered the task definition to this family in the first line of the task definition above\.
  420  

  422  
  423: 1. Choose the **Deploy**, **Run task**\. 
  424  
  425: 1. On the **Run Task** page, For **Cluster**, choose the cluster, and then under **Networking**, for **Subnets**, choose the available subnets for your task\. 
  426  
  427: 1. Choose **Create**\. 
  428  
  429: **Verify that multiline log messages in Amazon CloudWatch appear concatenated**
  430  

  432  
  433: 1. From the navigation pane, expand **Logs** and choose **Log groups**\. 
  434  

  478  
  479: **Build and upload the image for a Fluent Bit container**
  480  

  512  1. Using the Dockerfile, build a custom Fluent Bit image with the custom configuration file included\.
  513: **Note**  
  514  You can place the configuration file anywhere in the Docker image except `/fluent-bit/etc/fluent-bit.conf` as this file path is used by FireLens\.

  549  
  550: **Build and upload the image for a demo multiline application**
  551  

  695  
  696: **Create the task definition and run the task**
  697  

  748  
  749:       To find the task role ARN, go to the IAM console\. Choose **Roles** and find the `ecs-task-role-for-firelens` task role that you created\. Choose the role and copy the **ARN** that appears in the **Summary** section\.
  750  

  752  
  753:       To find the execution role ARN, go to the IAM console\. Choose **Roles** and find the `ecsTaskExecutionRole` role\. Choose the role and copy the **ARN** that appears in the **Summary** section\.
  754  

  766  
  767: 1. In the navigation pane, choose **Task Definitions** and then choose the `firelens-example-multiline` family because we registered the task definition to this family in the first line of the task definition above\.
  768  

  770  
  771: 1. Choose the **Deploy**, **Run task**\. 
  772  
  773: 1. On the **Run Task** page, For **Cluster**, choose the cluster, and then under **Networking**, for **Subnets**, choose the available subnets for your task\. 
  774  
  775: 1. Choose **Create**\. 
  776  
  777: **Verify that multiline log messages in Amazon CloudWatch appear concatenated**
  778  

  780  
  781: 1. From the navigation pane, expand **Logs** and choose **Log groups**\. 
  782  

  813  
  814: **Note**  
  815  If your logs go to log files instead of the standard output, we recommend specifying the `multiline.parser` and `multiline.key_content` configuration parameters in the [Tail input plugin](https://docs.fluentbit.io/manual/pipeline/inputs/tail#multiline-support) instead of the Filter\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/firelens-example-taskdefs.md:
    4  
    5: **Topics**
    6  + [Forwarding logs to CloudWatch Logs](#firelens-example-cloudwatch)

   13  
   14: **Note**  
   15  For more examples, see [Amazon ECS FireLens examples](https://github.com/aws-samples/amazon-ecs-firelens-examples) on GitHub\.

   66  
   67: **Note**  
   68  For more examples, see [Amazon ECS FireLens examples](https://github.com/aws-samples/amazon-ecs-firelens-examples) on GitHub\.

  116  
  117: **Note**  
  118  For more examples, see [Amazon ECS FireLens examples](https://github.com/aws-samples/amazon-ecs-firelens-examples) on GitHub\.

  171  
  172: **Note**  
  173  For more examples, see [Amazon ECS FireLens examples](https://github.com/aws-samples/amazon-ecs-firelens-examples) on GitHub\.

  225  
  226: **Note**  
  227  For more examples, see [Amazon ECS FireLens examples](https://github.com/aws-samples/amazon-ecs-firelens-examples) on GitHub\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/firelens-taskdef.md:
   11  
   12: **Important**  
   13  FireLens listens on port `24224`\. Therefore, to ensure that the FireLens log router isn't reachable outside of the task, you must not allow ingress traffic on port `24224` in the security group your task uses\. For tasks that use the `awsvpc` network mode, this is the security group that's associated with the task\. For tasks that use the `host` network mode, this is the security group that's associated with the Amazon EC2 instance hosting the task\. For tasks that use the `bridge` network mode, don't create any port mappings that use port `24224`\.

   68  
   69: **Note**  
   70  FireLens manages the `match` configuration\. This configuration isn't specified in your task definition\. 

  117  
  118: **Important**  
  119  To specify a custom configuration file that's hosted in Amazon S3, ensure you have created a task execution IAM role with the proper permissions\. For more information, see [Required IAM permissions](using_firelens.md#firelens-iam)\.

  141  
  142: **Note**  
  143  Tasks hosted on AWS Fargate only support the `file` configuration file type\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/firelens-using-fluentbit.md:
   4  
   5: The **AWS for Fluent Bit** image is available on Amazon ECR on both the Amazon ECR Public Gallery and in an Amazon ECR repository in most AWS Regions for high availability\.
   6  

  14  
  15: You can pull the AWS for Fluent Bit image from the Amazon ECR Public Gallery by specifying the repository URL with the desired image tag\. The available image tags can be found on the **Image tags** tab on the Amazon ECR Public Gallery\.
  16  

  28  
  29: **Note**  
  30  Unauthenticated pulls are allowed, but have a lower rate limit than authenticated pulls\. To authenticate using your AWS account before pulling, use the following command\.  

  45  
  46: You can pull the AWS for Fluent Bit image from the Amazon ECR Public Gallery by specifying the repository URL with the desired image tag\. The available image tags can be found on the **Image tags** tab on the Amazon ECR Public Gallery\.
  47  

  59  
  60: **Note**  
  61  Unauthenticated pulls are allowed, but have a lower rate limit than authenticated pulls\. To authenticate using your AWS account before pulling, use the following command\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/get-set-up-for-amazon-ecs.md:
   10  
   11: **To sign up for an AWS account**
   12  

   20  
   21: AWS sends you a confirmation email after the sign\-up process is complete\. At any time, you can view your current account activity and manage your account by going to [https://aws\.amazon\.com/](https://aws.amazon.com/) and choosing **My Account**\.
   22  

   26  
   27: **Secure your AWS account root user**
   28  
   29: 1.  Sign in to the [AWS Management Console](https://console.aws.amazon.com/) as the account owner by choosing **Root user** and entering your AWS account email address\. On the next page, enter your password\.
   30  

   36  
   37: **Create an administrative user**
   38  + For your daily administrative tasks, grant administrative access to an administrative user in AWS IAM Identity Center \(successor to AWS Single Sign\-On\)\.

   41  
   42: **Sign in as the administrative user**
   43  + To sign in with your IAM Identity Center user, use the sign\-in URL that was sent to your email address when you created the IAM Identity Center user\.

   54  
   55: **To create a key pair**
   56  + Use the Amazon EC2 console to create a key pair\. For more information about creating a key pair, see [Create a key pair](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/create-key-pairs.html) in the *Amazon EC2 User Guide for Linux Instances*\.

   59  
   60: **To connect to your instance using your key pair**  
   61  To connect to your Linux instance from a computer running macOS or Linux, specify the `.pem` file to your SSH client with the `-i` option and the path to your private key\. To connect to your Linux instance from a computer running Windows, you can use either MindTerm or PuTTY\. If you plan to use PuTTY, you need to install it and use the following procedure to convert the `.pem` file to a `.ppk` file\.<a name="prepare-for-putty"></a>
   62  
   63: **To prepare to connect to a Linux instance from Windows using PuTTY**
   64  

   66  
   67: 1. Start PuTTYgen \(for example, from the **Start** menu, choose **All Programs > PuTTY > PuTTYgen**\)\.
   68  
   69: 1. Under **Type of key to generate**, choose **RSA**\.
   70  
   71: 1. Choose **Load**\. By default, PuTTYgen displays only files with the extension `.ppk`\. To locate your `.pem` file, select the option to display files of all types\.
   72  
   73: 1. Select the private key file that you created in the previous procedure and choose **Open**\. Choose **OK** to dismiss the confirmation dialog box\.
   74  
   75: 1. Choose **Save private key**\. PuTTYgen displays a warning about saving the key without a passphrase\. Choose **Yes**\.
   76  

   82  
   83: **Note**  
   84  The Amazon ECS console first\-run experience creates a VPC for your cluster, so if you intend to use the Amazon ECS console, you can skip to the next section\.

   87  
   88: **Important**  
   89  If your account supports Amazon EC2 Classic in a region, then you do not have a default VPC in that region\.

  107  
  108: **Note**  
  109  The Amazon ECS classic console first run experience creates a security group for your instances and load balancer based on the task definition you use, so if you intend to use the Amazon ECS console, you can move ahead to the next section\.

  112  
  113: **Tip**  
  114  You need the public IP address of your local computer, which you can get using a service\. For example, we provide the following service: [http://checkip\.amazonaws\.com/](http://checkip.amazonaws.com/) or [https://checkip\.amazonaws\.com/](https://checkip.amazonaws.com/)\. To locate another service that provides your IP address, use the search phrase "what is my IP address\." If you are connecting through an internet service provider \(ISP\) or from behind a firewall without a static IP address, you must find out the range of IP addresses used by client computers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started-aws-copilot-cli.md:
  58  
  59:    AWS Copilot walks you through the setup of your **first application and service** with a series of terminal prompts, starting with **next step**\. If you have already used AWS Copilot to deploy applications, you're prompted to choose one from a list of application names\.
  60  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started-console.md:
   9  
  10: **Topics**
  11  + [Getting started with the classic console using Linux containers on AWS Fargate](getting-started-fargate-classic-console.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started-ecs-ec2-v2.md:
   18  
   19: **To create a new cluster \(Amazon ECS console\)**
   20  

   26  
   27: 1. In the navigation pane, choose **Clusters**\.
   28  
   29: 1. On the **Clusters** page, choose **Create cluster**\.
   30  
   31: 1. Under **Cluster configuration**, for **Cluster name**, enter a unique name\.
   32  

   34  
   35: 1. \(Optional\) To change the VPC and subnets where your tasks and services launch, under **Networking**, perform any of the following operations:
   36:    + To remove a subnet, under **Subnets**, choose **X** for each subnet that you want to remove\.
   37:    + To change to a VPC other than the **default** VPC, under **VPC**, choose an existing **VPC**, and then under **Subnets**, select each subnet\.
   38  
   39: 1. \(Optional\) To add Amazon EC2 instances to your cluster, expand **Infrastructure**, and then select **Amazon EC2 instances**\. Next, configure the Auto Scaling group which acts as the capacity provider:
   40  
   41:    1. To using an existing Auto Scaling group, from **Auto Scaling group \(ASG\)**, select the group\.
   42  
   43:    1. To create a Auto Scaling group, from **Auto Scaling group \(ASG\)**, select **Create new group**, and then provide the following details about the group:
   44:       + For **Operating system/Architecture**, choose the Amazon ECS\-optimized AMI for the Auto Scaling group instances\.
   45:       + For **EC2 instance type**, choose the instance type for your workloads\.
   46  
   47           Managed scaling works best if your Auto Scaling group uses the same or similar instance types\. 
   48:       + For **SSH key pair**, choose the pair that proves your identity when you connect to the instance\.
   49:       + For **Capacity**, enter the minimum number and the maximum number of instances to launch in the Auto Scaling group\. 
   50  
   51: 1. \(Optional\) To turn on Container Insights, expand **Monitoring**, and then turn on **Use Container Insights**\.
   52  
   53: 1. \(Optional\) To manage the cluster tags, expand **Tags**, and then perform one of the following operations:
   54  
   55:    \[Add a tag\] Choose **Add tag** and do the following:
   56:    + For **Key**, enter the key name\.
   57:    + For **Value**, enter the key value\.
   58  
   59:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
   60  
   61: 1. Choose **Create**\.
   62  

   66  
   67: **To register the sample task definition with the AWS Management Console**
   68  
   69: 1. In the navigation pane, choose **Task Definitions**\.
   70  
   71: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
   72  
   73: 1. Copy and paste the following example task definition into the box and then choose **Save**\.
   74  

  102  
  103: 1. Verify your information and choose **Create**\.
  104  

  108  
  109: **To create a service**
  110  
  111: 1. In the navigation pane, choose **Clusters**\.
  112  

  114  
  115: 1. On the **Services** tab, choose **Create**\.
  116  
  117: 1. In the **Environment** section, do the following:
  118  
  119:    1. For **Compute options**, choose Launch type\.
  120  
  121:    1. For **Launch type**, select **EC2**
  122  
  123: 1. In the **Deployment configuration** section, do the following:
  124  
  125:    1. For **Family**, choose the task definition you created in [Step 1: Register a task definition](getting-started-ecs-ec2.md#getting-started-ec2-task-def)\.
  126  
  127:    1. For **Service name**, enter a name for your service\.
  128  
  129:    1. For **Desired tasks**, enter **1**\.
  130  
  131: 1. Review the options and choose **Create**\.
  132  
  133: 1. Choose **View service** to review your service\.
  134  

  138  
  139: 1. On the **Service: *service\-name*** page, choose the **Tasks** tab\.
  140  
  141: 1. In the **Services** tab, choose the service you created in [Step 3: Create the service](getting-started-fargate.md#create-windows-service)\.
  142  
  143: 1. On the **Service: *service\-name*** page, choose the task ID for the task in your service\.
  144  
  145: 1. In the **Configuration** section, under **Public IP**, choose **open address**\.
  146  
  147: 1. On the **Task** page, in the **Configuration** section, under **Public IP**, choose **open address**\.  
  148  ![\[Screenshot of the Amazon ECS sample application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ECS_Sample_Application.png)

  159  
  160: 1. In the navigation pane, choose **Clusters**\.
  161  
  162: 1. On the **Clusters** page, select the cluster to delete\.
  163  
  164: 1. Choose **Delete Cluster**\. At the confirmation prompt, enter **delete *cluster\-name***, and then choose **Delete**\. Deleting the cluster cleans up the associated resources that were created with the cluster, including Auto Scaling groups, VPCs, or load balancers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started-ecs-ec2.md:
   23  
   24: **To register a task definition**
   25  

   29  
   30: 1. In the navigation pane, choose **Task Definitions**, **Create new Task Definition**\.
   31  
   32: 1. On the **Select launch type compatibility** page, select **EC2** and choose **Next step**\.
   33  
   34: 1. On the **Configure task and container definitions** page, scroll down and choose **Configure via JSON**\.
   35  
   36: 1. Copy and paste the following example task definition into the box and then choose **Save**\.
   37  

   65  
   66: 1. Choose **Create**\.
   67  

   73  
   74: **To create a cluster**
   75  

   79  
   80: 1. In the navigation pane, choose **Clusters**\.
   81  
   82: 1. On the **Clusters** page, choose **Create Cluster**\.
   83  
   84: 1. On the **Select cluster template** page, choose **EC2 Linux \+ Networking**\.
   85  
   86: 1. For **Cluster name**, choose a name for your cluster\.
   87  
   88: 1. In the **Instance configuration** section, do the following:
   89  
   90:    1. For **EC2 instance type**, choose either the **t2\.micro** or **t3\.micro** instance type to use for the container instance\. Instance types with more CPU and memory resources can handle more tasks, but that is unnecessary for this getting started guide\. For more information about the different instance types, see [Amazon EC2 Instances](http://aws.amazon.com/ec2/instance-types/)\.
   91  
   92:    1. For **Number of instances**, type **1**\. Amazon EC2 instances incur costs while they exist in your AWS resources\. For more information, see [Amazon EC2 Pricing](http://aws.amazon.com/ec2/pricing/)\.
   93  
   94:    1. For **EC2 Ami Id**, use the default value which is the Amazon Linux 2 Amazon ECS\-optimized AMI\. For more information about the Amazon ECS\-optimized AMI, see [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)\.
   95  
   96: 1. In the **Networking** section, for **VPC** choose either **Create a new VPC** to have Amazon ECS create a new VPC for the cluster to use, or choose an existing VPC to use\. For more information, see [Create a virtual private cloud](get-set-up-for-amazon-ecs.md#create-a-vpc)\.
   97  
   98: 1. In the **Container instance IAM role** section, choose **Create new role** to have Amazon ECS create a new IAM role for your container instances, or choose an existing Amazon ECS container instance \(`ecsInstanceRole`\) role that you have already created\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
   99  
  100: 1. Choose **Create**\.
  101  

  105  
  106: **To create a service**
  107  

  111  
  112: 1. In the navigation pane, choose **Clusters**\.
  113  

  115  
  116: 1. On the **Services** tab, choose **Create**\.
  117  
  118: 1. In the **Configure service** section, do the following:
  119  
  120:    1. For **Launch type**, select **EC2**
  121  
  122:    1. For **Task definition**, select the **console\-sample\-app\-static** task definition you created in step 1\.
  123  
  124:    1. For **Cluster**, select the cluster you created in step 2\.
  125  
  126:    1. For **Service name**, select a name for your service\.
  127  
  128:    1. For **Number of tasks**, enter `1`\.
  129  
  130: 1. Use the default values for the rest of the fields and choose **Next step**\.
  131  
  132: 1. In the **Configure network** section, leave the default values and choose **Next step**\.
  133  
  134: 1. In the **Set Auto Scaling** section, leave the default value and choose **Next step**\.
  135  
  136: 1. Review the options and choose **Create service**\.
  137  
  138: 1. Choose **View service** to review your service\.
  139  

  143  
  144: **To view the service details**
  145  

  149  
  150: 1. In the navigation pane, choose **Clusters**\.
  151  

  153  
  154: 1. On the **Services** tab, choose the service you created in step 3\.
  155  
  156: 1. On the **Service: *service\-name*** page, choose the **Tasks** tab\.
  157  
  158: 1. Confirm that the task is in a **RUNNING** state\. If it is, select the task to view the task details\. If it is not in a **RUNNING** status, refresh the service details screen until it is\.
  159  
  160: 1. In the **Containers** section, expand the container details\. In the **Network bindings** section, for **External Link** you will see the **IPv4 Public IP** address to use to access the web application\.
  161  
  162: 1. Enter the **IPv4 Public IP** address in your web browser and you should see a webpage that displays the **Amazon ECS sample** application\.  
  163  ![\[Screenshot of the Amazon ECS sample application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ECS_Sample_Application.png)

  170  
  171: **To clean up the resources**
  172  

  174  
  175: 1. In the navigation pane, choose **Clusters**\.
  176  

  178  
  179: 1. On the **Services** tab, select the service you created in step 3 and choose **Delete**\. At the confirmation prompt, enter **delete me** and then choose **Delete**\.
  180  
  181: 1. On the cluster details page, choose **Delete cluster**\. At the confirmation prompt, enter **delete me** and then choose **Delete**\. Deleting the cluster cleans up the associated resources that were created with the cluster, including the VPC and Amazon EC2 instances\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started-fargate-classic-console.md:
   28  
   29: 1. From the navigation bar, select the **US East \(N\. Virginia\)** Region\.
   30: **Note**  
   31  You can complete this first\-run wizard using these steps for any Region that supports Amazon ECS using Fargate\. For more information, see [Amazon ECS on AWS Fargate](AWS_Fargate.md)\.

   34  
   35:    For **Container definition**, the first\-run wizard comes preloaded with the `sample-app`, `nginx`, and `tomcat-webserver` container definitions in the console\. You can optionally rename the container or review and edit the resources used by the container \(such as CPU units and memory limits\) by choosing **Edit** and editing the values shown\. For more information, see [Container definitions](task_definition_parameters.md#container_definitions)\.
   36: **Note**  
   37  If you are using an Amazon ECR image in your container definition, be sure to use the full `registry/repository:tag` naming for your Amazon ECR images\. For example, `aws_account_id.dkr.ecr.region.amazonaws.com``/my-web-app:latest`\.
   38  
   39: 1. For **Task definition**, the first\-run wizard defines a task definition to use with the preloaded container definitions\. You can optionally rename the task definition and edit the resources used by the task \(such as the **Task memory** and **Task CPU** values\) by choosing **Edit** and editing the values shown\. For more information, see [Task definition parameters](task_definition_parameters.md)\.
   40  

   42  
   43: 1. Choose **Next**\.
   44  

   46  
   47: In this section of the wizard, select how to configure the Amazon ECS service that is created from your task definition\. A service launches and maintains a specified number of copies of the task definition in your cluster\. The **Amazon ECS sample** application is a web\-based Hello World–style application that is meant to run indefinitely\. By running it as a service, it restarts if the task becomes unhealthy or unexpectedly stops\.
   48  
   49: The first\-run wizard comes preloaded with a service definition, and you can see the `sample-app-service` service defined in the console\. You can optionally rename the service or review and edit the details by choosing **Edit** and doing the following:
   50  
   51: 1. In the **Service name** field, select a name for your service\.
   52  
   53: 1. In the **Number of desired tasks** field, enter the number of tasks to launch with your specified task definition\.
   54  
   55: 1. In the **Security group** field, specify a range of IPv4 addresses to allow inbound traffic from, in CIDR block notation\. For example, `203.0.113.0/24`\.
   56  
   57  1. \(Optional\) You can choose to use an Application Load Balancer with your service\. When a task is launched from a service that is configured to use a load balancer, the task is registered with the load balancer\. Traffic from the load balancer is distributed across the instances in the load balancer\. For more information, see [Introduction to Application Load Balancers](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html)\.
   58: **Important**  
   59  Application Load Balancers do incur cost while they exist in your AWS resources\. For more information, see [Application Load Balancer Pricing](http://aws.amazon.com/elasticloadbalancing/applicationloadbalancer/pricing/)\.

   62  
   63:    1. In the **Container to load balance** section, choose the **Load balancer listener port**\. The default value here is set up for the sample application, but you can configure different listener options for the load balancer\. For more information, see [Service load balancing](service-load-balancing.md)\.
   64  
   65: 1. Review your service settings and click **Save**, **Next**\.
   66  

   70  
   71: 1. In the **Cluster name** field, choose a name for your cluster\.
   72  
   73: 1. Click **Next** to proceed\.
   74  

   76  
   77: 1. Review your task definition, task configuration, and cluster configuration and click **Create** to finish\. You are directed to a **Launch Status** page that shows the status of your launch\. It describes each step of the process \(this can take a few minutes to complete while your Auto Scaling group is created and populated\)\.
   78  
   79: 1. After the launch is complete, choose **View service**\.
   80  

   82  
   83: If your service is a web\-based application, such as the **Amazon ECS sample** application, you can view its containers with a web browser\.
   84  
   85: 1. On the **Service: *service\-name*** page, choose the **Tasks** tab\.
   86  

   88  
   89: 1. In the **Network** section, choose the **ENI Id** for your task\. This takes you to the Amazon EC2 console where you can view the details of the network interface associated with your task, including the **IPv4 Public IP** address\.
   90  
   91: 1. Enter the **IPv4 Public IP** address in your web browser and you should see a webpage that displays the **Amazon ECS sample** application\.  
   92  ![\[Screenshot of the Amazon ECS sample application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ECS_Sample_Application.png)

  101  
  102: 1. In the navigation pane, choose **Clusters**\.
  103  
  104: 1. On the **Clusters** page, select the cluster to delete\.
  105  
  106: 1. Choose **Delete Cluster**\. At the confirmation prompt, enter **delete me** and then choose **Delete**\. Deleting the cluster cleans up the associated resources that were created with the cluster, including Auto Scaling groups, VPCs, or load balancers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started-fargate.md:
   25  
   26: 1. In the navigation pane, choose **Clusters**\.
   27  
   28: 1. On the **Clusters** page, choose **Create cluster**\.
   29  
   30: 1. Under **Cluster configuration**, for **Cluster name**, enter a unique name\.
   31  

   33  
   34: 1. \(Optional\) To turn on Container Insights, expand **Monitoring**, and then turn on **Use Container Insights**\.
   35  
   36: 1. \(Optional\) To help identify your cluster, expand **Tags**, and then configure your tags\.
   37  
   38:    \[Add a tag\] Choose **Add tag** and do the following:
   39:    + For **Key**, enter the key name\.
   40:    + For **Value**, enter the key value\.
   41  
   42:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
   43  
   44: 1. Choose **Create**\.
   45  

   49  
   50: 1. In the navigation pane, choose **Task Definitions**\.
   51  
   52: 1. Choose **Create new Task Definition**, **Create new revision with JSON**\.
   53  
   54: 1. Copy and paste the following example task definition into the box and then choose **Save**\.
   55  

   88  
   89: 1. Choose **Create**\.
   90  

   94  
   95: 1. In the navigation pane, choose **Clusters**, and then select the cluster you created in [Step 1: Create the cluster](#get-started-windows-fargate-cluster)\.
   96  
   97: 1. From the **Services** tab, choose **Create**\.
   98  
   99: 1. Under **Deployment configuration**, specify how your application is deployed\.
  100  
  101:    1. For **Task definition**, choose the task definition you created in [Step 2: Create a task definition](#get-started-fargate-task-def)\.
  102  
  103:    1. For **Service name**, enter a name for your service\.
  104  
  105:    1. For **Desired tasks**, enter **1**\.
  106  
  107: 1. Choose **Deploy**\.
  108  

  110  
  111: 1. On the **Service: *service\-name*** page, choose the **Tasks** tab\.
  112  
  113: 1. In the **Services** tab, choose the service you created in [Step 3: Create the service](#create-windows-service)\.
  114  
  115: 1. On the **Service: *service\-name*** page, choose the task ID for the task in your service\.
  116  
  117: 1. In the **Configuration** section, under **Public IP**, choose **open address**\.
  118  
  119: 1. You should see a webpage that displays the **Amazon ECS sample** application\.  
  120  ![\[Screenshot of the Amazon ECS sample application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ECS_Sample_Application.png)

  127  
  128: 1. In the navigation pane, choose **Clusters**\.
  129  
  130: 1. On the **Clusters** page, select the cluster to delete\.
  131  
  132: 1. Choose **Delete Cluster**\. At the confirmation prompt, enter **delete *cluster\-name***, and then choose **Delete**\. Deleting the cluster cleans up the associated resources that were created with the cluster, including Auto Scaling groups, VPCs, or load balancers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/getting-started.md:
  4  
  5: **Topics**
  6  + [Set up to use Amazon ECS](get-set-up-for-amazon-ecs.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/gs-app-mesh.md:
  4  
  5: **Note**  
  6  This feature is not available for Window containers on Fargate\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/http_proxy_config.md:
    4  
    5: **Topics**
    6  + [Amazon Linux container instance configuration](#linux-proxy)

   44  
   45: **Example Amazon Linux HTTP proxy user data script**  
   46  The example user data `cloud-boothook` script below configures the Amazon ECS container agent, `ecs-init`, the Docker daemon, and yum to use an HTTP proxy that you specify\. You can also specify a cluster into which the container instance registers itself\.  
   47: To use this script when you launch a container instance, follow the steps in [Launching an Amazon ECS Linux container instance](launch_container_instance.md), and in [Step 7](launch_container_instance.md#instance-launch-user-data-step)\. Then, copy and paste the `cloud-boothook` script below into the **User data** field \(be sure to substitute the red example values with your own proxy and cluster information\)\.  
   48  The user data script below only supports Amazon Linux 2 and Amazon Linux AMI variants of the Amazon ECS\-optimized AMI\.

  144  
  145: **Example Windows HTTP proxy user data script**  
  146  The example user data PowerShell script below configures the Amazon ECS container agent and the Docker daemon to use an HTTP proxy that you specify\. You can also specify a cluster into which the container instance registers itself\.  
  147: To use this script when you launch a container instance, follow the steps in [Launching an Amazon ECS Windows container instance](launch_window-container_instance.md)\. Just copy and paste the PowerShell script below into the **User data** field \(be sure to substitute the red example values with your own proxy and cluster information\)\.  
  148  The `-EnableTaskIAMRole` option is required to enable IAM roles for tasks\. For more information, see [Additional configuration for Windows IAM roles for tasks](windows_task_IAM_roles.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/iam-role-ecsanywhere.md:
   8  
   9: 1. In the navigation pane, choose **Roles**\. 
  10  

  12  
  13: 1. On the **Permissions** tab, verify that the **AmazonEC2ContainerServiceforEC2Role** and **AmazonSSMManagedInstanceCore** is attached to the role\.
  14  
  15:    1. Choose **Add Permissions**, **Attach policies**\.
  16  
  17:    1. To narrow the available policies to attach, for **Filter**, enter **AmazonEC2ContainerServiceforEC2Role** and **AmazonSSMManagedInstanceCore**\.
  18  
  19:    1. Check the box to the left of the **AmazonEC2ContainerServiceforEC2Role** and **AmazonSSMManagedInstanceCore** policy, and then choose **Attach policy**\.
  20  
  21: 1. Choose **Trust relationships**\.
  22  
  23: 1. Verify that the trust relationship contains the following policy\. If the trust relationship matches the policy below, choose **Cancel**\. If the trust relationship does not match, choose **Edit trust policy**, copy the policy into the **Policy Document** window and choose **Update policy**\.
  24  

  42  
  43: **To create the `ecsAnywhereRole` \(AWS Management Console\)**
  44  

  46  
  47: 1. In the navigation pane, choose **Roles** and then choose **Create role**\.
  48  
  49: 1. Choose the **AWS service** role type, and then choose **Elastic Container Service**\.
  50  
  51: 1. Choose the **EC2 Role for Elastic Container Service** use case and then **Next: Permissions**\.
  52  
  53: 1. In the **Attached permissions policy** section, select **AmazonEC2ContainerServiceforEC2Role** and then choose **Next: Review**\.
  54  
  55: 1. For **Role name**, enter `ecsAnywhereRole` and optionally you can enter a description, for example **Allows on\-premises servers or virtual machine in an ECS cluster to access ECS\.**\.
  56  
  57: 1. Review your role information and then choose **Create role** to finish\.
  58  
  59: 1. Choose the **ecsAnywhereRole** role you just created\.
  60  
  61: 1. On the **Permissions** tab, choose **Attach policies**\.
  62  
  63: 1. In the **Filter** box, enter **AmazonSSMManagedInstanceCore** to narrow the available policies to attach\.
  64  
  65: 1. Check the box to the left of the **AmazonSSMManagedInstanceCore** policy and choose **Attach policy**\.
  66  
  67: 1. On the **Trust relationships** tab, choose **Edit trust relationship**\.
  68  
  69: 1. Change the trust relationship so that it contains the following policy and then choose **Update Trust Policy**\.
  70  

  85  
  86: **To create the `ecsAnywhereRole` role \(AWS CLI\)**
  87  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/index.md:
  3  -----
  4: *****Copyright &copy; Amazon Web Services, Inc. and/or its affiliates. All rights reserved.*****
  5  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/instance_IAM_role.md:
    4  
    5: **Important**  
    6  If you are registering external instances to your cluster, the IAM role you use requires Systems Manager permissions as well\. For more information, see [Required IAM permissions for external instances](ecs-anywhere-iam.md#ecs-anywhere-iam-required)\.

   13  
   14: **Important**  
   15: The **AmazonEC2ContainerServiceforEC2Role** managed policy should be attached to the container instance IAM role, otherwise you will receive an error using the AWS Management Console to create clusters\.
   16  

   18  
   19: 1. In the navigation pane, choose **Roles**\. 
   20  

   22  
   23: 1. On the **Permissions** tab, verify that the **AmazonEC2ContainerServiceforEC2Role** is attached to the role\.
   24  
   25:    1. Choose **Add Permissions**, **Attach policies**\.
   26  
   27:    1. To narrow the available policies to attach, for **Filter**, enter **AmazonEC2ContainerServiceforEC2Role**\.
   28  
   29:    1. Check the box to the left of the **AmazonEC2ContainerServiceforEC2Role** policy, and then choose **Attach policy**\.
   30  
   31: 1. Choose **Trust relationships**\.
   32  
   33: 1. Verify that the trust relationship contains the following policy\. If the trust relationship matches the policy below, choose **Cancel**\. If the trust relationship does not match, choose **Edit trust policy**, copy the policy into the **Policy Document** window and choose **Update policy**\.
   34  

   52  
   53: **Important**  
   54  If you are registering external instances to your cluster, see [Required IAM permissions for external instances](ecs-anywhere-iam.md#ecs-anywhere-iam-required)\.

   57  
   58: **To create the `ecsInstanceRole` IAM role for your container instances**
   59  

   61  
   62: 1. In the navigation pane, choose **Roles**, and then choose **Create role**\.
   63  
   64: 1. Choose the **AWS service** role type, and then choose **Elastic Container Service**\.
   65  
   66: 1. Choose the **EC2 Role for Elastic Container Service** use case, and then choose **Next: Permissions**\.
   67  
   68: 1. In the **Permissions policies** section, verify the **AmazonEC2ContainerServiceforEC2Role** policy is selected, and then choose **Next**\.
   69: **Important**  
   70: The **AmazonEC2ContainerServiceforEC2Role** managed policy should be attached to the container instance IAM role, otherwise you will receive an error using the AWS Management Console to create clusters\.
   71  
   72: 1. For **Role name**, enter **ecsInstanceRole** and optionally you can enter a description\.
   73  
   74: 1. For **Add tags \(optional\)**, enter any custom tags to associate with the policy, and then choose **Next: Review**\.
   75  
   76: 1. Review your role information and then choose **Create role** to finish\.
   77  
   78: **To create the `ecsInstanceRole` role \(AWS CLI\)**
   79  

  114  
  115: **To allow Amazon S3 read\-only access for your container instance role**
  116  

  118  
  119: 1. In the navigation pane, choose **Policies**\. 
  120  
  121: 1. In the **Filter policies** search box, enter **AmazonS3ReadOnlyAccess**, and then choose the policy\.
  122: **Note**  
  123  This policy allows read\-only access to all Amazon S3 resources\. For more restrictive bucket policy examples, see [Bucket Policy Examples](https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html) in the Amazon Simple Storage Service User Guide\.
  124  
  125: 1. Choose **Attach**\.
  126  
  127: 1. In the **Filter roles** search box, enter **ecsInstanceRole**\.
  128  
  129: 1. Check the box to the left of the **ecsInstanceRole** role, and then choose **Attach policy**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/instance-connect.md:
   6  + SSH uses port 22 for communication\. Port 22 must be open in your container instance security group for you to connect to your instance using SSH\.
   7: **Note**  
   8  The Amazon ECS console first\-run experience creates a security group for your container instances without inbound access on port 22\. If your container instances were launched from the console first\-run experience, add inbound access to port 22 on the security group used for those instances\. For more information, see [Authorizing Network Access to Your Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/authorizing-access-to-an-instance.html) in the *Amazon EC2 User Guide for Linux Instances*\.
   9  
  10: **To connect to your container instance**
  11  

  17  
  18:    1. On the **Cluster** page, choose **Infrastructure**\.
  19  
  20:    1. Under **Container Instance** column, choose the container instance to connect to\.
  21  
  22:    1. On the **Container Instance** page, under **Networking**, record the **Public IP** or **Public DNS** for your instance\.
  23  

  32     For more information about using a Windows computer, see [Connecting to Your Linux Instance from Windows Using PuTTY](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html) in the *Amazon EC2 User Guide for Linux Instances*\.
  33: **Important**  
  34  For more information about any issues while connecting to your instance, see [Troubleshooting Connecting to Your Instance](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html) in the *Amazon EC2 User Guide for Linux Instances*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/instance-windows-connect-classic-console.md:
  18  
  19:    1. On the **Cluster** page, choose **ECS Instances**\.
  20  
  21:    1. On the **Container Instance** column, select the container instance to connect to\.
  22  
  23:    1. On the **Container Instance** page, record the **Public IP** or **Public DNS** for your instance\.
  24  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/instance-windows-connect.md:
  11  
  12:    1. In the navigation pane, choose **Clusters** and select the cluster that hosts the instance\.
  13  
  14:    1. On the **Cluster : *name*** page, choose the **Infrastructure** tab\.
  15  
  16:    1. Under **Container instances**, select the instance ID\.
  17  
  18:    1. On the **Instances** page, record the **Public IP** or **Public DNS** for your instance\.
  19  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/interconnecting-services.md:
  36  
  37: ****  
  38  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/introspection-diag.md:
   4  
   5: **Important**  
   6  Your container instance must have an IAM role that allows access to Amazon ECS in order to reach the introspection API\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.

   9  
  10: **Note**  
  11  The command below is piped through the python \-mjson\.tool for greater readability\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/launch_container_instance.md:
   12  
   13: **Topics**
   14  + [Initiate instance launch](#linux-liw-initiate-instance-launch)

   28  
   29: 1. From the Amazon EC2 console dashboard, choose **Launch instance**\.
   30  
   31:    If you see the old launch wizard, the new launch instance wizard is not yet the default view in the currently selected Region\. To open the new launch instance wizard, choose **Opt\-in to the new experience** at the top right of the screen\. If you do not see **Opt\-in to the new experience** at the top right, the wizard is not available in your Region\. You can launch an instance with the old wizard\. For more information, see [Old Amazon EC2 launch instance wizard](#existing-linux-ec2-instance-launch-wizard)\.
   32  

   34  
   35: The instance name is a tag, where the key is **Name**, and the value is the name that you specify\. You can tag the instance, the volumes, and elastic graphics\. For Spot Instances, you can tag the Spot Instance request only\. 
   36  
   37  Specifying an instance name and additional tags is optional\.
   38: + For **Name**, enter a descriptive name for the instance\. If you don't specify a name, the instance can be identified by its ID, which is automatically generated when you launch the instance\.
   39: + To add additional tags, choose **Add additional tags**\. Choose **Add tag**, and then enter a key and value, and select the resource type to tag\. Choose **Add tag** again for each additional tag to add\.
   40  

   44  
   45: Use the **Search** bar to find a suitable Amazon ECS\-optimized AMI published by AWS\.
   46  
   47: 1. Enter one of the following terms in the **Search** bar\.
   48:    + **ami\-ecs**
   49:    + The **Value** of an Amazon ECS\-optimized AMI\.
   50  

   52  
   53: 1. Press **Enter**\.
   54  
   55: 1. On the **Choose an Amazon Machine Image \(AMI\)** page, select the **AWS Marketplace AMIs** tab\.
   56  
   57: 1. From the left **Refine results** pane, select **Amazon Web Services** as the **Publisher**\.
   58  
   59: 1. Choose **Select** on the row of the AMI that you want to use\.
   60  
   61:    Alternatively, choose **Cancel** \(at top right\) to return to the launch instance wizard without choosing an AMI\. A default AMI will be selected\. Ensure that the AMI meets the requirements outlined in [Linux instances](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-linux.html)\.
   62  

   65  The instance type defines the hardware configuration and size of the instance\. Larger instance types have more CPU and memory\. For more information, see [Instance types](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html)\.
   66: + For **Instance type**, select the instance type for the instance\. 
   67  

   71  
   72: For **Key pair name**, choose an existing key pair, or choose **Create new key pair** to create a new one\. 
   73  
   74: **Important**  
   75: If you choose the **Proceed without key pair \(Not recommended\)** option, you won't be able to connect to the instance unless you choose an AMI that is configured to allow users another way to log in\.
   76  

   79  Configure the network settings, as necessary\.
   80: + **Networking platform**: Choose **Virtual Private Cloud \(VPC\)**, and then specify the subnet in the **Network interfaces** section\. 
   81: + **VPC**: Select an existing VPC in which to create the security group\.
   82: + **Subnet**: You can launch an instance in a subnet associated with an Availability Zone, Local Zone, Wavelength Zone, or Outpost\.
   83  
   84:   To launch the instance in an Availability Zone, select the subnet in which to launch your instance\. To create a new subnet, choose **Create new subnet** to go to the Amazon VPC console\. When you are done, return to the launch instance wizard and choose the Refresh icon to load your subnet in the list\.
   85  

   88    To launch an instance in an Outpost, select a subnet in a VPC that you associated with the Outpost\.
   89: + **Auto\-assign Public IP**: If your instance should be accessible from the internet, verify that the **Auto\-assign Public IP** field is set to **Enable**\. If not, set this field to **Disable**\.
   90: **Note**  
   91  Container instances need access to communicate with the Amazon ECS service endpoint\. This can be through an interface VPC endpoint or through your container instances having public IP addresses\.  

   93  If you do not have an interface VPC endpoint configured and your container instances do not have public IP addresses, then they must use network address translation \(NAT\) to provide this access\. For more information, see [NAT gateways](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html) in the *Amazon VPC User Guide* and [HTTP proxy configuration](http_proxy_config.md) in this guide\. 
   94: + **Firewall \(security groups\)**: Use a security group to define firewall rules for your container instance\. These rules specify which incoming network traffic is delivered to your container instance\. All other traffic is ignored\. 
   95:   + To select an existing security group, choose **Select existing security group**, and select the security group that you created in [Set up to use Amazon ECS](get-set-up-for-amazon-ecs.md)\.
   96  

  100  
  101: You can use the **Simple** view\.
  102: + **Storage type**: Configure the storage for your container instance\.
  103  

  105  
  106:   If you are using the Amazon ECS\-optimized AMI, your instance has two volumes configured\. The **Root** volume is for the operating system's use, and the second Amazon EBS volume \(attached to `/dev/xvdcz`\) is for Docker's use\.
  107  

  111  
  112: For **Advanced details**, expand the section to view the fields and specify any additional parameters for the instance\.
  113: + **Purchasing option**: Choose **Request Spot Instances** to request Spot Instances\. You also need to set the other fields related to Spot Instances\. For more information, see [Spot Instance Requests](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-requests.html)\.
  114: **Note**  
  115  If you are using Spot Instances and see a `Not available` message, you may need to choose a different instance type\.

  117    \.
  118: + **IAM instance profile**: Select your container instance IAM role\. This is usually named `ecsInstanceRole`\.
  119: **Important**  
  120  If you do not launch your container instance with the proper IAM permissions, your Amazon ECS agent cannot connect to your cluster\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
  121: + \(Optional\) **User data**: Configure your Amazon ECS container instance with user data, such as the agent environment variables from [Amazon ECS container agent configuration](ecs-agent-config.md)\. Amazon EC2 user data scripts are executed only one time, when the instance is first launched\. The following are common examples of what user data is used for:
  122:   + By default, your container instance launches into your default cluster\. To launch into a non\-default cluster, choose the **Advanced Details** list\. Then, paste the following script into the **User data** field, replacing *your\_cluster\_name* with the name of your cluster\.
  123  

  127      ```
  128:   + If you have an `ecs.config` file in Amazon S3 and have enabled Amazon S3 read\-only access to your container instance role, choose the **Advanced Details** list\. Then, paste the following script into the **User data** field, replacing *your\_bucket\_name* with the name of your bucket to install the AWS CLI and write your configuration file at launch time\. 
  129: **Note**  
  130  For more information about this configuration, see [Storing container instance configuration in Amazon S3](ecs-agent-config.md#ecs-config-s3)\.

  137    + Specify tags for your container instance using the `ECS_CONTAINER_INSTANCE_TAGS` configuration parameter\. This creates tags that are associated with Amazon ECS only, they cannot be listed using the Amazon EC2 API\.
  138: **Important**  
  139  If you launch your container instances using an Amazon EC2 Auto Scaling group, then you should use the ECS\_CONTAINER\_INSTANCE\_TAGS agent configuration parameter to add tags\. This is due to the way in which tags are added to Amazon EC2 instances that are launched using Auto Scaling groups\.

  163  
  164: **To launch a container instance**
  165  

  169  
  170: 1. From the **EC2 Dashboard**, choose **Launch instance**\.
  171  
  172: 1. On the **Choose an Amazon Machine Image \(AMI\)** page, complete the following steps:
  173  
  174:    1. Choose **AWS Marketplace**\.
  175  
  176:    1. Choose an AMI for your container instance\. You can search for one of the Amazon ECS\-optimized AMIs, for example the **Amazon ECS\-Optimized Amazon Linux 2 AMI**\. If you do not choose an Amazon ECS\-optimized AMI, you must follow the procedures in [Installing the Amazon ECS container agent](ecs-agent-install.md)\.
  177  
  178        For more information on the latest Amazon ECS\-optimized AMIs, see [Amazon ECS\-optimized AMI](ecs-optimized_AMI.md)\.
  179: **Important**  
  180: The **Amazon ECS\-optimized Amazon Linux AMI** is deprecated as of April 15, 2021\. After that date, Amazon ECS will continue providing critical and important security updates for the AMI but will not add support for new features\.
  181  
  182: 1. On the **Choose an Instance Type** page, you can select the hardware configuration of your instance\. The `t2.micro` instance type is selected by default\. The instance type that you select determines the resources available for your tasks to run on\.
  183  
  184:    Choose **Next: Configure Instance Details** when you are done\.
  185  
  186: 1. On the **Configure Instance Details** page, complete the following steps:
  187  
  188:    1. Set the **Number of instances** field depending on how many container instances you want to add to your cluster\.
  189  
  190:    1. \(Optional\) To use Spot Instances, for **Purchasing option**, select the check box next to **Request Spot Instances**\. You also need to set the other fields related to Spot Instances\. For more information, see [Spot Instance Requests](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-requests.html)\.
  191: **Note**  
  192  If you are using Spot Instances and see a `Not available` message, you may need to choose a different instance type\.
  193  
  194:    1. For **Network**, choose the VPC into which to launch your container instance\.
  195  
  196:    1. For **Subnet**, choose a subnet to use, or keep the default option to choose the default subnet in any Availability Zone\.
  197  
  198:    1. Set the **Auto\-assign Public IP** field depending on whether you want your instance to be accessible from the public internet\. If your instance should be accessible from the internet, verify that the **Auto\-assign Public IP** field is set to **Enable**\. If not, set this field to **Disable**\.
  199: **Note**  
  200  Container instances need access to communicate with the Amazon ECS service endpoint\. This can be through an interface VPC endpoint or through your container instances having public IP addresses\.  

  204     1. Select your container instance IAM role\. This is usually named `ecsInstanceRole`\.
  205: **Important**  
  206  If you do not launch your container instance with the proper IAM permissions, your Amazon ECS agent cannot connect to your cluster\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.

  208     1. <a name="instance-launch-user-data-step"></a>\(Optional\) Configure your Amazon ECS container instance with user data, such as the agent environment variables from [Amazon ECS container agent configuration](ecs-agent-config.md)\. Amazon EC2 user data scripts are executed only one time, when the instance is first launched\. The following are common examples of what user data is used for:
  209:       + By default, your container instance launches into your default cluster\. To launch into a non\-default cluster, choose the **Advanced Details** list\. Then, paste the following script into the **User data** field, replacing *your\_cluster\_name* with the name of your cluster\.
  210  

  214          ```
  215:       + If you have an `ecs.config` file in Amazon S3 and have enabled Amazon S3 read\-only access to your container instance role, choose the **Advanced Details** list\. Then, paste the following script into the **User data** field, replacing *your\_bucket\_name* with the name of your bucket to install the AWS CLI and write your configuration file at launch time\. 
  216: **Note**  
  217  For more information about this configuration, see [Storing container instance configuration in Amazon S3](ecs-agent-config.md#ecs-config-s3)\.

  224        + Specify tags for your container instance using the `ECS_CONTAINER_INSTANCE_TAGS` configuration parameter\. This creates tags that are associated with Amazon ECS only, they cannot be listed using the Amazon EC2 API\.
  225: **Important**  
  226  If you launch your container instances using an Amazon EC2 Auto Scaling group, then you should use the ECS\_CONTAINER\_INSTANCE\_TAGS agent configuration parameter to add tags\. This is due to the way in which tags are added to Amazon EC2 instances that are launched using Auto Scaling groups\.

  248  
  249:    1. Choose **Next: Add Storage**\.
  250  
  251: 1. On the **Add Storage** page, configure the storage for your container instance\.
  252  

  254  
  255:    If you are using the Amazon ECS\-optimized AMI, your instance has two volumes configured\. The **Root** volume is for the operating system's use, and the second Amazon EBS volume \(attached to `/dev/xvdcz`\) is for Docker's use\.
  256  

  258  
  259:    When done configuring your volumes, choose **Next: Add Tags**\.
  260  
  261: 1. On the **Add Tags** page, specify tags by providing key and value combinations for the container instance\. Choose **Add another tag** to add more than one tag to your container instance\. For more information resource tags, see [Resources and tags](ecs-resource-tagging.md)\.
  262  
  263:    Choose **Next: Configure Security Group** when you are done\.
  264  
  265: 1. On the **Configure Security Group** page, use a security group to define firewall rules for your container instance\. These rules specify which incoming network traffic is delivered to your container instance\. All other traffic is ignored\. Select or create a security group as follows, and then choose **Review and Launch**\.
  266  
  267: 1. On the **Review Instance Launch** page, under **Security Groups**, you see that the wizard created and selected a security group for you\. Instead, select the security group that you created in [Set up to use Amazon ECS](get-set-up-for-amazon-ecs.md) using the following steps:
  268  
  269:    1. Choose **Edit security groups**\.
  270  
  271:    1. On the **Configure Security Group** page, select the **Select an existing security group** option\.
  272  
  273:    1. Select the security group you created for your container instance from the list of existing security groups, and choose **Review and Launch**\.
  274  
  275: 1. On the **Review Instance Launch** page, choose **Launch**\.
  276  
  277: 1. In the **Select an existing key pair or create a new key pair** dialog box, choose **Choose an existing key pair**, then select the key pair that you created when getting set up\. 
  278  
  279:    When you are ready, select the acknowledgment field, and then choose **Launch Instances**\. 
  280  
  281: 1. A confirmation page lets you know that your instance is launching\. Choose **View Instances** to close the confirmation page and return to the console\.
  282  
  283: 1. On the **Instances** screen, you can view the status of your instance\. It takes a short time for an instance to launch\. When you launch an instance, its initial state is `pending`\. After the instance starts, its state changes to `running`, and it receives a public DNS name\. If the **Public DNS** column is hidden, choose **Show/Hide**, **Public DNS**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/launch_window-container_instance.md:
   10  
   11: **Topics**
   12  + [Initiate instance launch](#liw-initiate-instance-launch)

   26  
   27: 1. From the Amazon EC2 console dashboard, choose **Launch instance**\.
   28  
   29:    If you see the old launch wizard, the new launch instance wizard is not yet the default view in the currently selected Region\. To open the new launch instance wizard, choose **Opt\-in to the new experience** at the top right of the screen\. If you do not see **Opt\-in to the new experience** at the top right, the wizard is not available in your Region\. You can launch an instance with the old wizard\. For more information, see [Old Amazon EC2 launch instance wizard](#existing-ec2-instance-launch-wizard)\.
   30  

   32  
   33: The instance name is a tag, where the key is **Name**, and the value is the name that you specify\. You can tag the instance, the volumes, and elastic graphics\. For Spot Instances, you can tag the Spot Instance request only\. 
   34  
   35  Specifying an instance name and additional tags is optional\.
   36: + For **Name**, enter a descriptive name for the instance\. If you don't specify a name, the instance can be identified by its ID, which is automatically generated when you launch the instance\.
   37: + To add additional tags, choose **Add additional tags**\. Choose **Add tag**, and then enter a key and value, and select the resource type to tag\. Choose **Add tag** again for each additional tag to add\.
   38  

   44  
   45: Use the **Search** bar to find a suitable Amazon ECS\-optimized AMI published by AWS\.
   46  
   47: 1. Based on your requirements, enter one of the following AMIs in the **Search** bar and press **Enter**\.
   48     + Windows\_Server\-2022\-English\-Full\-ECS\_Optimized

   53  
   54: 1. On the **Choose an Amazon Machine Image \(AMI\)** page, select the **Community AMIs** tab\.
   55  
   56: 1. From the list that appears, choose a Microsoft\-verified AMI with the most recent publish date and click **Select**\.
   57  

   60  The instance type defines the hardware configuration and size of the instance\. Larger instance types have more CPU and memory\. For more information, see [Instance types](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html)\.
   61: + For **Instance type**, select the instance type for the instance\. 
   62  

   66  
   67: For **Key pair name**, choose an existing key pair, or choose **Create new key pair** to create a new one\. 
   68  
   69: **Important**  
   70: If you choose the **Proceed without key pair \(Not recommended\)** option, you won't be able to connect to the instance unless you choose an AMI that is configured to allow users another way to log in\.
   71  

   74  Configure the network settings, as necessary\.
   75: + **Networking platform**: Choose **Virtual Private Cloud \(VPC\)**, and then specify the subnet in the **Network interfaces** section\. 
   76: + **VPC**: Select an existing VPC in which to create the security group\.
   77: + **Subnet**: You can launch an instance in a subnet associated with an Availability Zone, Local Zone, Wavelength Zone, or Outpost\.
   78  
   79:   To launch the instance in an Availability Zone, select the subnet in which to launch your instance\. To create a new subnet, choose **Create new subnet** to go to the Amazon VPC console\. When you are done, return to the launch instance wizard and choose the Refresh icon to load your subnet in the list\.
   80  

   83    To launch an instance in an Outpost, select a subnet in a VPC that you associated with the Outpost\.
   84: + **Auto\-assign Public IP**: If your instance should be accessible from the internet, verify that the **Auto\-assign Public IP** field is set to **Enable**\. If not, set this field to **Disable**\.
   85: **Note**  
   86  Container instances need access to communicate with the Amazon ECS service endpoint\. This can be through an interface VPC endpoint or through your container instances having public IP addresses\.  

   88  If you do not have an interface VPC endpoint configured and your container instances do not have public IP addresses, then they must use network address translation \(NAT\) to provide this access\. For more information, see [NAT gateways](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html) in the *Amazon VPC User Guide* and [HTTP proxy configuration](http_proxy_config.md) in this guide\.
   89: + **Firewall \(security groups\)**: Use a security group to define firewall rules for your container instance\. These rules specify which incoming network traffic is delivered to your container instance\. All other traffic is ignored\. 
   90:   + To select an existing security group, choose **Select existing security group**, and select the security group that you created in [Set up to use Amazon ECS](get-set-up-for-amazon-ecs.md)
   91  

   95  
   96: You can use the **Simple** view\.
   97: + **Storage type**: Configure the storage for your container instance\.
   98  

  100  
  101:   If you are using the Amazon ECS\-optimized AMI, your instance has two volumes configured\. The **Root** volume is for the operating system's use, and the second Amazon EBS volume \(attached to `/dev/xvdcz`\) is for Docker's use\.
  102  

  106  
  107: For **Advanced details**, expand the section to view the fields and specify any additional parameters for the instance\.
  108: + **Purchasing option**: Choose **Request Spot Instances** to request Spot Instances\. You also need to set the other fields related to Spot Instances\. For more information, see [Spot Instance Requests](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-requests.html)\.
  109: **Note**  
  110  If you are using Spot Instances and see a `Not available` message, you may need to choose a different instance type\.

  112    \.
  113: + **IAM instance profile**: Select your container instance IAM role\. This is usually named `ecsInstanceRole`\.
  114: **Important**  
  115  If you do not launch your container instance with the proper IAM permissions, your Amazon ECS agent cannot connect to your cluster\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.
  116: + \(Optional\) **User data**: Configure your Amazon ECS container instance with user data, such as the agent environment variables from [Amazon ECS container agent configuration](ecs-agent-config.md)\. Amazon EC2 user data scripts are executed only one time, when the instance is first launched\. The following are common examples of what user data is used for:
  117:   + By default, your container instance launches into your default cluster\. To launch into a non\-default cluster, choose the **Advanced Details** list\. Then, paste the following script into the **User data** field, replacing *your\_cluster\_name* with the name of your cluster\.
  118  

  137  
  138: **To launch a container instance**
  139  

  143  
  144: 1. From the **EC2 Dashboard**, choose **Launch instance**\.
  145  
  146: 1. On the **Choose an Amazon Machine Image \(AMI\)** page, complete the following steps:
  147  
  148:    1. Choose **AWS Marketplace**\.
  149  
  150:    1. Choose an AMI for your container instance\. You can search for one of the Amazon ECS\-optimized AMIs, for example **Windows\_2019\_Full\_ECS\_Optimized**\. If you do not choose an Amazon ECS\-optimized AMI, you must follow the procedures in [Installing the Amazon ECS container agent](ecs-agent-install.md)\.
  151  
  152: 1. On the **Choose an Instance Type** page, you can select the hardware configuration of your instance\. The `t2.micro` instance type is selected by default\. The instance type that you select determines the resources available for your tasks to run on\.
  153  
  154:    Choose **Next: Configure Instance Details** when you are done\.
  155  
  156: 1. On the **Configure Instance Details** page, complete the following steps:
  157  
  158:    1. Set the **Number of instances** field depending on how many container instances you want to add to your cluster\.
  159  
  160:    1. \(Optional\) To use Spot Instances, for **Purchasing option**, select the check box next to **Request Spot Instances**\. You also need to set the other fields related to Spot Instances\. For more information, see [Spot Instance Requests](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-requests.html)\.
  161: **Note**  
  162  If you are using Spot Instances and see a `Not available` message, you may need to choose a different instance type\.
  163  
  164:    1. For **Network**, choose the VPC into which to launch your container instance\.
  165  
  166:    1. For **Subnet**, choose a subnet to use, or keep the default option to choose the default subnet in any Availability Zone\.
  167  
  168:    1. Set the **Auto\-assign Public IP** field depending on whether you want your instance to be accessible from the public internet\. If your instance should be accessible from the internet, verify that the **Auto\-assign Public IP** field is set to **Enable**\. If not, set this field to **Disable**\.
  169: **Note**  
  170  Container instances need access to communicate with the Amazon ECS service endpoint\. This can be through an interface VPC endpoint or through your container instances having public IP addresses\.  

  174     1. Select your container instance IAM role\. This is usually named `ecsInstanceRole`\.
  175: **Important**  
  176  If you do not launch your container instance with the proper IAM permissions, your Amazon ECS agent cannot connect to your cluster\. For more information, see [Amazon ECS container instance IAM role](instance_IAM_role.md)\.

  178     1. <a name="instance-windows-launch-user-data-step"></a>Configure your Amazon ECS container instance with user data, such as the agent environment variables from [Amazon ECS container agent configuration](ecs-agent-config.md)\. Amazon EC2 user data scripts are executed only one time, when the instance is first launched\. The following are common examples of what user data is used for:
  179:       + By default, your container instance launches into your default cluster\. To launch into a non\-default cluster, choose the **Advanced Details** list\. Then, paste the following script into the **User data** field, replacing *your\_cluster\_name* with the name of your cluster\.
  180  

  197  
  198:    1. Choose **Next: Add Storage**\.
  199  
  200: 1. On the **Add Storage** page, configure the storage for your container instance\.
  201  

  203  
  204:    When done configuring your volumes, choose **Next: Add Tags**\.
  205  
  206: 1. On the **Add Tags** page, specify tags by providing key and value combinations for the container instance\. Choose **Add another tag** to add more than one tag to your container instance\. For more information resource tags, see [Resources and tags](ecs-resource-tagging.md)\.
  207  
  208:    Choose **Next: Configure Security Group** when you are done\.
  209  
  210: 1. On the **Configure Security Group** page, use a security group to define firewall rules for your container instance\. These rules specify which incoming network traffic is delivered to your container instance\. All other traffic is ignored\. Select or create a security group as follows, and then choose **Review and Launch**\.
  211  
  212: 1. On the **Review Instance Launch** page, under **Security Groups**, you see that the wizard created and selected a security group for you\. Instead, select the security group that you created in [Set up to use Amazon ECS](get-set-up-for-amazon-ecs.md) using the following steps:
  213  
  214:    1. Choose **Edit security groups**\.
  215  
  216:    1. On the **Configure Security Group** page, select the **Select an existing security group** option\.
  217  
  218:    1. Select the security group you created for your container instance from the list of existing security groups, and choose **Review and Launch**\.
  219  
  220: 1. On the **Review Instance Launch** page, choose **Launch**\.
  221  
  222: 1. In the **Select an existing key pair or create a new key pair** dialog box, choose **Choose an existing key pair**, then select the key pair that you created when getting set up\. 
  223  
  224:    When you are ready, select the acknowledgment field, and then choose **Launch Instances**\. 
  225  
  226: 1. A confirmation page lets you know that your instance is launching\. Choose **View Instances** to close the confirmation page and return to the console\.
  227  
  228: 1. On the **Instances** screen, you can view the status of your instance\. It takes a short time for an instance to launch\. When you launch an instance, its initial state is `pending`\. After the instance starts, its state changes to `running`, and it receives a public DNS name\. If the **Public DNS** column is hidden, choose **Show/Hide**, **Public DNS**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/linux-gmsa.md:
    8  
    9: **Note**  
   10  This feature is not supported on Fargate\. For Linux on Fargate, you can follow the example [Using Windows Authentication with Linux Containers on Amazon ECS](http://aws.amazon.com/blogs/containers/using-windows-authentication-with-linux-containers-on-amazon-ecs/)\.
   11  
   12: **Topics**
   13  + [Considerations](#linux-gmsa-considerations)

   39  <a name="linux-gmsa-setup-infra"></a>
   40: **Prepare the infrastructure**  
   41  The following steps are considerations and setup that are performed once\. After you have completed these steps, you can automate the creation of container instances to reuse this configuration\.

   46  
   47: **Decide if you want to join the instances to the domain, or use domainless gMSA\.**
   48     + <a name="linux-gmsa-initial-join"></a>
   49  
   50: **Join EC2 instances to the Active Directory domain**
   51  

   54  
   55: **Join the instances by user data**
   56  

   61  
   62: **Make an Active Directory user for domainless gMSA**
   63  

   83  
   84: **Configure instances and install `credentials-fetcher` daemon**
   85  

   88  
   89: **`cloud-config` YAML**
   90  

  121  
  122: **bash script**
  123  

  148  
  149: **Setting up permissions and secrets**  
  150  Do the following steps once for each application and each task definition\. We recommend that you use the best practice of granting the least privilege and narrow the permissions used in the policy so that each task can only read the secrets that it needs\.

  153  
  154: **\(Optional\) domainless gMSA secret**
  155  

  175     ```
  176: **Note**  
  177  If you chose to use your own KMS key to encrypt your secret, then you must add the necessary permissions to this role and add this role to the AWS KMS key policy\.

  180  
  181: **Decide if you are using SSM Parameter Store or S3 to store the credspec**
  182  

  187  
  188: **Amazon S3 Bucket**
  189  

  232  
  233: **SSM Parameter Store parameter**
  234  

  303  <a name="linux-gmsa-credentialspec-create"></a>
  304: **Creating a CredSpec**  
  305  You create a CredSpec by using the CredentialSpec PowerShell module on a Windows computer that is joined to the domain\. Follow the steps in [Create a credential spec](https://learn.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/manage-serviceaccounts#create-a-credential-spec) on the Microsoft Learn website\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/load-balancer-types.md:
  4  
  5: **Topics**
  6  + [Application Load Balancer](#alb)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/logging-using-cloudtrail.md:
   4  
   5: If you create a trail, you can enable continuous delivery of CloudTrail events to an Amazon S3 bucket, including events for Amazon ECS\. If you don't configure a trail, you can still view the most recent events in the CloudTrail console in **Event history**\. Using the information collected by CloudTrail, you can determine the request that was made to Amazon ECS, the IP address from which the request was made, who made the request, when it was made, and additional details\. 
   6  

  10  
  11: CloudTrail is turned on in your AWS account when you create the account\. When activity occurs in Amazon ECS, that activity is recorded in a CloudTrail event along with other AWS service events in **Event history**\. You can view, search, and download recent events in your AWS account\. For more information, see [Viewing Events with CloudTrail Event History](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html)\. 
  12  

  31  
  32: **Note**  
  33  These examples have been formatted for improved readability\. In a CloudTrail log file, all entries and events are concatenated into a single line\. In addition, this example has been limited to a single Amazon ECS entry\. In a real CloudTrail log file, you see entries and events from multiple AWS services\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/logs.md:
  4  
  5: **Note**  
  6  If you are not sure how to collect all of the logs on your container instances, you can use the Amazon ECS logs collector\. For more information, see [Amazon ECS logs collector](ecs-logs-collector.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/manage-service.md:
  8  
  9: **Topics**
  10  + [Service management in the new Amazon ECS console](v2-service-actions.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/manually_update_agent.md:
    2  
    3: **To manually update the Amazon ECS container agent \(for non\-Amazon ECS\-optimized AMIs\)**
    4: **Note**  
    5  Agent updates do not apply to Windows container instances\. We recommend that you launch new container instances to update the agent version in your Windows clusters\.

   19     ```
   20: **Important**  
   21  If the previous command does not return the `ECS_DATADIR` environment variable, you must stop any tasks running on this container instance before updating your agent\. Newer agents with the `ECS_DATADIR` environment variable save their state and you can update them while tasks are running without issues\.

   53     For more information about these and other agent runtime options, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.
   54: **Note**  
   55  You can optionally store your agent environment variables in Amazon S3 \(which can be downloaded to your container instances at launch time using Amazon EC2 user data\)\. This is recommended for sensitive information such as authentication credentials for private repositories\. For more information, see [Storing container instance configuration in Amazon S3](ecs-agent-config.md#ecs-config-s3) and [Private registry authentication for tasks](private-auth.md)\.

   74  1. Run the latest Amazon ECS container agent on your container instance\.
   75: **Note**  
   76  Use Docker restart policies or a process manager \(such as upstart or systemd\) to treat the container agent as a service or a daemon and ensure that it is restarted after exiting\. For more information, see [Automatically start containers](https://docs.docker.com/engine/admin/host_integration/) and [Restart policies](https://docs.docker.com/engine/reference/run/#restart-policies-restart) in the Docker documentation\. The Amazon ECS\-optimized AMI uses the `ecs-init` RPM for this purpose, and you can view the [source code for this RPM](https://github.com/aws/amazon-ecs-init) on GitHub\.  

   78     The following example of the agent run command is broken into separate lines to show each option\. For more information about these and other agent runtime options, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.
   79: **Important**  
   80  Operating systems with SELinux enabled require the `--privileged` option in your docker run command\. In addition, for SELinux\-enabled container instances, we recommend that you add the `:Z` option to the `/log` and `/data` volume mounts\. However, the host mounts for these volumes must exist before you run the command or you receive a `no such file or directory` error\. Take the following action if you experience difficulty running the Amazon ECS agent on an SELinux\-enabled container instance:  

  101     ```
  102: **Note**  
  103  If you receive an `Error response from daemon: Cannot start container` message, you can delete the failed container with the sudo docker rm ecs\-agent command and try running the agent again\. 

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/memory-management.md:
  10  
  11: **Example \- Determine Linux total memory**  
  12  The free command returns the total memory that is recognized by the operating system\.  

  25  
  26: **Example \- Determine Windows total memory**  
  27  The wmic command returns the total memory that is recognized by the operating system\.  

  49  
  50: **To view container instance memory**
  51  

  53  
  54: 1. In the navigation pane, choose **Clusters**, and then choose the cluster that hosts your container instance\.
  55  
  56: 1. Choose **Infrastructure**, and then under Container instances, choose a container instance\.
  57  
  58: 1. The **Resources** section shows the registered and available memory for the container instance\.
  59  
  60:    The **Registered** memory value is what the container instance registered with Amazon ECS when it was first launched, and the **Available** memory value is what has not already been allocated to tasks\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/metrics-data.md:
  4  
  5: **Topics**
  6  + [Exporting application metrics to Amazon CloudWatch](application-metrics-cloudwatch.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/new-console.md:
  19  For information about how to create a cluster using the AWS CLI, see [create\-cluster](https://docs.aws.amazon.com/cli/latest/reference/ecs/create-cluster.html) in the *AWS Command Line Interface Reference*\.
  20: + **Spot Instances** \- For the EC2 launch type, using Spot Instances for your cluster Auto Scaling group
  21: + **Creating a new VPC on cluster creation** \- You must use existing VPCs and subnets when you create a cluster
  22  

  29  For information about how to register the task definition using the AWS CLI, see [register\-task\-definition](https://docs.aws.amazon.com/cli/latest/reference/ecs/register-task-definition.html) in the *AWS Command Line Interface Reference*\.
  30: + **Docker labels**
  31: + **AWS App Mesh integration**
  32: + **FireLens customization**
  33: + **Elastic inference**
  34: + **Task placement constraints**
  35: + **Update a service with the new task definition revision**
  36: + **Network modes** \- The following network modes are not supported:
  37:   + **host**
  38:   + **none**
  39: + **Container parameters** The following container parameters are not supported:
  40:   + **Startup and dependency ordering**
  41:   + **Individual container log configuration** Monitoring and logging has replaced this option
  42:   + **Timeouts, ulimits, and network settings**
  43  

  50  For information about how to use the EventBridge Scheduler console, see [Scheduled tasks](scheduled_tasks.md)\.
  51: + **Scheduling tasks** \- You cannot create, or update scheduled tasks\.
  52: + **Run more like this**
  53  

  60  For information about how to create a service using AWS CloudFormation, see [AWS::ECS::Service](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-service.html) in the *AWS CloudFormation User Guide*\.
  61: + **Service Discovery** \- You can only view your Service Discovery configuration\. 
  62: + **Step scaling policies for service auto scaling**
  63: + **Tracking policy with a custom metric** \- You must use AWS CloudFormation or the AWS Command Line Interface to deploy the service
  64: + **Update Service** \- You cannot update the `awsvpc` network configuration and the health check grace period\.
  65  

  70  For more information, see [Adding an attribute using the classic console](task-placement-constraints.md#add-attribute) and [Filtering by attribute using the console](task-placement-constraints.md#filter-attribute)\.
  71: + **Instance attributes** \- You cannot view or edit custom metadata for your container instance
  72  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/platform_versions.md:
  8  
  9: **Topics**
  10  + [Linux platform versions](platform-linux-fargate.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/platform-linux-fargate.md:
   7  
   8:   When the **LATEST** platform version is selected, `1.4.0` platform version is used\.
   9  + If you want to update the platform version for a service, create a deployment\. For example, assume that you have a service that runs tasks on the Linux platform version `1.3.0`\. To change the service to run tasks on the Linux platform version `1.4.0`, you can update your service and specify a new platform version\. Your tasks are redeployed with the latest platform version and the latest platform version revision\. For more information about deployments, see [Amazon ECS Deployment types](deployment-types.md)\.

  53  
  54: **Note**  
  55  Platform version `1.2.0` is no longer available\. For information about platform version deprecation, see [AWS Fargate platform version deprecation](platform-versions-retired.md)\.

  61  
  62: **Note**  
  63  Platform version `1.1.0` is no longer available\. For information about platform version deprecation, see [AWS Fargate platform version deprecation](platform-versions-retired.md)\.

  71  
  72: **Note**  
  73  Platform version `1.0.0` is no longer available\. For information about platform version deprecation, see [AWS Fargate platform version deprecation](platform-versions-retired.md)\.

  81  + If you are using interface VPC endpoints, consider the following\.
  82:   + When using container images hosted with Amazon ECR, both the **com\.amazonaws\.region\.ecr\.dkr** and **com\.amazonaws\.region\.ecr\.api** Amazon ECR VPC endpoints as well as the Amazon S3 gateway endpoint are required\. For more information, see [Amazon ECR interface VPC endpoints \(AWS PrivateLink\)](https://docs.aws.amazon.com/AmazonECR/latest/userguide/vpc-endpoints.html) in the *Amazon Elastic Container Registry User Guide*\.
  83    + When using a task definition that references Secrets Manager secrets to retrieve sensitive data for your containers, you must create the interface VPC endpoints for Secrets Manager\. For more information, see [Using Secrets Manager with VPC Endpoints](https://docs.aws.amazon.com/secretsmanager/latest/userguide/vpc-endpoint-overview.html) in the *AWS Secrets Manager User Guide*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/platform-windows-fargate.md:
  7  
  8:   When the **LATEST** platform version is selected the `1.0.0` platform is used\.
  9  + New tasks always run on the latest revision of a platform version, ensuring that tasks are always started on secured and patched infrastructure\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/private-auth-container-instances.md:
   12  
   13: **Important**  
   14  We do not recommend that you inject these authentication environment variables at instance launch with Amazon EC2 user data or pass them with the `--env` option to the docker run command\. These methods are not appropriate for sensitive data, such as authentication credentials\. For information about safely adding authentication credentials to your container instances, see [Storing container instance configuration in Amazon S3](ecs-agent-config.md#ecs-config-s3)\.

   19  
   20: **dockercfg authentication format**  
   21  The `dockercfg` format uses the authentication information stored in the configuration file that is created when you run the docker login command\. You can create this file by running docker login on your local system and entering your registry user name, password, and email address\. You can also log in to a container instance and run the command there\. Depending on your Docker version, this file is saved as either `~/.dockercfg` or `~/.docker/config.json`\.

   38  
   39: **Important**  
   40  Newer versions of Docker create a configuration file as shown above with an outer `auths` object\. The Amazon ECS agent only supports `dockercfg` authentication data that is in the below format, without the `auths` object\. If you have the jq utility installed, you can extract this data with the following command: cat \~/\.docker/config\.json \| jq \.auths

   70  
   71: **docker authentication format**  
   72  The `docker` format uses a JSON representation of the registry server that the agent should authenticate with\. It also includes the authentication parameters required by that registry \(such as user name, password, and the email address for that account\)\. For a Docker Hub account, the JSON representation looks like the following:

  101  
  102: **To enable private registries in the Amazon ECS\-optimized AMI**
  103  

  129     ```
  130: **Important**  
  131  If the previous command does not return the `ECS_DATADIR` environment variable, you must stop any tasks running on this container instance before stopping the agent\. Newer agents with the `ECS_DATADIR` environment variable save their state and you can stop and start them while tasks are running without issues\. For more information, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/private-auth.md:
   4  
   5: **Important**  
   6  If your task definition references an image that's stored in Amazon ECR, this topic doesn't apply\. For more information, see [Using Amazon ECR Images with Amazon ECS](https://docs.aws.amazon.com/AmazonECR/latest/userguide/ECR_on_ECS.html) in the *Amazon Elastic Container Registry User Guide*\.

  13  
  14: **Note**  
  15  When using the Amazon ECS API, AWS CLI, or AWS SDK, if the secret exists in the same AWS Region as the task that you're launching then you can use either the full ARN or name of the secret\. If the secret exists in a different account, the full ARN of the secret must be specified\. When using the AWS Management Console, the full ARN of the secret must be specified always\.

  29  
  30: **Note**  
  31  Another method of enabling private registry authentication uses Amazon ECS container agent environment variables to authenticate to private registries\. This method is only supported for tasks hosted on Amazon EC2 instances\. For more information, see [Private registry authentication for container instances](private-auth-container-instances.md)\.

  64  
  65: **To create a basic secret**
  66  

  70  
  71: 1. Choose **Store a new secret**\.
  72  
  73: 1. For **Select secret type**, choose **Other type of secrets**\.
  74  
  75: 1. Select **Plaintext** and enter your private registry credentials using the following format:
  76  

  83  
  84: 1. Choose **Next**\.
  85  
  86: 1. For **Secret name**, enter an optional path and name, such as **production/MyAwesomeAppSecret** or **development/TestSecret**, and choose **Next**\. You can optionally add a description to help you remember the purpose of this secret later\.
  87  

  89  
  90: 1. \(Optional\) At this point, you can configure rotation for your secret\. For this procedure, leave it at **Disable automatic rotation** and choose **Next**\.
  91  

  93  
  94: 1. Review your settings, and then choose **Store secret** to save everything that you entered as a new secret in Secrets Manager\.
  95  
  96: Register a task definition and under **Private registry**, turn on **Private registry authentication**\. Then, in **Secrets Manager ARN or name**, enter the Amazon Resource Name \(ARN\) of the secret\. You must use a For more information, see [Required IAM permissions for private registry authentication](#private-auth-iam)\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/retrieve-ecs-optimized_AMI.md:
    4  
    5: **Note**  
    6  Your administrative user must have the following IAM permissions to retrieve the Amazon ECS\-optimized AMI metadata\. These permissions have been added to the `AmazonECS_FullAccess` IAM policy\.  

   14  
   15: **Linux Amazon ECS\-optimized AMIs**
   16  + Amazon Linux 2 AMI metadata:

   65    ```
   66: **Important**  
   67: The **Amazon ECS\-optimized Amazon Linux AMI** is deprecated as of April 15, 2021\. After that date, Amazon ECS will continue providing critical and important security updates for the AMI but will not add support for new features\.
   68  

   81  
   82: **Note**  
   83  All versions of the Amazon ECS\-optimized Amazon Linux 2 AMI are available for retrieval\. Only Amazon ECS\-optimized AMI versions `amzn-ami-2017.09.l-amazon-ecs-optimized` \(Linux\) and later can be retrieved\. For more information, see [Amazon ECS\-optimized AMI versions](ecs-ami-versions.md)\.

   92  
   93: **Linux Amazon ECS\-optimized AMIs**
   94: + **For the Amazon ECS\-optimized Amazon Linux 2 AMIs:**
   95  

   98    ```
   99: + **For the Amazon ECS\-optimized Amazon Linux 2 kernel 5\.10 AMIs:**
  100  

  103    ```
  104: + **For the Amazon ECS\-optimized Amazon Linux 2 \(arm64\) AMIs:**
  105  

  108    ```
  109: + **For the Amazon ECS\-optimized Amazon Linux 2 kernel 5\.10 \(arm64\) AMIs:**
  110  

  113    ```
  114: + **For the Amazon ECS GPU\-optimized AMIs:**
  115  

  118    ```
  119: + **For the Amazon ECS optimized Amazon Linux 2 \(Neuron\) AMIs:**
  120  

  123    ```
  124: + **For the Amazon ECS\-optimized Amazon Linux 2023 AMIs:**
  125  

  128    ```
  129: + **For the Amazon ECS\-optimized Amazon Linux 2023 \(arm64\) AMIs:**
  130  

  133    ```
  134: + **For the Amazon ECS optimized Amazon Linux 2023 \(Neuron\) AMIs:**
  135  

  138    ```
  139: + **For the Amazon ECS\-optimized Amazon Linux AMIs:**
  140  

  143    ```
  144: **Important**  
  145: The **Amazon ECS\-optimized Amazon Linux AMI** is deprecated as of April 15, 2021\. After that date, Amazon ECS will continue providing critical and important security updates for the AMI but will not add support for new features\.
  146  

  180  
  181: **Linux example**
  182  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/retrieve-ecs-optimized_windows_AMI.md:
    4  
    5: **Note**  
    6  Your administrative user must have the following IAM permissions to retrieve the Amazon ECS\-optimized AMI metadata\. These permissions have been added to the `AmazonECS_FullAccess` IAM policy\.  

   79  
   80: **Note**  
   81  All versions of the Amazon ECS\-optimized Amazon Linux 2 AMI are available for retrieval\. Only Amazon ECS\-optimized AMI versions `amzn-ami-2017.09.l-amazon-ecs-optimized` \(Linux\) and later can be retrieved\. For more information, see [Amazon ECS\-optimized AMI versions](ecs-ami-versions.md)\.

   89  You can retrieve the latest stable Amazon ECS\-optimized AMI using the AWS CLI with the following AWS CLI commands\.
   90: + **For the Amazon ECS\-optimized Windows Server 2022 Full AMI:**
   91  

   94    ```
   95: + **For the Amazon ECS\-optimized Windows Server 2022 Core AMI:**
   96  

   99    ```
  100: + **For the Amazon ECS\-optimized Windows Server 2019 Full AMI:**
  101  

  104    ```
  105: + **For the Amazon ECS\-optimized Windows Server 2019 Core AMI:**
  106  

  109    ```
  110: + **For the Amazon ECS\-optimized Windows Server 2016 Full AMI:**
  111  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/scheduled_tasks_cli_tutorial.md:
  12  
  13: **To create a scheduled task \(AWS CLI\)**
  14  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/scheduled_tasks.md:
    4  
    5: **Topics**
    6  + [Create a scheduled task](#scheduled-task-create)

   23  
   24: **To create a new schedule using the console**
   25  

   27  
   28: 1. In the navigation pane, choose **Scheduler**, **Schedule**\.
   29  
   30: 1.  On the **Schedules** page, choose **Create schedule**\. 
   31  
   32: 1.  On the **Specify schedule detail** page, in the **Schedule name and description** section, do the following: 
   33  
   34:    1. For **Schedule name**, enter a name for your schedule\. For example, **MyTestSchedule** 
   35  
   36:    1. \(Optional\) For **Description**, enter a description for your schedule\. For example, **My first schedule**\.
   37  
   38:    1. For **Schedule group**, choose a schedule group from the drop down options\. If you do not have a group, choose **default**\. To create a new schedule group, choose **create your own schedule**\. 
   39  

   46  
   47: 1. \(Optional\) If you chose **Recurring schedule** in the previous step, in the **Timeframe** section, do the following: 
   48  
   49:    1. For **Timezone**, choose a timezone\. 
   50  
   51:    1. For **Start date and time**, enter a valid date in `YYYY/MM/DD` format, then specify a timestamp in 24\-hour `hh:mm` format\. 
   52  
   53:    1. For **End date and time**, enter a valid date in `YYYY/MM/DD` format, then specify a timestamp in 24\-hour `hh:mm` format\. 
   54  
   55: 1. Choose **Next**\. 
   56  
   57: 1. On the **Select target** page, choose the AWS API operation that EventBridge Scheduler invokes: 
   58  
   59:    1. Choose **All APIs**, and then in the search box enter **ECS**\. 
   60  
   61:    1. Select **Amazon ECS**\.
   62  
   63:    1. In the search box, enter **RunTask**, and then choose **RunTask**\.
   64  
   65:    1. For **ECS cluster**, choose the cluster\.
   66  
   67:    1. For **ECS task**, choose the task definition to use for the task\.
   68  
   69:    1. To use a launch type, expand **Compute options**, and then select **Launch type**\. Then, choose the launch type\.
   70  
   71:       When the Fargate launch type is specified, for **Platform version**, enter the platform version to use\. If there is no platform specified, the `LATEST` platform version is used\.
   72  
   73:    1. For **Subnets**, enter the subnet IDs to run the task in\.
   74  
   75:    1. For **Security groups**, enter the security group IDs for the subnet\.
   76  
   77:    1. \(Optional\) To use a task placement strategy other than the default, expand **Placement constraint**, and then enter the constraints\.
   78  

   80  
   81:    1. \(Optional\) To help identify your tasks, under **Tags** configure your tags\.
   82  
   83:       To have Amazon ECS automatically tag all newly launched tasks with the task definition tags, select **Enable Amazon ECS managed tags**\.
   84  
   85: 1. Choose **Next**\. 
   86  
   87: 1. On the **Settings** page, do the following: 
   88  
   89:    1. To turn on the schedule, under **Schedule state**, toggle **Enable schedule**\. 
   90  
   91:    1. To configure a retry policy for your schedule, under **Retry policy and dead\-letter queue \(DLQ\)**, do the following:
   92:       + Toggle **Retry**\.
   93:       + For **Maximum retention time of event**, enter the maximum **hour\(s\)** and **min\(s\)** that EventBridge Scheduler must keep an unprocessed event\.
   94        + The maximum is 24 hours\.
   95:       + For **Maximum retries**, enter the maximum number of times EventBridge Scheduler retries the schedule if the target returns an error\. 
   96  

  103  
  104:    1. To use a customer managed KMS key to encrypt your target input, under **Encryption**, choose **Customize encryption settings \(advanced\)** \. 
  105  
  106:       If you choose this option, enter an existing KMS key ARN or choose **Create an AWS KMS key** to navigate to the AWS KMS console\. For more information about how EventBridge Scheduler encrypts your data at rest, see [Encryption at rest](https://docs.aws.amazon.com/scheduler/latest/UserGuide/encryption-rest.html) in the *Amazon EventBridge Scheduler User Guide*\. 
  107  
  108:    1. For **Permissions**, choose **Use existing role**, then select the role\.
  109  
  110:       To have EventBridge Scheduler create a new execution role for you, choose **Create new role for this schedule**\. Then, enter a name for **Role name**\. If you choose this option, EventBridge Scheduler attaches the required permissions necessary for your templated target to the role\. 
  111  
  112: 1. Choose **Next**\. 
  113  
  114: 1.  In the **Review and create schedule** page, review the details of your schedule\. In each section, choose **Edit** to go back to that step and edit its details\. 
  115  
  116: 1. Choose **Create schedule**\. 
  117  
  118:    You can view a list of your new and existing schedules on the **Schedules** page\. Under the **Status** column, verify that your new schedule is **Enabled**\. 
  119  

  123  
  124: **To view your scheduled tasks \(Amazon ECS console\)**
  125  

  127  
  128: 1. Choose **Clusters**, and then choose the cluster your scheduled tasks are run in\.
  129  
  130: 1. On the **Cluster: *cluster\-name*** page, choose the **Scheduled Tasks** tab\.
  131  

  137  
  138: **To edit a scheduled task \(Amazon ECS console\)**
  139  

  143  
  144: 1. On the **Cluster: *cluster\-name*** page, choose **Scheduled Tasks**\.
  145  
  146: 1. Select the box to the left of the schedule rule to edit, and choose **Edit**\.
  147  
  148: 1. Edit the fields to update and choose **Update**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/scheduling_tasks.md:
   8  
   9: **Service scheduler**
  10  

  15  + `DAEMON`—The daemon scheduling strategy deploys exactly one task on each active container instance that meets all of the task placement constraints that you specify in your cluster\. The service scheduler evaluates the task placement constraints for running tasks and will stop tasks that do not meet the placement constraints\. When using this strategy, there is no need to specify a desired number of tasks, a task placement strategy, or use Service Auto Scaling policies\. For more information, see [Daemon](ecs_services.md#service_scheduler_daemon)\.
  16: **Note**  
  17  Fargate tasks do not support the `DAEMON` scheduling strategy\.

  20  
  21: **Manually running tasks**
  22  

  24  
  25: **Running tasks on a `cron`\-like schedule**
  26  

  28  
  29: **Custom schedulers**
  30  

  32  
  33: **Note**  
  34  Custom schedulers are only compatible with tasks hosted on EC2 instances\. If you use Amazon ECS on Fargate, the StartTask API doesn't work\.
  35  
  36: **Task placement**
  37  

  39  
  40: **Topics**
  41  + [Running a standalone task using the Amazon ECS console](ecs_run_task-v2.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/secrets-app-secrets-manager.md:
  76                  kwargs['VersionStage'] = stage
  77:             response = self.secretsmanager_client.get_secret_value(**kwargs)
  78              logger.info("Got value for secret %s.", self.name)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/secrets-app-ssm-paramstore.md:
  17  
  18: **Important**  
  19  For tasks that use the EC2 launch type, you must use the ECS agent configuration variable `ECS_ENABLE_AWSLOGS_EXECUTIONROLE_OVERRIDE=true` to use this feature\. You can add it to the `./etc/ecs/ecs.config` file during container instance creation or you can add it to an existing instance and then restart the ECS agent\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/secrets-app.md:
  6  
  7: **Topics**
  8  + [Using Secrets Manager](secrets-app-secrets-manager.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/secrets-envvar-secrets-manager.md:
    7  The following should be considered when using an environment variable to inject an Secrets Manager secret into a container\.
    8: + Sensitive data is injected into your container when the container is initially started\. If the secret is subsequently updated or rotated, the container will not receive the updated value automatically\. You must either launch a new task or if your task is part of a service you can update the service and use the **Force new deployment** option to force the service to launch a fresh task\.
    9  + For Amazon ECS tasks on AWS Fargate, the following should be considered:

   90  
   91: **Example referencing a full secret**  
   92  The following is a snippet of a task definition showing the format when referencing the full text of a Secrets Manager secret\.  

  105  
  106: **Example referencing a specific key within a secret**  
  107  The following shows an example output from a [get\-secret\-value](https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/get-secret-value.html) command that displays the contents of a secret along with the version staging label and version ID associated with it\.  

  133  
  134: **Example referencing a specific secret version**  
  135  The following shows an example output from a [describe\-secret](https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/describe-secret.html) command that displays the unencrypted contents of a secret along with the metadata for all versions of the secret\.  

  180  
  181: **Example referencing a specific key and version staging label of a secret**  
  182  The following shows how to reference both a specific key within a secret and a specific version staging label\.  

  212  
  213: 1. In the navigation pane, choose **Task definitions**
  214  
  215: 1. Choose **Create new task definition**, **Create new task definition**\.
  216  
  217: 1. For **Task definition family**, specify a unique name for the task definition\.
  218  

  220  
  221:    1. For **Name**, enter a name for the container\.
  222  
  223:    1. For **Image URI**, enter the image to use to start a container\. Images in the Amazon ECR Public Gallery registry may be specified using the Amazon ECR Public registry name only\. For example, if `public.ecr.aws/ecs/amazon-ecs-agent:latest` is specified, the Amazon Linux container hosted on Amazon ECR Public Gallery is used\. For all other repositories, specify the repository using either the `repository-url/image:tag` or `repository-url/image@digest` formats\.
  224  
  225:    1. For **Essential container**, if your task definition has two or more containers defined, you may specify whether the container should be considered essential\. If a container is marked as *essential*, if that container stops then the task is stopped\. Each task definition must contain at least one essential container\.
  226  
  227:    1. A port mapping allows the container to access ports on the host to send or receive traffic\. Under **Port mappings**, do one of the following: 
  228:       + When you use the **awsvpc** network mode, for **Container port** and **Protocol**, choose the port mapping to use for the container\.
  229:       + When you use the **bridge** network mode, for **Container port** and **Protocol**, choose the port mapping to use for the container\. You select the **bridge** network mode on the next page\. After you select it, choose **Previous**, and then for **Host port**, specify the port number on the container instance to reserve for your container\.
  230  
  231:       Choose **Add more port mappings** to specify additional container port mappings\.
  232  
  233:    1. For sensitive data to inject as environment variables, under **Environment**, for **Environment variables**, complete the following fields:
  234  
  235:       1. For **Key**, enter the name of the environment variable to set in the container\. This corresponds to the `name` field in the `secrets` section of a container definition\.
  236  
  237:       1. For **Value**, choose **ValueFrom**\. For **Add value**, enter the ARN of the Secrets Manager secret that contains the data to present to your container as an environment variable\.
  238  
  239:    1. \(Optional\) Choose **Add more containers** to add additional containers to the task definition\. Choose **Next** once all containers have been defined\.
  240  
  241: 1. For **App environment**, **Task size**, and **Container size**, fill out the remaining required fields and any optional fields\.
  242  
  243: 1. \(Optional\) Expand the **Task roles, network mode** section to specify the following:
  244  
  245:    1. For **Task role**, choose the IAM role to assign to the task\. A task IAM role provides permissions for the containers in a task to call AWS APIs\.
  246  
  247: 1. \(Optional\) The **Storage** section is used to expand the amount of ephemeral storage for tasks hosted on Fargate as well as add a data volume configuration for the task\.
  248  
  249:    1. To expand the available ephemeral storage beyond the default value of 20 GiB for your Fargate tasks, for **Amount**, enter a value up to 200 GiB\.
  250  
  251: 1. For sensitive data referenced in the log configuration for a container, under **Use log collection**, for **Log configuration**, complete the following configuration:
  252  
  253:    1. Select the log option, and then under **Key**, choose **Add**\.
  254  
  255:    1. For **Key**, enter the name of the log configuration option to set\.
  256  
  257:    1.  For **Value**, enter the full ARN of the Secrets Manager secret that contains the data to present to your log configuration as a log option\.
  258  
  259:    1. For **Value type**, choose **ValueFrom**\.
  260  
  261: 1. Choose **Next** to review the task definition\.
  262  
  263: 1. On the **Review and create** page, review each task definition section\. Choose **Edit** to make changes\. After the task definition is complete, choose **Create** to register the task definition\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/secrets-envvar-ssm-paramstore.md:
    7  The following should be considered when using an environment variable to inject an AWS Systems Manager secret into a container\.
    8: + Sensitive data is injected into your container when the container is initially started\. If the secret is subsequently updated or rotated, the container will not receive the updated value automatically\. You must either launch a new task or if your task is part of a service you can update the service and use the **Force new deployment** option to force the service to launch a fresh task\.
    9  + For Amazon ECS tasks on AWS Fargate, the following should be considered:

   29  
   30: **Important**  
   31  For tasks that use the EC2 launch type, you must use the ECS agent configuration variable `ECS_ENABLE_AWSLOGS_EXECUTIONROLE_OVERRIDE=true` to use this feature\. You can add it to the `./etc/ecs/ecs.config` file during container instance creation or you can add it to an existing instance and then restart the ECS agent\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.

   87  
   88: 1. In the navigation pane, choose **Task definitions**
   89  
   90: 1. Choose **Create new task definition**, **Create new task definition**\.
   91  
   92: 1. For **Task definition family**, specify a unique name for the task definition\.
   93  

   95  
   96:    1. For **Name**, enter a name for the container\.
   97  
   98:    1. For **Image URI**, enter the image to use to start a container\. Images in the Amazon ECR Public Gallery registry may be specified using the Amazon ECR Public registry name only\. For example, if `public.ecr.aws/ecs/amazon-ecs-agent:latest` is specified, the Amazon Linux container hosted on Amazon ECR Public Gallery is used\. For all other repositories, specify the repository using either the `repository-url/image:tag` or `repository-url/image@digest` formats\.
   99  
  100:    1. For **Essential container**, if your task definition has two or more containers defined, you may specify whether the container should be considered essential\. If a container is marked as *essential*, if that container stops then the task is stopped\. Each task definition must contain at least one essential container\.
  101  
  102:    1. A port mapping allows the container to access ports on the host to send or receive traffic\. Under **Port mappings**, do one of the following: 
  103:       + When you use the **awsvpc** network mode, for **Container port** and **Protocol**, choose the port mapping to use for the container\.
  104:       + When you use the **bridge** network mode, for **Container port** and **Protocol**, choose the port mapping to use for the container\. You select the **bridge** network mode on the next page\. After you select it, choose **Previous**, and then for **Host port**, specify the port number on the container instance to reserve for your container\.
  105  
  106:       Choose **Add more port mappings** to specify additional container port mappings\.
  107  
  108:    1. For sensitive data to inject as environment variables, under **Environment**, for **Environment variables**, complete the following fields:
  109  
  110:       1. For **Key**, enter the name of the environment variable to set in the container\. This corresponds to the `name` field in the `secrets` section of a container definition\.
  111  
  112:       1. For **Value**, choose **ValueFrom**\. For **Value**, enter the name or full ARN of the AWS Systems Manager Parameter Store parameter that contains the data to present to your log configuration as a log option\.
  113: **Note**  
  114  If the Systems Manager Parameter Store parameter exists in the same Region as the task you are launching, then you can use either the full ARN or the name of the secret\. If the parameter exists in a different Region, then the full ARN must be specified\.
  115  
  116:    1. \(Optional\) Choose **Add more containers** to add additional containers to the task definition\. Choose **Next** once all containers have been defined\.
  117  
  118: 1. For **App environment**, **Task size**, and **Container size**, fill out the remaining required fields and any optional fields\.
  119  
  120: 1. \(Optional\) Expand the **Task roles, network mode** section to specify the following:
  121  
  122:    1. For **Task role**, choose the IAM role to assign to the task\. A task IAM role provides permissions for the containers in a task to call AWS APIs\.
  123  
  124: 1. \(Optional\) The **Storage** section is used to expand the amount of ephemeral storage for tasks hosted on Fargate as well as add a data volume configuration for the task\.
  125  
  126:    1. To expand the available ephemeral storage beyond the default value of 20 GiB for your Fargate tasks, for **Amount**, enter a value up to 200 GiB\.
  127  
  128: 1. For sensitive data referenced in the log configuration for a container, under **Use log collection**, for **Log configuration**, complete the following configuration:
  129  
  130:    1. Select the log option, and then under **Key**, choose **Add**\.
  131  
  132:    1. For **Key**, enter the name of the log configuration option to set\.
  133  
  134:    1.  For **Value**, enter the name or full ARN of the AWS Systems Manager Parameter Store parameter that contains the data to present to your log configuration as a log option\.
  135: **Note**  
  136  If the Systems Manager Parameter Store parameter exists in the same Region as the task you are launching, then you can use either the full ARN or the name of the secret\. If the parameter exists in a different Region, then the full ARN must be specified\.
  137  
  138:    1. For **Value type**, choose **ValueFrom**\.
  139  
  140: 1. Choose **Next** to review the task definition\.
  141  
  142: 1. On the **Review and create** page, review each task definition section\. Choose **Edit** to make changes\. After the task definition is complete, choose **Create** to register the task definition\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/secrets-logconfig.md:
  29  
  30: **Important**  
  31  If the Systems Manager Parameter Store parameter exists in the same Region as the task you are launching, then you can use either the full ARN or name of the parameter\. If the parameter exists in a different Region, then the full ARN must be specified\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security_iam_id-based-policy-examples.md:
    8  
    9: **Topics**
   10  + [Policy best practices](#security_iam_service-with-iam-policy-best-practices)

   26  Identity\-based policies determine whether someone can create, access, or delete Amazon ECS resources in your account\. These actions can incur costs for your AWS account\. When you create or edit identity\-based policies, follow these guidelines and recommendations:
   27: + **Get started with AWS managed policies and move toward least\-privilege permissions** – To get started granting permissions to your users and workloads, use the *AWS managed policies* that grant permissions for many common use cases\. They are available in your AWS account\. We recommend that you reduce permissions further by defining AWS customer managed policies that are specific to your use cases\. For more information, see [AWS managed policies](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies) or [AWS managed policies for job functions](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html) in the *IAM User Guide*\.
   28: + **Apply least\-privilege permissions** – When you set permissions with IAM policies, grant only the permissions required to perform a task\. You do this by defining the actions that can be taken on specific resources under specific conditions, also known as *least\-privilege permissions*\. For more information about using IAM to apply permissions, see [ Policies and permissions in IAM](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html) in the *IAM User Guide*\.
   29: + **Use conditions in IAM policies to further restrict access** – You can add a condition to your policies to limit access to actions and resources\. For example, you can write a policy condition to specify that all requests must be sent using SSL\. You can also use conditions to grant access to service actions if they are used through a specific AWS service, such as AWS CloudFormation\. For more information, see [ IAM JSON policy elements: Condition](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html) in the *IAM User Guide*\.
   30: + **Use IAM Access Analyzer to validate your IAM policies to ensure secure and functional permissions** – IAM Access Analyzer validates new and existing policies so that the policies adhere to the IAM policy language \(JSON\) and IAM best practices\. IAM Access Analyzer provides more than 100 policy checks and actionable recommendations to help you author secure and functional policies\. For more information, see [IAM Access Analyzer policy validation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-policy-validation.html) in the *IAM User Guide*\.
   31: + **Require multi\-factor authentication \(MFA\)** – If you have a scenario that requires IAM users or a root user in your AWS account, turn on MFA for additional security\. To require MFA when API operations are called, add MFA conditions to your policies\. For more information, see [ Configuring MFA\-protected API access](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_configure-api-require.html) in the *IAM User Guide*\.
   32  

  513  
  514: **Note**  
  515  For this example, when you call the `StartTask` API with the AWS CLI or another AWS SDK, you must specify the task definition revision so that the `Resource` mapping matches\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security_iam_service-with-iam.md:
    9  
   10: **IAM features you can use with Amazon Elastic Container Service**  
   11  

   62  
   63: Administrators can use AWS JSON policies to specify who has access to what\. That is, which **principal** can perform **actions** on what **resources**, and under what **conditions**\.
   64  

  106  
  107: Administrators can use AWS JSON policies to specify who has access to what\. That is, which **principal** can perform **actions** on what **resources**, and under what **conditions**\.
  108  

  173  
  174: Administrators can use AWS JSON policies to specify who has access to what\. That is, which **principal** can perform **actions** on what **resources**, and under what **conditions**\.
  175  

  227  
  228: If a service supports all three condition keys for every resource type, then the value is **Yes** for the service\. If a service supports all three condition keys for only some resource types, then the value is **Partial**\.
  229  

  266  
  267: **Warning**  
  268  Changing the permissions for a service role might break Amazon ECS functionality\. Edit service roles only when Amazon ECS provides guidance to do so\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security_iam_troubleshoot.md:
  4  
  5: **Topics**
  6  + [I am not authorized to perform an action in Amazon ECS](#security_iam_troubleshoot-no-permissions)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security-iam-awsmanpol-amazonecs-full-access-migration.md:
   8  
   9: **To update a group, user, or role to use the AmazonECS\_FullAccess policy \(AWS Management Console\)**
  10  

  12  
  13: 1. In the navigation pane, choose **Policies** and search for and select the `AmazonEC2ContainerServiceFullAccess` policy\.
  14  
  15: 1. Choose the **Policy usage** tab that displays any IAM role that's currently using this policy\.
  16  

  18  
  19:    1. On the **Permissions** tab, choose the **X** next to the **AmazonEC2ContainerServiceFullAccess** policy\.
  20  
  21:    1. Choose **Add permissions**\.
  22  
  23:    1. Choose **Attach existing policies directly**, search for and select the **AmazonECS\_FullAccess** policy, and then choose **Next: Review**\.
  24  
  25:    1. Review the changes and then choose **Add permissions**\.
  26  

  28  
  29: **To update a group, user, or role to use the `AmazonECS_FullAccess` policy \(AWS CLI\)**
  30  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security-iam-awsmanpol-deprecated-policies.md:
   6  
   7: **Important**  
   8  The `AmazonEC2ContainerServiceFullAccess` managed IAM policy was phased out as of January 29, 2021, in response to a security finding with the `iam:passRole` permission\. This permission grants access to all resources including credentials to roles in the account\. Now that the policy is phased out, you can't attach the policy to any new users or roles\. Any users or roles that already have the policy attached can continue using it\. However, we recommend that you update your users or roles to use the `AmazonECS_FullAccess` managed policy instead\. For more information, see [Migrating to the `AmazonECS_FullAccess` managed policy](security-iam-awsmanpol-amazonecs-full-access-migration.md)\.

  11  
  12: **Important**  
  13  The `AmazonEC2ContainerServiceRole` managed IAM policy is phased out\. It's now replaced by the Amazon ECS service\-linked role\. For more information, see [Using service\-linked roles for Amazon ECS](using-service-linked-roles.md)\.

  16  
  17: **Important**  
  18  The `AmazonEC2ContainerServiceAutoscaleRole` managed IAM policy is phased out\. It's now replaced by the Application Auto Scaling service\-linked role for Amazon ECS\. For more information, see [Service\-linked roles for Application Auto Scaling](https://docs.aws.amazon.com/autoscaling/application/userguide/application-auto-scaling-service-linked-roles.html) in the *Application Auto Scaling User Guide*\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security-iam-awsmanpol.md:
    6  
    7: Additionally, AWS supports managed policies for job functions that span multiple services\. For example, the **ReadOnlyAccess** AWS managed policy provides read\-only access to all AWS services and resources\. When a service launches a new feature, AWS adds read\-only permissions for new operations and resources\. For a list and descriptions of job function policies, see [AWS managed policies for job functions](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html) in the *IAM User Guide*\.
    8  

  367  
  368: **Permissions details**
  369  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security-iam.md:
    8  
    9: **Topics**
   10  + [Audience](#security_iam_audience)

   30  
   31: **Service user** – If you use the Amazon ECS service to do your job, then your administrator provides you with the credentials and permissions that you need\. As you use more Amazon ECS features to do your work, you might need additional permissions\. Understanding how access is managed can help you request the right permissions from your administrator\. If you cannot access a feature in Amazon ECS, see [Troubleshooting Amazon Elastic Container Service identity and access](security_iam_troubleshoot.md)\.
   32  
   33: **Service administrator** – If you're in charge of Amazon ECS resources at your company, you probably have full access to Amazon ECS\. It's your job to determine which Amazon ECS features and resources your service users should access\. You must then submit requests to your IAM administrator to change the permissions of your service users\. Review the information on this page to understand the basic concepts of IAM\. To learn more about how your company can use IAM with Amazon ECS, see [How Amazon Elastic Container Service works with IAM](security_iam_service-with-iam.md)\.
   34  
   35: **IAM administrator** – If you're an IAM administrator, you might want to learn details about how you can write policies to manage access to Amazon ECS\. To view example Amazon ECS identity\-based policies that you can use in IAM, see [Identity\-based policy examples for Amazon Elastic Container Service](security_iam_id-based-policy-examples.md)\.
   36  

   73  IAM roles with temporary credentials are useful in the following situations:
   74: + **Federated user access** –  To assign permissions to a federated identity, you create a role and define permissions for the role\. When a federated identity authenticates, the identity is associated with the role and is granted the permissions that are defined by the role\. For information about roles for federation, see [ Creating a role for a third\-party Identity Provider](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html) in the *IAM User Guide*\. If you use IAM Identity Center, you configure a permission set\. To control what your identities can access after they authenticate, IAM Identity Center correlates the permission set to a role in IAM\. For information about permissions sets, see [ Permission sets](https://docs.aws.amazon.com/singlesignon/latest/userguide/permissionsetsconcept.html) in the *AWS IAM Identity Center \(successor to AWS Single Sign\-On\) User Guide*\. 
   75: + **Temporary IAM user permissions** – An IAM user or role can assume an IAM role to temporarily take on different permissions for a specific task\.
   76: + **Cross\-account access** – You can use an IAM role to allow someone \(a trusted principal\) in a different account to access resources in your account\. Roles are the primary way to grant cross\-account access\. However, with some AWS services, you can attach a policy directly to a resource \(instead of using a role as a proxy\)\. To learn the difference between roles and resource\-based policies for cross\-account access, see [How IAM roles differ from resource\-based policies](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_compare-resource-policies.html) in the *IAM User Guide*\.
   77: + **Cross\-service access** –  Some AWS services use features in other AWS services\. For example, when you make a call in a service, it's common for that service to run applications in Amazon EC2 or store objects in Amazon S3\. A service might do this using the calling principal's permissions, using a service role, or using a service\-linked role\. 
   78:   + **Principal permissions** –  When you use an IAM user or role to perform actions in AWS, you are considered a principal\. Policies grant permissions to a principal\. When you use some services, you might perform an action that then triggers another action in a different service\. In this case, you must have permissions to perform both actions\. To see whether an action requires additional dependent actions in a policy, see [Actions, resources, and condition keys for Amazon Elastic Container Service](https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonelasticcontainerservice.html) in the *Service Authorization Reference*\. 
   79:   + **Service role** –  A service role is an [IAM role](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html) that a service assumes to perform actions on your behalf\. An IAM administrator can create, modify, and delete a service role from within IAM\. For more information, see [Creating a role to delegate permissions to an AWS service](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html) in the *IAM User Guide*\. 
   80:   + **Service\-linked role** –  A service\-linked role is a type of service role that is linked to an AWS service\. The service can assume the role to perform an action on your behalf\. Service\-linked roles appear in your AWS account and are owned by the service\. An IAM administrator can view, but not edit the permissions for service\-linked roles\. 
   81: + **Applications running on Amazon EC2** –  You can use an IAM role to manage temporary credentials for applications that are running on an EC2 instance and making AWS CLI or AWS API requests\. This is preferable to storing access keys within the EC2 instance\. To assign an AWS role to an EC2 instance and make it available to all of its applications, you create an instance profile that is attached to the instance\. An instance profile contains the role and enables programs that are running on the EC2 instance to get temporary credentials\. For more information, see [Using an IAM role to grant permissions to applications running on Amazon EC2 instances](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html) in the *IAM User Guide*\. 
   82  

   88  
   89: Administrators can use AWS JSON policies to specify who has access to what\. That is, which **principal** can perform **actions** on what **resources**, and under what **conditions**\.
   90  

  115  AWS supports additional, less\-common policy types\. These policy types can set the maximum permissions granted to you by the more common policy types\. 
  116: + **Permissions boundaries** – A permissions boundary is an advanced feature in which you set the maximum permissions that an identity\-based policy can grant to an IAM entity \(IAM user or role\)\. You can set a permissions boundary for an entity\. The resulting permissions are the intersection of an entity's identity\-based policies and its permissions boundaries\. Resource\-based policies that specify the user or role in the `Principal` field are not limited by the permissions boundary\. An explicit deny in any of these policies overrides the allow\. For more information about permissions boundaries, see [Permissions boundaries for IAM entities](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html) in the *IAM User Guide*\.
  117: + **Service control policies \(SCPs\)** – SCPs are JSON policies that specify the maximum permissions for an organization or organizational unit \(OU\) in AWS Organizations\. AWS Organizations is a service for grouping and centrally managing multiple AWS accounts that your business owns\. If you enable all features in an organization, then you can apply service control policies \(SCPs\) to any or all of your accounts\. The SCP limits permissions for entities in member accounts, including each AWS account root user\. For more information about Organizations and SCPs, see [How SCPs work](https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_about-scps.html) in the *AWS Organizations User Guide*\.
  118: + **Session policies** – Session policies are advanced policies that you pass as a parameter when you programmatically create a temporary session for a role or federated user\. The resulting session's permissions are the intersection of the user or role's identity\-based policies and the session policies\. Permissions can also come from a resource\-based policy\. An explicit deny in any of these policies overrides the allow\. For more information, see [Session policies](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session) in the *IAM User Guide*\. 
  119  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/security.md:
   5  Security is a shared responsibility between AWS and you\. The [shared responsibility model](http://aws.amazon.com/compliance/shared-responsibility-model/) describes this as security *of* the cloud and security *in* the cloud:
   6: + **Security of the cloud** – AWS is responsible for protecting the infrastructure that runs AWS services in the AWS Cloud\. AWS also provides you with services that you can use securely\. Third\-party auditors regularly test and verify the effectiveness of our security as part of the [AWS compliance programs](http://aws.amazon.com/compliance/programs/)\. To learn about the compliance programs that apply to Amazon Elastic Container Service, see [AWS Services in Scope by Compliance Program](http://aws.amazon.com/compliance/services-in-scope/)\.
   7: + **Security in the cloud** – Your responsibility is determined by the AWS service that you use\. You are also responsible for other factors including the sensitivity of your data, your company’s requirements, and applicable laws and regulations\. 
   8  

  10  
  11: **Topics**
  12  + [Identity and Access Management for Amazon Elastic Container Service](security-iam.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service_definition_parameters.md:
   92  + `DAEMON`—The daemon scheduling strategy deploys exactly one task on each active container instance that meets all of the task placement constraints that you specify in your cluster\. The service scheduler evaluates the task placement constraints for running tasks and will stop tasks that do not meet the placement constraints\. When using this strategy, there is no need to specify a desired number of tasks, a task placement strategy, or use Service Auto Scaling policies\. For more information, see [Daemon](ecs_services.md#service_scheduler_daemon)\.
   93: **Note**  
   94  Fargate tasks do not support the `DAEMON` scheduling strategy\.

  115  The maximum number of tasks during a deployment is the `desiredCount` multiplied by the `maximumPercent`/100, rounded down to the nearest integer value\.  
  116: If a service is using either the blue/green \(`CODE_DEPLOY`\) or `EXTERNAL` deployment types and tasks that use the EC2 launch type, the **maximum percent** value is set to the default value and is used to define the upper limit on the number of the tasks in the service that remain in the `RUNNING` state while the container instances are in the `DRAINING` state\. If the tasks in the service use the Fargate launch type, the maximum percent value isn't used, although it's returned when describing your service\.  
  117  `minimumHealthyPercent`  <a name="minimumHealthyPercent"></a>

  129  The minimum number of healthy tasks during a deployment is the `desiredCount` multiplied by the `minimumHealthyPercent`/100, rounded up to the nearest integer value\.  
  130: If a service is using either the blue/green \(`CODE_DEPLOY`\) or `EXTERNAL` deployment types and is running tasks that use the EC2 launch type, the **minimum healthy percent** value is set to the default value and is used to define the lower limit on the number of the tasks in the service that remain in the `RUNNING` state while the container instances are in the `DRAINING` state\. If a service is using either the blue/green \(`CODE_DEPLOY`\) or `EXTERNAL` deployment types and is running tasks that use the Fargate launch type, the minimum healthy percent value is not used, although it is returned when describing your service\.
  131  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-auto-scaling.md:
  88  
  89: **To configure scaling policies for your Amazon ECS service using the AWS CLI**
  90  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-configure-auto-scaling.md:
  10  
  11: **To configure basic Service Auto Scaling parameters**
  12  

  14  
  15: 1. On the **Set Auto Scaling** page, select **Configure Service Auto Scaling to adjust your service’s desired count**\.
  16  
  17: 1. For **Minimum number of tasks**, enter the lower limit of the number of tasks for Service Auto Scaling to use\. Your service's desired count is not automatically adjusted below this amount\.
  18  
  19: 1. For **Desired number of tasks**, this field is pre\-populated with the value that you entered earlier\. You can change your service's desired count at this time, but this value must be between the minimum and maximum number of tasks specified on this page\.
  20  
  21: 1. For **Maximum number of tasks**, enter the upper limit of the number of tasks for Service Auto Scaling to use\. Your service's desired count is not automatically adjusted above this amount\.
  22  
  23: 1. For **IAM role for Service Auto Scaling**, choose the `ecsAutoscaleRole`\. If this role does not exist, choose **Create new role** to have the console create it for you\.
  24  

  28  
  29: **To configure target tracking scaling policies for your service**
  30  
  31: 1. For **Scaling policy type**, choose **Target tracking**\.
  32  
  33: 1. For **Policy name**, enter a descriptive name for your policy\.
  34  
  35: 1. For **ECS service metric**, choose the metric to track\. The following metrics are available: 
  36:    + **ECSServiceAverageCPUUtilization**—Average CPU utilization of the service\.
  37:    + **ECSServiceAverageMemoryUtilization**—Average memory utilization of the service\.
  38:    + **ALBRequestCountPerTarget**—Number of requests completed per target in an Application Load Balancer target group\.
  39  
  40: 1. For **Target value**, enter the metric value that the policy should maintain\. For example, use a target value of `1000` for `ALBRequestCountPerTarget`, or a target value of `75`\(%\) for `ECSServiceAverageCPUUtilization`\.
  41  
  42: 1. For **Scale\-out cooldown period**, enter the amount of time, in seconds, after a scale\-out activity completes before another scale\-out activity can start\. While the scale\-out cooldown period is in effect, the capacity that has been added by the previous scale\-out activity that initiated the cooldown is calculated as part of the desired capacity for the next scale out\. The intention is to continuously \(but not excessively\) scale out\.
  43  
  44: 1. For **Scale\-in cooldown period**, enter the amount of time, in seconds, after a scale\-in activity completes before another scale\-in activity can start\. The scale\-in cooldown period is used to block subsequent scale\-in requests until it has expired\. The intention is to scale in conservatively to protect your application's availability\. However, if another alarm triggers a scale out activity during the cooldown period after a scale\-in, Service Auto Scaling scales out your scalable target immediately\. 
  45  
  46: 1. \(Optional\) To turn off the scale\-in actions for this policy, choose **Disable scale\-in**\. This allows you to create a separate scaling policy for scale\-in later\.
  47  
  48: 1. Choose **Next step**\.
  49  
  50: These steps help you create step scaling policies and CloudWatch alarms that can be used to initiate scaling activities for your service\. You can create a **Scale out** alarm to increase the desired count of your service, and a **Scale in** alarm to decrease the desired count of your service\.
  51  
  52: **To configure step scaling policies for your service**
  53  
  54: 1. <a name="policy-name-step"></a>For **Scaling policy type**, choose **Step scaling**\.
  55  
  56: 1. For **Policy name**, enter a descriptive name for your policy\.
  57  
  58: 1. For **Execute policy when**, select the CloudWatch alarm to use to scale your service up or down\.
  59  
  60:    You can use an existing CloudWatch alarm that you have previously created, or you can choose to create a new alarm\. The **Create new alarm** workflow allows you to create CloudWatch alarms that are based on the `CPUUtilization` and `MemoryUtilization` of the service that you are creating\. To use other metrics, you can create your alarm in the CloudWatch console and then return to this wizard to choose that alarm\.
  61  

  63  
  64:    1. For **Alarm name**, enter a descriptive name for your alarm\. For example, if your alarm should initiate when your service CPU utilization exceeds 75%, you could call the alarm `service_name-cpu-gt-75`\.
  65  
  66:    1. For **ECS service metric**, choose the service metric to use for your alarm\. For more information, see [Service auto scaling](service-auto-scaling.md)\.
  67  
  68:    1. For **Alarm threshold**, enter the following information to configure your alarm:
  69:       + Choose the CloudWatch statistic for your alarm \(the default value of **Average** works in many cases\)\. For more information, see [Statistics](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html#Statistic) in the *Amazon CloudWatch User Guide*\.
  70        + Choose the comparison operator for your alarm and enter the value that the comparison operator checks against \(for example, `>` and `75`\)\.

  72  
  73:    1. Choose **Save**\.
  74  
  75: 1. <a name="scaling-action-step-adjustment"></a>For **Scaling action**, enter the following information to configure how your service responds to the alarm:
  76     + Choose whether to add to, subtract from, or set a specific desired count for your service\.

  82  
  83: 1. \(Optional\) If you chose to add or subtract a percentage of the existing desired count, enter a minimum increment value for **Add tasks in increments of *N* task\(s\)**\.
  84  
  85: 1. <a name="cooldown-period-step"></a>For **Cooldown period**, enter the number of seconds between scaling actions\.
  86  
  87: 1. Repeat [Step 1](#policy-name-step) through [Step 8](#cooldown-period-step) for the **Scale in** policy and choose **Save**\.
  88  
  89: 1. Choose **Next step** to proceed and navigate to [Step 6: Review and create your service](create-service-review.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-configure-network.md:
   8  
   9: **To configure VPC and security group settings for your service**
  10  
  11: 1. If you host tasks on EC2 instances, for **Cluster VPC**, choose the VPC that your instances are in\. 
  12  
  13:    If you host tasks on Fargate, or **Cluster VPC**, choose the VPC that the Amazon ECS on Fargate tasks use\. The VPC cannot be configured to require dedicated hardware tenancy, because Fargate does not support the feature\.
  14  
  15: 1. For **Subnets**, choose the available subnets for your service task placement\.
  16  
  17: 1. For **Security groups**, choose a security group was created for your service's tasks\. This security group allows HTTP traffic access from the internet \(`0.0.0.0/0`\)\. To edit the name or the rules of this security group or to choose an existing security group, choose **Edit** and then modify your security group settings\.
  18  
  19: 1. For **Auto\-assign Public IP**, choose whether to have your tasks receive a public IP address\. For tasks on Fargate, for the task to pull the container image, it must either use a public subnet and be assigned a public IP address or a private subnet that has a route to the internet or a NAT gateway that can route requests to the internet\.
  20  
  21: 1. If you're configuring your service to use a load balancer or if you're using the blue/green deployment type, continue to [Step 3: Configuring your service to use a load balancer](service-create-loadbalancer.md)\. If you aren't configuring your service to use a load balancer, you can choose **None** as the load balancer type and move on to the next section, [Step 5: Configuring your service to use Service Auto Scaling](service-configure-auto-scaling.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-configure-servicediscovery.md:
   6  
   7: **To configure service discovery**
   8  

  10  
  11: 1. On the **Configure network** page, select **Enable service discovery integration**\.
  12  
  13: 1. For **Namespace**, select an existing Amazon Route 53 namespace, if you have one, otherwise select **create new private namespace**\.
  14  
  15: 1. If creating a new namespace, for **Namespace name** enter a descriptive name for your namespace\. This is the name used for the Amazon Route 53 hosted zone\.
  16  
  17: 1. For **Configure service discovery service**, select to either create a new service discovery service or select an existing one\.
  18  
  19: 1. If creating a new service discovery service, for **Service discovery name** enter a descriptive name for your service discovery service\. This is used as the prefix for the DNS records to be created\.
  20  
  21: 1. Select **Enable ECS task health propagation** if you want health checks enabled for your service discovery service\.
  22  
  23: 1. For **DNS record type**, select the DNS record type to create for your service\. Amazon ECS service discovery only supports A and SRV records, depending on the network mode that your task definition specifies\. For more information about these record types, see [Supported DNS Record Types](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/ResourceRecordTypes.html) in the *Amazon Route 53 Developer Guide*\.
  24     + If the task definition that your service task specifies uses the `bridge` or `host` network mode, only type SRV records are supported\. Choose a container name and port combination to associate with the record\.

  26  
  27: 1. For **TTL**, enter the resource record cache time to live \(TTL\), in seconds\. This value determines how long a record set is cached by DNS resolvers and by web browsers\.
  28  
  29: 1. Choose **Next step** to proceed and navigate to [Step 5: Configuring your service to use Service Auto Scaling](service-configure-auto-scaling.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-connect.md:
    4  
    5: **Overview of steps to configure Service Connect**  
    6  Follow these steps to configure Service Connect for a group of related services\.

   19  
   20: **Regions with Service Connect**  
   21  Amazon ECS Service Connect is available in the following AWS Regions:

   71  
   72: **port name**  
   73  The Amazon ECS task definition configuration that assigns a name to a particular port mapping\. This configuration is only used by Amazon ECS Service Connect\.
   74  
   75: **client alias**  
   76  The Amazon ECS service configuration that assigns the port number that is used in the endpoint\. Additionally, the client alias can assign the DNS name of the endpoint, overriding the discovery name\. If a discovery name isn't provided in the Amazon ECS service, the client alias name overrides the port name as the endpoint name\. For endpoint examples, see the definition of *endpoint*\. Multiple client aliases can be assigned to an Amazon ECS service\. This configuration is only used by Amazon ECS Service Connect\.
   77  
   78: **discovery name**  
   79  The optional, intermediate name that you can create for a specified port from the task definition\. This name is used to create a AWS Cloud Map service\. If this name isn't provided, the port name from the task definition is used\. Multiple discovery names can be assigned to a specific port an Amazon ECS service\. This configuration is only used by Amazon ECS Service Connect\.  

   81  
   82: **endpoint**  
   83  The URL to connect to an API or website\. The URL contains the protocol, a DNS name, and the port\. For more information about endpoints in general, see [endpoint](https://docs.aws.amazon.com/general/latest/gr/glos-chap.html#endpoint) in the *AWS glossary* in the Amazon Web Services General Reference\.  

   85  
   86: **Service Connect service**  
   87: The configuration of a single endpoint in an Amazon ECS service\. This is a part of the Service Connect configuration, consisting of a single row in the **Service Connect and discovery name configuration** in the console, or one object in the `services` list in the JSON configuration of an Amazon ECS service\. This configuration is only used by Amazon ECS Service Connect\.  
   88  For more information, see [ServiceConnectService](https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_ServiceConnectService.html) in the Amazon Elastic Container Service API Reference\.
   89  
   90: **namespace**  
   91  The short name or full Amazon Resource Name \(ARN\) of the AWS Cloud Map namespace for use with Service Connect\. The namespace must be in the same AWS Region as the Amazon ECS service and cluster\. The type of namespace in AWS Cloud Map doesn't affect Service Connect\.  

   93  
   94: **client service**  
   95  An Amazon ECS service that runs a network client application\. This service must have a namespace configured\. Each task in the service can discover and connect to all of the endpoints in the namespace through a Service Connect proxy container\.  

   97  
   98: **client\-server service**  
   99  An Amazon ECS service that runs a network or web service application\. This service must have a namespace and at least one endpoint configured\. Each task in the service is reachable by using the endpoints\. The Service Connect proxy container listens on the endpoint name and port to direct traffic to the app containers in the task\.  

  109  
  110: ⟪ 421 characters skipped ⟫ort mappings\. Amazon ECS reuses the port number and port name from the task definition to define the Service Connect service and endpoint\. To override those values, you can use the other parameters **Discovery**, **DNS**, and **Port** in the console, or `discoveryName` and `clientAliases`, respectively in the Amazon ECS API\.
  111  

  166  
  167: Second, assume that a frontend service exists without Service Connect configuration\. The tasks are connecting to an existing backend service\. Add a client\-server Service Connect configuration to the backend service first, using the same name in the **DNS** or `clientAlias` that the frontend uses\. This creates a new deployment, so all the deployment rollback detection or AWS Management Console, AWS CLI, AWS SDKs and other methods to roll back and revert the backend service to the previous deployment and configuration\. If you are satisfied with the performance and behavior of the backend service, add a client or client\-server Service Connect configuration to the frontend service\. Only the tasks in the new deployment use the Service Connect proxy that is added to those new tasks\. If you have issues with this configuration, you can roll back and revert to your previous configuration by using the deployment rollback detection or AWS Management Console, AWS CLI, AWS SDKs and other methods to roll back and revert the backend service to the previous deployment and configuration\. If you use another service discovery system that is based on DNS instead of Service Connect, any frontend or client applications begin using new endpoints and c
  168  

  201  
  202: ****  
  203  

  240  
  241: Every AWS Cloud Map namespace in this AWS account in the selected AWS Region is displayed in the **Namespaces** in the Amazon ECS console\.
  242  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-create-loadbalancer-rolling.md:
   4  
   5: **To configure a health check grace period**
   6  

   8  
   9: 1. For **Health check grace period**: Enter the period of time, in seconds, that the Amazon ECS service scheduler ignores unhealthy Elastic Load Balancing target health checks after a task has first started\.
  10  

  12  
  13: **To choose a load balancer type**
  14  

  16  
  17: 1. For **Load balancer type**, choose the load balancer type to use with your service:  
  18  Application Load Balancer  

  24  
  25: 1. For **Select IAM role for service**, choose **Create new role** to create the Amazon ECS service\-linked role or select your existing service\-linked role\.
  26  
  27: 1. For **ELB Name**, choose the name of the load balancer to use with your service\. Only load balancers that correspond to the load balancer type that you selected earlier are visible here\.
  28  

  30  
  31: **To configure an Application Load Balancer**
  32  
  33: 1. For **Container to load balance**, choose the container and port combination from your task definition that your load balancer distributes traffic to, and choose **Add to load balancer**\.
  34  
  35: 1. For **Listener port**, choose the listener port and protocol of the listener that you created in [Creating an Application Load Balancer](create-application-load-balancer.md) \(if applicable\)\. Alternatively, choose **create new** to create a new listener and then enter a port number and choose a port protocol for **Listener protocol**\.
  36  
  37: 1. For **Target group name**, choose the target group that you created in [Creating an Application Load Balancer](create-application-load-balancer.md) \(if applicable\), or choose **create new** to create a new target group\.
  38: **Important**  
  39  If your service's task definition uses the `awsvpc` network mode \(which is required for the Fargate launch type\), your target group must use `ip` as the target type, not `instance`\. This is because tasks that use the `awsvpc` network mode are associated with an elastic network interface, not an Amazon EC2 instance\.

  41  1. \(Optional\) If you chose to create a new target group, complete the following fields as follows:
  42:    + For **Target group name**, a default name is provided for you\.
  43:    + For **Target group protocol**, enter the protocol to use for routing traffic to your tasks\.
  44:    + For **Path pattern**, if your listener doesn't have any existing rules, the default path pattern \(`/`\) is used\. If your listener already has a default rule, then you must enter a path pattern that matches traffic that you want to have sent to your service's target group\. For example, if your service is a web application called `web-app`, and you want traffic that matches `http://my-elb-url/web-app` to route to your service, then enter `/web-app*` as your path pattern\. For more information, see [ListenerRules](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-listeners.html#listener-rules) in the *User Guide for Application Load Balancers*\.
  45:    + For **Health check path**, enter the path that the load balancer sends health check pings to\.
  46  
  47: 1. When you're finished configuring your Application Load Balancer, choose **Next step**\.<a name="create-service-configure-nlb"></a>
  48  
  49: **To configure a Network Load Balancer**
  50  
  51: 1. For **Container to load balance**, choose the container and port combination from your task definition that your load balancer should distribute traffic to, and choose **Add to load balancer**\.
  52  
  53: 1. For **Listener port**, choose the listener port and protocol of the listener that you created in [Creating a Network Load Balancer](create-network-load-balancer.md) \(if applicable\), or choose **create new** to create a new listener and then enter a port number and choose a port protocol for **Listener protocol**\.
  54  
  55: 1. For **Target group name**, choose the target group that you created in [Creating a Network Load Balancer](create-network-load-balancer.md) \(if applicable\), or choose **create new** to create a new target group\.
  56: **Important**  
  57  If your service's task definition uses the `awsvpc` network mode \(which is required for the Fargate launch type\), your target group must use `ip` as the target type, not `instance`\. This is because tasks that use the `awsvpc` network mode are associated with an elastic network interface, not an Amazon EC2 instance\.

  59  1. \(Optional\) If you chose to create a new target group, complete the following fields as follows:
  60:    + For **Target group name**, a default name is provided for you\. 
  61:    + For **Target group protocol**, enter the protocol to use for routing traffic to your tasks\.
  62:    + For **Health check path**, enter the path that the load balancer sends health check pings to\.
  63  
  64: 1. When you're finished configuring your Network Load Balancer, choose **Next Step**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-discovery.md:
  39  Service discovery consists of the following components:
  40: + **Service discovery namespace**: A logical group of service discovery services that share the same domain name, such as `example.com`\. This is the domain name where you want to route traffic to\. You can create a namespace with a call to the `aws servicediscovery create-private-dns-namespace` command or in the Amazon ECS classic console\. You can use the `aws servicediscovery list-namespaces` command to view the summary information about the namespaces that were created by the current account\. For more information about the service discovery commands, see `[create\-private\-dns\-namespace](https://docs.aws.amazon.com/cli/latest/reference/servicediscovery/create-private-dns-namespace.html)` and `[list\-namespaces](https://docs.aws.amazon.com/cli/latest/reference/servicediscovery/list-namespaces.html)` in the *AWS Cloud Map \(service discovery\) AWS CLI Reference Guide*\.
  41: + **Service discovery service**: Exists within the service discovery namespace and consists of the service name and DNS configuration for the namespace\. It provides the following core component:
  42:   + **Service registry**: Allows you to look up a service via DNS or AWS Cloud Map API actions and get back one or more available endpoints that can be used to connect to the service\.
  43: + **Service discovery instance**: Exists within the service discovery service and consists of the attributes associated with each Amazon ECS service in the service directory\.
  44:   + **Instance attributes**: The following metadata is added as custom attributes for each Amazon ECS service that is configured to use service discovery:
  45:     + **`AWS_INSTANCE_IPV4`** – For an `A` record, the IPv4 address that Route 53 returns in response to DNS queries and AWS Cloud Map returns when discovering instance details, for example, `192.0.2.44`\.
  46:     + **`AWS_INSTANCE_PORT`** – The port value associated with the service discovery service\.
  47:     + **`AVAILABILITY_ZONE`** – The Availability Zone into which the task was launched\. For tasks using the EC2 launch type, this is the Availability Zone in which the container instance exists\. For tasks using the Fargate launch type, this is the Availability Zone in which the elastic network interface exists\.
  48:     + **`REGION`** – The Region in which the task exists\.
  49:     + **`ECS_SERVICE_NAME`** – The name of the Amazon ECS service to which the task belongs\.
  50:     + **`ECS_CLUSTER_NAME`** – The name of the Amazon ECS cluster to which the task belongs\.
  51:     + **`EC2_INSTANCE_ID`** – The ID of the container instance the task was placed on\. This custom attribute is not added if the task is using the Fargate launch type\.
  52:     + **`ECS_TASK_DEFINITION_FAMILY`** – The task definition family that the task is using\.
  53:     + **`ECS_TASK_SET_EXTERNAL_ID`** – If a task set is created for an external deployment and is associated with a service discovery registry, then the `ECS_TASK_SET_EXTERNAL_ID` attribute will contain the external ID of the task set\.
  54: + **Amazon ECS health checks**: Amazon ECS performs periodic container\-level health checks\. If an endpoint does not pass the health check, it is removed from DNS routing and marked as unhealthy\.
  55  

  73  + We recommend you use container\-level health checks managed by Amazon ECS for your service discovery service\.
  74:   + **HealthCheckCustomConfig**—Amazon ECS manages health checks on your behalf\. Amazon ECS uses information from container and health checks, and your task state, to update the health with AWS Cloud Map\. This is specified using the `--health-check-custom-config` parameter when creating your service discovery service\. For more information, see [HealthCheckCustomConfig](https://docs.aws.amazon.com/cloud-map/latest/api/API_HealthCheckCustomConfig.html) in the *AWS Cloud Map API Reference*\.
  75  + If you're using the Amazon ECS classic console, the workflow creates one service discovery service for each service\. It maps all of the task IP addresses as `A` records, or task IP addresses and port as SRV records\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-event-messages.md:
    5  When viewing service event messages using the Amazon ECS API, only the events from the service scheduler are returned\. These include the most recent task placement and instance health events\. However, the Amazon ECS console displays service events from the following sources\.
    6: + Task placement and instance health events from the Amazon ECS service scheduler\. These events will have a prefix of **service *\(service\-name\)***\. To ensure that this event view is helpful, we only show the `100` most recent events and duplicate event messages are omitted until either the cause is resolved or six hours passes\. If the cause is not resolved within six hours, you will receive another service event message for that cause\.
    7: + Service Auto Scaling events\. These events will have a prefix of **Message**\. The `10` most recent scaling events are shown\. These events only occur when a service is configured with an Application Auto Scaling scaling policy\.
    8  

   15  
   16: 1. In the navigation pane, choose **Clusters**\.
   17  
   18: 1. On the **Clusters** page, choose the cluster\.
   19  

   21  
   22: 1. Choose **Deployments and events**, under **Events**, view the messages\.
   23  

   79  The ENI limit for individual container instances depends on the following conditions:  
   80: + If you **have not** opted in to the `awsvpcTrunking` account setting, the ENI limit for each container instance depends on the instance type\. For more information, see [IP Addresses Per Network Interface Per Instance Type](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html) in the *Amazon EC2 User Guide for Linux Instances*\.
   81: + If you **have** opted in to the `awsvpcTrunking` account setting but you **have not** launched new container instances using a supported instance type after opting in, the ENI limit for each container instance will still be at the default value\. For more information, see [IP Addresses Per Network Interface Per Instance Type](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html) in the *Amazon EC2 User Guide for Linux Instances*\.
   82: + If you **have** opted in to the `awsvpcTrunking` account setting and you **have** launched new container instances using a supported instance type after opting in, additional ENIs are available\. For more information, see [Supported Amazon EC2 instance types](container-instance-eni.md#eni-trunking-supported-instance-types)\.
   83  For more information about opting in to the `awsvpcTrunking` account setting, see [Elastic network interface trunking](container-instance-eni.md)\.  

  122  
  123: To request an API rate limit quota increase, open the [AWS Support Center](https://console.aws.amazon.com/support/home#/) page, sign in if necessary, and choose **Create case**\. Choose **Service limit increase**\. Complete and submit the form\.
  124  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-load-balancing.md:
   4  
   5: **Note**  
   6  When you use tasks sets, all the tasks in the set must all be configured to use Elastic Load Balancing or to not use Elastic Load Balancing\. 

  17  
  18: **Topics**
  19  + [Load balancer types](load-balancer-types.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-quotas.md:
  12  
  13: **Note**  
  14  The default values are the initial quotas set by AWS, which are separate from the actual applied quota value and maximum possible service quota\. For more information, see [Terminology in Service Quotas](https://docs.aws.amazon.com/servicequotas/latest/userguide/intro.html#intro_getting-started) in the *Service Quotas User Guide*\.
  15  
  16: **Note**  
  17  <a name="service-quotas-ecs-note-1"></a>Services configured to use Amazon ECS service discovery have a limit of 1,000 tasks per service\. This is due to the AWS Cloud Map service quota for the number of instances per service\. For more information, see [AWS Cloud Map service quotas](https://docs.aws.amazon.com/general/latest/gr/cloud_map.html) in the *Amazon Web Services General Reference*\.
  18  
  19: **Note**  
  20  <a name="service-quotas-ecs-note-2"></a>In practice, task launch rates are also dependent on other considerations such as container images to be downloaded and unpacked, health checks and other integrations enabled, such as registering tasks with a load balancer\. You might see variations in task launch rates compared with the quotas that are represented here\. These variations are causes by the features that you have enabled for your Amazon ECS services\. For more information, see [speeding up Amazon ECS deployments](https://docs.aws.amazon.com/AmazonECS/latest/bestpracticesguide/deployment.html) in the Amazon ECS Best Practices Guide\.
  21  
  22: **Note**  
  23  Services configured to use Amazon ECS Service Connect have a limit of 1,000 tasks per service\. This is due to the AWS Cloud Map service quota for the number of instances per service\. For more information, see [AWS Cloud Map service quotas](https://docs.aws.amazon.com/general/latest/gr/cloud_map.html) in the *Amazon Web Services General Reference*\.

  26  
  27: The following are Amazon ECS on AWS Fargate service quotas and are listed under the **AWS Fargate** service in the Service Quotas console\.
  28  

  32  
  33: **Note**  
  34  The default values are the initial quotas set by AWS, which are separate from the actual applied quota value and maximum possible service quota\. For more information, see [Terminology in Service Quotas](https://docs.aws.amazon.com/servicequotas/latest/userguide/intro.html#intro_getting-started) in the *Service Quotas User Guide*\.
  35  
  36: **Note**  
  37  Fargate additionally enforces Amazon ECS tasks and Amazon EKS pods launch rate limits\. For more information, see [Fargate throttling limits](https://docs.aws.amazon.com/AmazonECS/latest/userguide/throttling.html)\.

  47  
  48: **To view Amazon ECS and Fargate service quotas using the AWS Management Console**
  49  

  51  
  52: 1. In the navigation pane, choose **AWS services**\.
  53  
  54: 1. From the **AWS services** list, search for and select **Amazon Elastic Container Service \(Amazon ECS\)** or **AWS Fargate**\.
  55  
  56:    In the **Service quotas** list, you can see the service quota name, applied value \(if it is available\), AWS default quota, and whether the quota value is adjustable\.
  57  

  59  
  60: 1. \(Optional\) To request a quota increase, select the quota that you want to increase, select **Request quota increase**, enter or select the required information, and select **Request**\.
  61  

  66  
  67: **To view Amazon ECS and Fargate service quotas using the AWS CLI**  
  68  Run the following command to view the default Amazon ECS quotas\.

  92  
  93: **Note**  
  94  Amazon ECS doesn't support applied quotas\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/service-throttle-logic.md:
  19  
  20: **Important**  
  21  Tasks that are stopped after they reach the `RUNNING` state don't start the throttle logic or the associated service event message\. For example, assume that failed Elastic Load Balancing health checks for a service cause a task to be flagged as unhealthy, and Amazon ECS deregisters it and stops the task\. At this point, the tasks aren't throttled\. Even if a task's container command immediately exits with a non\-zero exit code, the task already moved to the `RUNNING` state\. Tasks that fail immediately because command errors don't cause the throttle or the service event message\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/set-cluster-default-capacity-provider-console-v2.md:
   4  
   5: **To set the default capacity provider for the cluster \(New Amazon ECS console\)**
   6  

   8  
   9: 1. In the navigation pane, choose **Clusters**\.
  10  
  11: 1. On the **Clusters** page, choose the cluster\.
  12  
  13: 1. On the **Cluster : *name*** page, choose **Edit**\.
  14  

  16  
  17: 1. On the **Update cluster** page, choose **Add another provider**\.
  18  
  19: 1. For **Provider 1**, choose the capacity provider, and then choose **Update**\.
  20  
  21: 1. In the navigation pane, choose **Clusters**\.
  22  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/specifying-sensitive-data-parameters.md:
    4  
    5: **Topics**
    6  + [Considerations for specifying sensitive data using Systems Manager Parameter Store](#secrets--parameterstore-considerations)

   18  + For tasks hosted on EC2 instances, this feature requires that your container instance have version `1.22.0` or later of the container agent\. However, we recommend using the latest container agent version\. For information about how to check your agent version and update to the latest version, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.
   19: + Sensitive data is injected into your container when the container is initially started\. If the secret or Parameter Store parameter is subsequently updated or rotated, the container doesn't receive the updated value automatically\. You must either launch a new task or if your task is part of a service you can update the service and use the **Force new deployment** option to force the service to launch a fresh task\.
   20  + For Windows tasks that are configured to use the `awslogs` logging driver, you must also set the `ECS_ENABLE_AWSLOGS_EXECUTIONROLE_OVERRIDE` environment variable on your container instance\. You can do this with User Data using the following syntax:

   32  
   33: **Important**  
   34  For tasks that use the EC2 launch type, you must use the ECS agent configuration variable `ECS_ENABLE_AWSLOGS_EXECUTIONROLE_OVERRIDE=true` to use this feature\. You can add it to the `./etc/ecs/ecs.config` file to a new or an existing container instance\. If you add it to an existing container instance, make sure to restart the ECS agent afterwards\. For more information, see [Amazon ECS container agent configuration](ecs-agent-config.md)\.

   84  
   85: **Important**  
   86  If the Systems Manager Parameter Store parameter exists in the same AWS Region as the task you are launching, then you can use either the full ARN or name of the parameter\. If the parameter exists in a different Region, then the full ARN must be specified\.

  110  
  111: **To create a Parameter Store parameter**
  112  

  114  
  115: 1. In the navigation pane, choose **Parameter Store** and then **Create parameter**\.
  116  
  117: 1. For **Name**, enter a hierarchy and a parameter name \(for example, `/test/database_password`\)\.
  118  
  119: 1. For **Description**, type an optional description\.
  120  
  121: 1. For **Type**, choose **String**, **StringList**, or **SecureString**\.
  122: **Note**  
  123: If you choose **SecureString**, the **KMS key ID** field appears\. If you don't provide a KMS key ID, a KMS key ARN, an alias name, or an alias ARN, then the system uses `alias/aws/ssm`\. This is the default KMS key for Systems Manager\. To avoid using this key, choose a custom key\. For more information, see [Use Secure String Parameters](https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-about.html) in the *AWS Systems Manager User Guide*\.
  124  When you create a secure string parameter in the console by using the `key-id` parameter with either a custom KMS key alias name or an alias ARN, you must specify the prefix `alias/` before the alias\. The following is an ARN example:  

  134  
  135: 1. For **Value**, type a value\. For example, `MyFirstParameter`\. If you chose **SecureString**, the value is masked as you type\.
  136  
  137: 1. Choose **Create parameter**\.
  138  

  142  
  143: **To create a task definition that specifies a secret**
  144  

  146  
  147: 1. In the navigation pane, choose **task definitions**, **Create New Task Definition**\.
  148  
  149: 1. On the **Select launch type compatibility** page, choose the launch type for your tasks and choose **Next step**\.
  150: **Note**  
  151  This step only applies to Regions that support Amazon ECS using AWS Fargate\. For more information, see [Amazon ECS on AWS Fargate](AWS_Fargate.md)\.
  152  
  153: 1. For **task definition Name**, type a name for your task definition\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  154  
  155: 1. For **Task execution role**, either select your existing task execution role or choose **Create new role**\. The role that's created authorizes Amazon ECS to pull private images for your task\. For more information, see [Required IAM permissions for private registry authentication](private-auth.md#private-auth-iam)\.
  156: **Important**  
  157: If the **Task execution role** field doesn't appear, choose **Configure via JSON** and add the `executionRoleArn` field to specify your task execution role\. The following code shows the syntax:  
  158  

  164  
  165:    1. Under **Container Definitions**, choose **Add container**\.
  166  
  167:    1. For **Container name**, type a name for your container\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  168  
  169:    1. For **Image**, type the image name or path to your private image\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  170  
  171:    1. Expand **Advanced container configuration**\.
  172  
  173:    1. For sensitive data to inject as environment variables, under **Environment**, for **Environment variables**, complete the following fields:
  174  
  175:       1. For **Key**, enter the name of the environment variable to set in the container\. This corresponds to the `name` field that's in the `secrets` section of a container definition\.
  176  
  177:       1. For **Value**, choose **ValueFrom**\. For **Add value**, enter the full Amazon Resource Name \(ARN\) of the AWS Systems Manager Parameter Store parameter that contains the data to present to your container as an environment variable\.
  178: **Note**  
  179  If the Systems Manager Parameter Store parameter exists in the same AWS Region as the task you are launching, you can use either the full ARN or name of the secret\. If the parameter exists in a different Region, then the full ARN must be specified\.
  180  
  181:    1. For secrets referenced in the log configuration for a container, under **Storage and Logging**, for **Log configuration**, complete the following fields:
  182  
  183:       1. Clear the **Auto\-configure CloudWatch Logs** option\.
  184  
  185:       1. Under **Log options**, for **Key**, enter the name of the log configuration option to set\.
  186  
  187:       1. For **Value**, choose **ValueFrom**\. For **Add value**, enter the name or full ARN of the AWS Systems Manager Parameter Store parameter that contains the data to present to your log configuration as a log option\.
  188: **Note**  
  189  If the Systems Manager Parameter Store parameter exists in the same AWS Region as the task you are launching, you can use either the full ARN or the name of the secret\. If the parameter exists in a different Region, then the full ARN must be specified\.
  190  
  191:    1. Fill out the remaining required fields and any optional fields to use in your container definitions\. More container definition parameters are available in the **Advanced container configuration** menu\. For more information, see [Task definition parameters](task_definition_parameters.md)\.
  192  
  193:    1. Choose **Add**\.
  194  
  195: 1. When your containers are added, choose **Create**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/specifying-sensitive-data-secrets.md:
   18  + When using a task definition that references Secrets Manager secrets to retrieve sensitive data for your containers, if you're also using interface VPC endpoints, you must create the interface VPC endpoints for Secrets Manager\. For more information, see [Using Secrets Manager with VPC Endpoints](https://docs.aws.amazon.com/secretsmanager/latest/userguide/vpc-endpoint-overview.html) in the *AWS Secrets Manager User Guide*\.
   19: + Sensitive data is injected into your container when the container is initially started\. If the secret is subsequently updated or rotated, the container doesn't receive the updated value automatically\. You must either launch a new task or if your task is part of a service that you can update the service and use the **Force new deployment** option to force the service to launch a fresh task\.
   20  + The VPC your task uses must have DNS resolution enabled\.

   90  
   91: **Example referencing a full secret**  
   92  The following is a snippet of a task definition that shows the format when referencing the full text of a Secrets Manager secret\.  

  104  
  105: **Example referencing a specific key within a secret**  
  106  The following shows an example output from a [get\-secret\-value](https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/get-secret-value.html) command that displays the contents of a secret along with the version staging label and version ID that's associated with it\.  

  132  
  133: **Example referencing a specific secret version**  
  134  The following shows an example output from a [describe\-secret](https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/describe-secret.html) command that displays the unencrypted contents of a secret along with the metadata for all versions of the secret\.  

  179  
  180: **Example referencing a specific key and version staging label of a secret**  
  181  The following shows how to reference both a specific key within a secret and a specific version staging label\.  

  232  
  233: **To create a basic secret**
  234  

  238  
  239: 1. Choose **Store a new secret**\.
  240  
  241: 1. For **Select secret type**, choose **Other type of secrets**\.
  242  
  243: 1. Specify the details of your custom secret as **Key** and **Value** pairs\. For example, you can specify a key of `UserName`, and then supply the appropriate user name as its value\. Add a second key with the name of `Password` and the password text as its value\. You could also add entries for a database name, server address, and TCP port, and so on\. You can add as many pairs as you need to store the information that you require\.
  244  
  245:    Alternatively, you can choose the **Plaintext** tab and enter the secret value in any way you like\.
  246  
  247: 1. Choose the AWS KMS encryption key that you want to use to encrypt the protected text in the secret\. If you don't choose one, Secrets Manager checks to see if there's a default key for the account, and uses it if it exists\. If a default key doesn't exist, Secrets Manager creates one for you automatically\. You can also choose **Add new key** to create a custom KMS key specifically for this secret\. To create your own KMS key, you must have permissions to create KMS keys in your account\.
  248  
  249: 1. Choose **Next**\.
  250  
  251: 1. For **Secret name**, type an optional path and name, such as **production/MyAwesomeAppSecret** or **development/TestSecret**, and choose **Next**\. You can optionally add a description to help you remember the purpose of this secret later\.
  252  

  254  
  255: 1. \(Optional\) At this point, you can configure rotation for your secret\. For this procedure, leave it at **Disable automatic rotation** and choose **Next**\.
  256  

  258  
  259: 1. Review your settings, and then choose **Store secret** to save everything that you entered as a new secret in Secrets Manager\.
  260  

  264  
  265: **To create a task definition that specifies a secret**
  266  

  268  
  269: 1. In the navigation pane, choose **task definitions**, **Create new task definition**\.
  270  
  271: 1. On the **Select launch type compatibility** page, choose the launch type for your tasks and choose **Next step**\.
  272: **Note**  
  273  This step only applies to Regions that support Amazon ECS using AWS Fargate\. For more information, see [Amazon ECS on AWS Fargate](AWS_Fargate.md)\.
  274  
  275: 1. For **task definition Name**, type a name for your task definition\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  276  
  277: 1. For **Task execution role**, either select your existing task execution role or choose **Create new role** to have one created for you\. This role authorizes Amazon ECS to pull private images for your task\. For more information, see [Required IAM permissions for private registry authentication](private-auth.md#private-auth-iam)\.
  278: **Important**  
  279: If the **Task execution role** field doesn't appear, choose **Configure via JSON** and manually add the `executionRoleArn` field to specify your task execution role\. The following code shows the syntax:  
  280  

  286  
  287:    1. Under **Container Definitions**, choose **Add container**\.
  288  
  289:    1. For **Container name**, type a name for your container\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  290  
  291:    1. For **Image**, type the image name or path to your private image\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
  292  
  293:    1. Expand **Advanced container configuration**\.
  294  
  295:    1. For sensitive data to inject as environment variables, under **Environment**, for **Environment variables**, complete the following fields:
  296  
  297:       1. For **Key**, enter the name of the environment variable to set in the container\. This corresponds to the `name` field in the `secrets` section of a container definition\.
  298  
  299:       1. For **Value**, choose **ValueFrom**\. For **Add value**, enter the ARN of the Secrets Manager secret that contains the data to present to your container as an environment variable\.
  300  
  301:    1. For sensitive data that's referenced in the log configuration for a container, under **Storage and Logging**, for **Log configuration**, complete the following fields:
  302  
  303:       1. Clear the **Auto\-configure CloudWatch Logs** option\.
  304  
  305:       1. Under **Log options**, for **Key**, enter the name of the log configuration option to set\.
  306  
  307:       1. For **Value**, choose **ValueFrom**\. For **Add value**, enter the full ARN of the Secrets Manager secret that contains the data to present to your log configuration as a log option\.
  308  
  309:    1. Fill out the remaining required fields and any optional fields to use in your container definitions\. More container definition parameters are available in the **Advanced container configuration** menu\. For more information, see [Task definition parameters](task_definition_parameters.md)\.
  310  
  311:    1. Choose **Add**\.
  312  
  313: 1. When your containers are added, choose **Create**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/specifying-sensitive-data-tutorial.md:
   16  
   17: The ** key/value pairs to be stored in this secret** is the environment variable value in your container at the end of the tutorial\.
   18  
   19: Save the **Secret ARN** to reference in your task execution IAM policy and task definition in later steps\.
   20  

   26  
   27: **To update your task execution IAM role**
   28  

   32  
   33: 1. In the navigation pane, choose **Roles**\. 
   34  

   36  
   37: 1. Choose **Permissions**, **Add inline policy**\.
   38  
   39: 1. Choose the **JSON** tab and specify the following JSON text, ensuring that you specify the full ARN of the Secrets Manager secret you created in step 1\.
   40  

   57  
   58: 1. Choose **Review policy**\. For **Name** specify `ECSSecretsTutorial`, then choose **Create policy**\.
   59  

   63  
   64: **To create a task definition that specifies a secret**
   65  

   69  
   70: 1. In the navigation pane, choose **Task definitions**\.
   71  
   72: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
   73  

   75  
   76: 1. On the **Select launch type compatibility** page, choose **EC2** and choose **Next step**\.
   77  
   78: 1. Choose **Configure via JSON** and enter the following task definition JSON text, ensuring that you specify the full ARN of the Secrets Manager secret you created in step 1 and the task execution IAM role you updated in step 2\. Choose **Save**\.
   79  

  115  
  116: 1. Review the settings and then choose **Create**\.
  117  

  135  
  136: **To verify that the environment variable was created**
  137  

  141  
  142:    1. In the navigation pane, choose **Clusters**, and then chosse the cluster you created\.
  143  
  144:    1. Choose **Infrastructure**, and then choose the container instance\.
  145  
  146:    1. Record the **Public IP** or **Public DNS** for your instance\.
  147  

  154     For more information about using a Windows computer, see [Connecting to Your Linux Instance from Windows Using PuTTY](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html) in the *Amazon EC2 User Guide for Linux Instances*\.
  155: **Important**  
  156  For more information about any issues while connecting to your instance, see [Troubleshooting Connecting to Your Instance](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html) in the *Amazon EC2 User Guide for Linux Instances*\.

  180     ```
  181: **Note**  
  182  Alternatively, you can list all environment variables in your container using the `env` \(or `printenv`\) command\.

  187  
  188: **To clean up the resources**
  189  

  191  
  192: 1. In the navigation pane, choose **Clusters**\.
  193  
  194: 1. On the **Clusters** page, select the cluster to delete\.
  195  
  196: 1. In the upper\-right of the page, choose **Delete Cluster**\. 
  197  

  199  
  200: 1. In the confirmation box, enter **delete *cluster name***\.
  201  

  203  
  204: 1. In the navigation pane, choose **Roles**\. 
  205  

  207  
  208: 1. Choose **Permissions**, then choose the **X** next to **ECSSecretsTutorial**\. Choose **Remove**\.
  209  

  211  
  212: 1. Select the **username\_value** secret you created and choose **Actions**, **Delete secret**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/specifying-sensitive-data.md:
  4  
  5: **Topics**
  6  + [Retrieve secrets programmatically through your application](secrets-app.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/start_task_at_launch.md:
    8  
    9: **To start a task at container instance launch time**
   10  

   16  
   17:    1. In the navigation pane, choose **Roles**\. 
   18  

   20  
   21:    1. In the **Permissions** tab, choose **Add inline policy**\.
   22  
   23:    1. For **Service**, choose **Choose a service**, **Elastic Container Service**\.
   24  
   25:    1. For **Actions**, type **StartTask** in the search field, and then select **StartTask**\.
   26  
   27:    1. For **Resources**, select **All resources**, and then choose **Review policy**\.
   28  
   29:    1. On the **Review policy** page, enter a name for your policy, such as `ecs-start-task` and choose **Create policy**\.
   30  
   31: 1. Launch one or more container instances using the Amazon ECS\-optimized Amazon Linux 2 AMI by following the procedure in [Launching an Amazon ECS Linux container instance](launch_container_instance.md), but in [Step 7](launch_container_instance.md#instance-launch-user-data-step) copy and paste the MIME multi\-part user data script below into the **User data** field\. Substitute *your\_cluster\_name* with the cluster for the container instance to register into and *my\_task\_def* with the task definition to run on the instance at launch\.
   32: **Note**  
   33  The MIME multi\-part content below uses a shell script to set configuration values and install packages\. It also uses a systemd job to start the task after the ecs service is running and the introspection API is available\.

  104  
  105:    1. In the navigation pane, choose **Clusters** and select the cluster that hosts your container instances\.
  106  
  107:    1. On the **Cluster** page, choose **Tasks**, and then choose yor tasks\.
  108  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/stop-task-console-v2.md:
   4  
   5: **To stop tasks using the new console**
   6  

   8  
   9: 1. In the navigation pane, choose **Clusters**\.
  10  
  11: 1. On the **Clusters** page, choose the cluster\.
  12  
  13: 1. On the **Cluster : *name*** page, choose the **Tasks** tab\. 
  14  
  15  1. Perform one of the following operations:
  16:    + To stop one or more tasks, select the tasks, and then choose **Stop**, **Stop selected**\.
  17:    + To stop all tasks, choose **Stop**, **Stop all**\.
  18  
  19: 1. On the **Stop confirmation page**, enter **Stop**, and then choose **Stop**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/stopped-task-errors-classic-console.md:
   7  
   8: If you have trouble starting a task, your task might be stopping because of an error\. For example, you run the task and the task displays a `PENDING` status and then disappears\. You can view stopped task errors like this in the Amazon ECS console by viewing the stopped task and inspecting it for error messages\. If your task definition uses the `awslogs` log driver, the application logs that are written to Amazon CloudWatch Logs are displayed on the **Logs** tab in the Amazon ECS console as long as the stopped task appears\.
   9  
  10: **Important**  
  11  Stopped tasks only appear in the Amazon ECS console, AWS CLI, and AWS SDKs for at least 1 hour after the task stops\. After that, the details of the stopped task expire and aren't available in Amazon ECS\.  

  16  
  17: 1. On the **Clusters** page, select the cluster where your stopped task resides\.
  18  
  19: 1. On the **Cluster : *clustername*** page, choose **Tasks**\.
  20  
  21: 1. In the **Desired task status** table header, choose **Stopped**, and then select the stopped task to inspect\. The most recent stopped tasks are listed first\.
  22  
  23: 1. In the **Details** section, inspect the **Stopped reason** field to see the reason that the task was stopped\.
  24  

  36  
  37: 1. <a name="status-reason-step"></a>If you have a container that has stopped, expand the container and inspect the **Status reason** row to see what caused the task state to change\.
  38  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/stopped-task-errors.md:
   4  
   5: If your task definition uses the `awslogs` log driver, the application logs that are written to Amazon CloudWatch Logs are displayed on the **Logs** tab in the Amazon ECS console as long as the stopped task appears\.
   6  

  10  
  11: **Important**  
  12  Stopped tasks only appear in the Amazon ECS console, AWS CLI, and AWS SDKs for at least 1 hour after the task stops\. After that, the details of the stopped task expire and aren't available in Amazon ECS\.  

  20  
  21: **AWS Management Console**
  22  

  26  
  27: 1. In the navigation pane, choose **Clusters**\.
  28  
  29: 1. On the **Clusters** page, choose the cluster\.
  30  
  31: 1. On the **Cluster : *name*** page, choose the **Tasks** tab\. 
  32  

  34  
  35: 1. In the **Status** section, inspect the **Stopped reason** field to see the reason that the task was stopped\.
  36  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task_cannot_pull_image.md:
  11  To resolve this issue, you can:  
  12: + For tasks in public subnets, specify **ENABLED** for **Auto\-assign public IP** when launching the task\. For more information, see [Run a standalone task in the classic Amazon ECS console](ecs_run_task.md)\.
  13: + For tasks in private subnets, specify **DISABLED** for **Auto\-assign public IP** when launching the task, and configure a NAT gateway in your VPC to route requests to the internet\. For more information, see [NAT Gateways](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html) in the *Amazon VPC User Guide*\. 
  14  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task_definition_parameters.md:
    86  
    87: **Note**  
    88  Task\-level CPU and memory parameters are ignored for Windows containers\. We recommend specifying container\-level resources for Windows containers\.

   113  
   114: **Topics**
   115  + [Standard container definition parameters](#standard_container_definition_params)

   122  
   123: **Topics**
   124  + [Name](#container_definition_name)

   181  After a task reaches the `RUNNING` status, manual and automatic host and container port assignments are visible in the following locations:  
   182: + Console: The **Network Bindings** section of a container description for a selected task\.
   183  + AWS CLI: The `networkBindings` section of the describe\-tasks command output\.

   283  
   284: **Topics**
   285  + [Health check](#container_definition_healthcheck)

   342  On Linux container instances, the Docker daemon on the container instance uses the CPU value to calculate the relative CPU share ratios for running containers\. For more information, see [CPU share constraint](https://docs.docker.com/engine/reference/run/#cpu-share-constraint) in the Docker documentation\. The minimum valid CPU share value that the Linux kernel allows is 2\. However, the CPU parameter isn't required, and you can use CPU values below two in your container definitions\. For CPU values below two \(including null\), the behavior varies based on your Amazon ECS container agent version:  
   343: + **Agent versions <= 1\.1\.0:** Null and zero CPU values are passed to Docker as 0, which Docker then converts to 1,024 CPU shares\. CPU values of one are passed to Docker as one, which the Linux kernel converts to two CPU shares\.
   344: + **Agent versions >= 1\.2\.0:** Null, zero, and CPU values of one are passed to Docker as two CPU shares\.
   345  On Windows container instances, the CPU limit is enforced as an absolute quota\. Windows containers only have access to the specified amount of CPU that's defined in the task definition\. A null or zero CPU value is passed to Docker as `0`, which Windows interprets as 1% of one CPU\.  

   780  
   781: The following container definition parameters can be used when registering task definitions in the Amazon ECS console by using the **Configure via JSON** option\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
   782  
   783: **Topics**
   784  + [Linux parameters](#container_definition_linuxparameters)

   971  
   972: **Note**  
   973  Starting April 15, 2023, AWS will not onboard new customers to Amazon Elastic Inference \(EI\), and will help current customers migrate their workloads to options that offer better price and performance\. After April 15, 2023, new customers will not be able to launch instances with Amazon EI accelerators in Amazon SageMaker, Amazon ECS, or Amazon EC2\. However, customers who have used Amazon EI at least once during the past 30\-day period are considered current customers and will be able to continue using the service\. 

  1167  
  1168: **options:**
  1169  + Amazon Resource Name \(ARN\) of an [AWS Secrets Manager](https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html) secret\.

  1179  
  1180: **Important**  
  1181  Don't add personally identifiable information or other confidential or sensitive information in tags\. Tags are accessible to many AWS services, including billing\. Tags aren't intended to be used for private or sensitive data\.

  1196  
  1197: The following task definition parameters can be used when registering task definitions in the Amazon ECS console by using the **Configure via JSON** option\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
  1198  
  1199: **Topics**
  1200  + [Ephemeral storage](#task_definition_ephemeralStorage)

  1222  
  1223: **Note**  
  1224  This parameter is not supported for Windows containers or tasks using the Fargate launch type\.

  1233  
  1234: **Note**  
  1235  This parameter is not supported for Windows containers or tasks using the Fargate launch type\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task_definitions.md:
  21  
  22: **Topics**
  23  + [Task definition states](task-definition-state.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task_execution_IAM_role.md:
   12  
   13: **Note**  
   14  The task execution role is supported by Amazon ECS container agent version 1\.16\.0 and later\.

   43  
   44: 1. In the navigation pane, choose **Roles**\. 
   45  

   47  
   48: 1. On the **Permissions** tab, verify that the **AmazonECSTaskExecutionRolePolicy** is attached to the role\.
   49  
   50:    1. Choose **Add Permissions**, **Attach policies**\.
   51  
   52:    1. To narrow the available policies to attach, for **Filter**, enter **AmazonECSTaskExecutionRolePolicy**\.
   53  
   54:    1. Check the box to the left of the **AmazonECSTaskExecutionRolePolicy** policy, and then choose **Attach policy**\.
   55  
   56: 1. Choose **Trust relationships**\.
   57  
   58: 1. Verify that the trust relationship contains the following policy\. If the trust relationship matches the policy below, choose **Cancel**\. If the trust relationship does not match, choose **Edit trust policy**, copy the policy into the **Policy Document** window and choose **Update policy**\.
   59  

   79  
   80: **To create a task execution IAM role \(AWS Management Console\)**
   81  

   83  
   84: 1. In the navigation pane, choose **Roles**, **Create role**\. 
   85  
   86: 1. In the **Trusted entity type** section, choose **AWS service**, **Elastic Container Service**\.
   87  
   88: 1. For **Use case**, choose **Elastic Container Service Task**, and then choose **Next**\.
   89  
   90: 1. In the **Attach permissions policy** section, do the following:
   91  
   92:    1. Search for **AmazonECSTaskExecutionRolePolicy**, then select the policy\.
   93  
   94:    1. Under **Set permissions boundary \- optional**, choose **Create role without a permissions boundary**\.
   95  
   96:    1. Choose **Next**\.
   97  
   98: 1. Under **Role details**, do the following: 
   99  
  100:    1. For **Role name**, type `ecsTaskExecutionRole`\.
  101  
  102:    1. For **Add tags \(optional\)**, specify any custom tags to associate with the policy \.
  103  
  104: 1. Choose **Create role**\.
  105  
  106: **To create a task execution IAM role \(AWS CLI\)**
  107  

  211  
  212: **Important**  
  213  The `ecr:GetAuthorizationToken` API action cannot have the `aws:sourceVpc` or `aws:sourceVpce` condition keys applied to it because the GetAuthorizationToken API call goes through the elastic network interface owned by AWS Fargate rather than the elastic network interface of the task\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-cpu-memory-error.md:
   8  
   9: **Note**  
  10  When using Terraform, the following error may be returned\.  

  36  
  37: **Note**  
  38  Task\-level CPU and memory parameters are ignored for Windows containers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-iam-roles.md:
    7  The following explain the benefits of using IAM roles with your tasks\.
    8: + **Credential Isolation:** A container can only retrieve credentials for the IAM role that is defined in the task definition to which it belongs; a container never has access to credentials that are intended for another container that belongs to another task\.
    9: + **Authorization:** Unauthorized containers cannot access IAM role credentials defined for other tasks\.
   10: + **Auditability:** Access and event logging is available through CloudTrail to ensure retrospective auditing\. Task credentials have a context of `taskArn` that is attached to the session, so CloudTrail logs show which task is using which role\.
   11  
   12: **Note**  
   13  When you specify an IAM role for a task, the AWS CLI or other SDKs in the containers for that task use the AWS credentials provided by the task role exclusively and they no longer inherit any IAM permissions from the Amazon EC2 or external instance they are running on\.

   38  
   39: **Important**  
   40  When creating your task IAM role, it is recommended that you use the `aws:SourceAccount` or `aws:SourceArn` condition keys in either the trust relationship or the IAM policy associated with the role to prevent the confused deputy security issue\. Using the `aws:SourceArn` condition key to specify a specific cluster is not currently supported, you should use the wildcard to specify all clusters\. To learn more about the confused deputy problem and how to protect your AWS account, see [The confused deputy problem](https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html) in the *IAM User Guide*\.

   85  
   86: **Important**  
   87  For Amazon ECS tasks \(for all launch types\), we recommend that you use the IAM policy and role for your tasks\. These credentials allow your task to make AWS API requests without calling `sts:AssumeRole` to assume the same role that is already associated with the task\. If your task requires that a role assumes itself, you must create a trust policy that explicitly allows that role to assume itself\. For more information, see[ Modifying a role trust policy](https://docs.aws.amazon.com/IAM/latest/UserGuide/roles-managingrole-editing-console.html#roles-managingrole_edit-trust-policy) in the *IAM User Guide*\.
   88  
   89: After the IAM policy is created, you can create an IAM role which includes that policy which you reference in your Amazon ECS task definition\. You can create the role using the **Elastic Container Service Task** use case in the IAM console\. Then you can attach your specific IAM policy to the role that gives the containers in your task the permissions you desire\. The procedures below describe how to do this\.
   90  

  123  
  124: **Important**  
  125  When creating your task IAM role, it is recommended that you use the `aws:SourceAccount` or `aws:SourceArn` condition keys in either the trust relationship or the IAM policy associated with the role to prevent the confused deputy security issue\. Using the `aws:SourceArn` condition key to specify a specific cluster is not currently supported, you should use the wildcard to specify all clusters\. To learn more about the confused deputy problem and how to protect your AWS account, see [The confused deputy problem](https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html) in the *IAM User Guide*\.
  126  
  127: **To create an IAM policy for your tasks \(AWS Management Console\)**
  128  

  132  
  133: 1. In the navigation pane, choose **Policies** and then choose **Create Policy**\. 
  134  

  139  
  140: 1. For **Service**, choose **S3**\.
  141  
  142: 1. For **Actions**, expand the **Read** option and select **GetObject**\.
  143  
  144: 1. For **Resources**, select **Add ARN** and enter the full Amazon Resource Name \(ARN\) of your Amazon S3 bucket\.
  145  
  146: 1. \(Optional\) For **Request conditions**, select **Add condition**\. This is recommended to prevent the confused deputy security issue\. To learn more about the confused deputy problem and how to protect your AWS account, see [The confused deputy problem](https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html) in the *IAM User Guide*\.
  147  
  148:    1. For **Condition key**, select either **aws:SourceAccount** or **aws:SourceArn**\. For more information about these global condition keys, see [AWS global condition context keys](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html) in the *IAM User Guide*\.
  149  
  150:    1. For **Operator**, select **StringEquals** if you specified the **aws:SourceAccount** condition key or **ArnLike** if you specified the **aws:SourceArn** condition key\.
  151  
  152:    1. For **Value**, specify your AWS account ID if you specified the **aws:SourceAccount** condition key or the Amazon Resource Name \(ARN\) of your Amazon ECS task if you specified the **aws:SourceArn** condition key\. You may use wildcards, for example `aws:ecs:*:accountId:*` which will work for all tasks in your account\.
  153  
  154:    1. Choose **Add** to save the condition key\. Repeat these steps for each condition key you want to add to the policy\.
  155  
  156: 1. Choose **Next: Tags** and add any resource tags to the policy to help you organize them and then choose **Next: Review**\.
  157  
  158: 1. On the **Review policy** page, for **Name** type your own unique name, such as `AmazonECSTaskS3BucketPolicy`\. You may specify an optional description for the policy as well\.
  159  
  160: 1. When the policy is complete, choose **Create policy** to finish\.
  161  

  193  
  194: 1. Choose **Next: Tags** and add any resource tags to the policy to help you organize them and then choose **Next: Review**\.
  195  
  196: 1. On the **Review policy** page, for **Name** type your own unique name, such as `AmazonECSTaskS3BucketPolicy`\. You may specify an optional description for the policy as well\.
  197  
  198: 1. When the policy is complete, choose **Create policy** to finish\.
  199  

  201  
  202: **To create an IAM role for your tasks \(AWS Management Console\)**
  203  

  205  
  206: 1. In the navigation pane, choose **Roles**, **Create role**\. 
  207  
  208: 1. For **Select trusted entity** section, choose **AWS service**\.
  209  
  210: 1. For **Use case**, using the drop down menu, select **Elastic Container Service** and then the **Elastic Container Service Task** use case and then choose **Next**\.
  211  
  212: 1. For **Add permissions**, search for and select the policy to use for your tasks \(in this example `AmazonECSTaskS3BucketPolicy`, and then choose **Next**\.
  213  
  214: 1. On **Step 3: Name, review, and create**, do the following:
  215  
  216:    1. For **Role name**, enter a name for your role\. For this example, type `AmazonECSTaskS3BucketRole` to name the role\.
  217  
  218:    1. \(Optional\) For **Description**\. specify a description for this IAM role\.
  219  

  221  
  222:    1. For **Add tags \(Optional\)**, enter any metadata tags you want to associate with the IAM role, and then choose **Create role**\.
  223  

  226  After you have created a role and attached a policy to that role, you can run tasks that assume the role\. You have several options to do this:
  227: + Specify an IAM role for your tasks in the task definition\. You can create a new task definition or a new revision of an existing task definition and specify the role you created previously\. If you use the classic console to create your task definition, choose your IAM role in the **Task Role** field\. If you use the AWS CLI or SDKs, specify the Amazon Resource Name \(ARN\) of your task role using the `taskRoleArn` parameter\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
  228: **Note**  
  229  This option is required if you want to use IAM task roles in an Amazon ECS service\.
  230: + Specify an IAM task role override when running a task\. You can specify an IAM task role override when running a task\. If you use the classic console to run your task, choose **Advanced Options** and then choose your IAM role in the **Task Role** field\. If you use the AWS CLI or SDKs, specify your task role ARN using the `taskRoleArn` parameter in the `overrides` JSON object\. For more information, see [Run a standalone task in the classic Amazon ECS console](ecs_run_task.md)\. 
  231  
  232: **Note**  
  233  In addition to the standard Amazon ECS permissions required to run tasks and services, users also require `iam:PassRole` permissions to use IAM roles for tasks\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-maintenance.md:
   6  
   7: **service task**  
   8  Service tasks are tasks deployed as part of an Amazon ECS service and are overseen by the service scheduler\.
   9  
  10: **standalone task**  
  11  Standalone tasks are tasks started by the `RunTask` action of the ECS API, either directly or by an external scheduler such as scheduled tasks \(which are started by Amazon EventBridge\), AWS Batch, or AWS Step Functions\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-metadata-endpoint-v2.md:
  2  
  3: **Important**  
  4  The task metadata version 2 endpoint is no longer being actively maintained\. We recommend that you update the task metadata version 4 endpoint to get the latest metadata endpoint information\. For more information, see [Task metadata endpoint version 4](task-metadata-endpoint-v4.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-metadata-endpoint-v3.md:
   2  
   3: **Important**  
   4  The task metadata version 3 endpoint is no longer being actively maintained\. We recommend that you update the task metadata version 4 endpoint to get the latest metadata endpoint information\. For more information, see [Task metadata endpoint version 4](task-metadata-endpoint-v4.md)\.  

  14  
  15: **Important**  
  16  For tasks using the Fargate launch type and platform versions prior to v1\.3\.0, the task metadata version 2 endpoint is supported\. For more information, see [Task Metadata Endpoint version 2](task-metadata-endpoint-v2.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-metadata-endpoint-v4.md:
   2  
   3: **Important**  
   4  If you are using Amazon ECS tasks hosted on AWS Fargate, see [Task metadata endpoint version 4](https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html) in the *Amazon Elastic Container Service User Guide for AWS Fargate*\.

   9  
  10: **Note**  
  11  Amazon ECS provides earlier versions of the task metadata endpoint\. To avoid the need to create new task metadata endpoint versions in the future, additional metadata may be added to the version 4 output\. We will not remove any existing metadata or change the metadata field names\.

  16  
  17: **Note**  
  18  You can add support for this feature on Amazon EC2 instances using older versions of the Amazon ECS container agent by updating the agent to the latest version\. For more information, see [Updating the Amazon ECS container agent](ecs-agent-update.md)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-metadata-endpoint.md:
  2  
  3: **Important**  
  4    

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-networking.md:
   2  
   3: **Important**  
   4  If you're using Amazon ECS tasks hosted on AWS Fargate, see [Fargate task networking](https://docs.aws.amazon.com/AmazonECS/latest/userguide/fargate-task-networking.html) in the *Amazon Elastic Container Service User Guide for AWS Fargate* for networking information that's relevant to your instances\.

  22  
  23: **Topics**
  24  + [Task networking with the `awsvpc` network mode](task-networking-awsvpc.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-placement-constraints.md:
   83  
   84: **To add custom attributes using the classic console**
   85  

   87  
   88: 1. In the navigation pane, choose **Clusters** and select a cluster\.
   89  
   90: 1. On the **ECS Instances** tab, select the check box for the container instance\.
   91  
   92: 1. Choose **Actions**, **View/Edit Attributes**\.
   93  

   95  
   96:    1. Choose **Add attribute**\.
   97  

   99  
  100: 1. When you're finished adding attributes, choose **Close**\.
  101  
  102: **Adding custom attributes using the AWS CLI**  
  103  The following examples demonstrate how to add custom attributes using the [put\-attributes](https://docs.aws.amazon.com/cli/latest/reference/ecs/put-attributes.html) command\.
  104  
  105: **Example: Single Attribute**  
  106  The following example adds the custom attribute "stack=prod" to the specified container instance in the default cluster\.

  111  
  112: **Example: Multiple Attributes**  
  113  The following example adds the custom attributes "stack=prod" and "project=a" to the specified container instance in the default cluster\.

  122  
  123: **Filter container instances by attribute using the classic console**
  124  

  128  
  129: 1. Choose **ECS Instances**\.
  130  

  132  
  133: 1. Using the **Filter by attributes** text field, enter or select the attributes you want to filter by\. The format must be *AttributeName:AttributeValue*\.
  134  
  135:    For **Filter by attributes**, enter or select the attributes to filter by\. After you select the attribute name, you're prompted for the attribute value\.
  136  
  137: 1. Add additional attributes to the filter as needed\. Remove an attribute by choosing the **X** next to it\.
  138  
  139: **Filter container instances by attribute using the AWS CLI**  
  140  The following examples demonstrate how to filter container instances by attribute using the [list\-constainer\-instances](https://docs.aws.amazon.com/cli/latest/reference/ecs/list-container-instances.html) command\. For more information about the filter syntax, see [Cluster query language](cluster-query-language.md)\.
  141  
  142: **Example: Built\-in attribute**  
  143  The following example uses built\-in attributes to list the g2\.2xlarge instances\.

  148  
  149: **Example: Custom attribute**  
  150  The following example lists the instances with the custom attribute "stack=prod"\.

  155  
  156: **Example: Exclude an attribute value**  
  157  The following example lists the instances with the custom attribute "stack" unless the attribute value is "prod"\.

  162  
  163: **Example: Multiple attribute values**  
  164  The following example uses built\-in attributes to list the instances of type `t2.small` or `t2.medium`\.

  169  
  170: **Example: Multiple attributes**  
  171  The following example uses built\-in attributes to list the T2 instances in the us\-east\-1a Availability Zone\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-placement.md:
   8  
   9: **Note**  
  10  Task placement strategies are a best effort\. Amazon ECS still attempts to place tasks even when the most optimal placement option is unavailable\. However, task placement constraints are binding, and they can prevent task placement\. 

  23  
  24: **Topics**
  25  + [Task groups](task-groups.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-scale-in-protection-endpoint.md:
  2  
  3: **Important**  
  4    

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/task-scale-in-protection.md:
  20  You can set task scale\-in protection in the following ways:
  21: + **Amazon ECS container agent endpoint**
  22  

  27    For more information on using the Amazon ECS container agent endpoint, see [Task scale\-in protection endpoint](task-scale-in-protection-endpoint.md)\.
  28: + **Amazon ECS API**
  29  

  40  To get the protection status of tasks in an Amazon ECS service, you can do one of the following:
  41: + **Amazon ECS container agent endpoint**
  42  
  43    Configure the container definition to use the Amazon task scale\-in protection endpoint path\. For more information, see [Task scale\-in protection endpoint](task-scale-in-protection-endpoint.md)\.
  44: + **Amazon ECS API**
  45  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/taskdef-envfiles.md:
  2  
  3: **Important**  
  4  We recommend storing your sensitive data in either AWS Secrets Manager secrets or AWS Systems Manager Parameter Store parameters\. For more information, see [Passing sensitive data to a container](specifying-sensitive-data.md)\.  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/trace-data.md:
  10  
  11: **Important**  
  12  If you're also collecting application metrics using the AWS Distro for OpenTelemetry integration, ensure your task IAM role also contains the permissions necessary for that integration\. For more information, see [Collecting application metrics](metrics-data.md)\.
  13  
  14: **To create a task IAM role for AWS Distro for OpenTelemetry integration**
  15  

  17  
  18: 1. In the navigation pane, choose **Policies**, **Create policy**\.
  19  
  20: 1. On the **Create policy** page, switch to the **JSON** tab, copy and paste the following IAM policy JSON into the field, then choose **Next: Tags**\.
  21  

  40  
  41: 1. \(Optional\) Add one or more tags to the policy, then choose **Next: Review**\.
  42  
  43: 1. For **Name**, specify `AWSDistroOpenTelemetryPolicyForXray`\.
  44  
  45: 1. For **Description**, specify an optional description, then choose **Create policy**\.
  46  
  47: 1. In the navigation pane, choose **Roles**, **Create role**\.
  48  
  49: 1. In the **Select type of trusted entity** section, choose **AWS service**, **Elastic Container Service**\.
  50  
  51: 1. For **Select your use case**, choose **Elastic Container Service Task**, then choose **Next: Permissions**\.
  52  
  53: 1. In the **Attach permissions policy** section, search for **AWSDistroOpenTelemetryPolicyForXray**, select the policy, and then choose **Next: Tags**\.
  54  
  55: 1. For **Add tags \(optional\)**, specify any custom tags to associate with the policy and then choose **Next: Review**\.
  56  
  57: 1. For **Role name**, specify `AmazonECS_OpenTelemetryXrayRole` and choose **Create role**\.
  58  

  60  
  61: The new Amazon ECS console experience simplifies the experience of creating the AWS Distro for OpenTelemetry sidecar container by using the **Use trace collection** option\. For more information, see [Creating a task definition using the console](create-task-definition.md)\.
  62  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/troubleshoot-service-load-balancers.md:
  16  Ping Port  
  17: The **Ping Port** value for a load balancer health check is the port on the container instances that the load balancer checks to determine if it is healthy\. If this port is misconfigured, the load balancer likely deregisters your container instance from itself\. This port should be configured to use the `hostPort` value for the container in your service's task definition that you're using with the health check\.  
  18  Ping Path  

  22  Health Check Interval  
  23: This is the amount of time between health check pings\. The shorter your health check intervals are, the faster your container instance can reach the **Unhealthy Threshold**\.  
  24  Unhealthy Threshold  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/troubleshoot-task-iam-roles.md:
   11  
   12: **To test IAM roles for tasks with a known good configuration**
   13  

   17  
   18:    1. In the left navigation pane, choose **Logs**, **Actions**, **Create log group**\.
   19  
   20:    1. For **Log Group Name**, enter `ecs-tasks` and choose **Create log group**\.
   21  

   25  
   26:    1. In the navigation pane, choose **Roles**, **Create role**\. 
   27  
   28:    1. For **Select type of trusted entity**, choose **Elastic Container Service**\.
   29  
   30:    1. For **Select your use case**, choose **Elastic Container Service Task**, **Next: Permissions**\.
   31  
   32:    1. On the **Attached permissions policy** page, choose **AmazonECS\_FullAccess**, **Next: Review**\.
   33  
   34:    1. On the **Review** page, for **Role name**, enter `ECS-task-full-access` and choose **Create role**\.
   35  

   39  
   40:    1. In the navigation pane, choose **Task definitions**\.
   41  
   42:    1. Choose **Create new task definition**, **Create new task definition with JSON**\.
   43  

   45  
   46:       Paste the sample task definition JSON below into the text area \(replacing the pre\-populated JSON there\) and choose **Save**\.
   47: **Note**  
   48  Replace the `cluster-name` value with the name of your cluster\. Replace the `region` value withh the Region where you created your cluster\.  

   88  
   89:    1. Verify your information and choose **Create**\.
   90  

   92  
   93:    1. On the **Task Definition: iam\-role\-test** registration confirmation page, choose **Deploy**, **Run task**\.
   94  
   95:    1. On the **Run Task** page, choose the cluster, and then choose **Deploy** to run your task\.
   96  

  100  
  101:    1. In the left navigation pane, choose **Logs**\.
  102  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/troubleshooting.md:
  4  
  5: **Topics**
  6  + [Using Amazon ECS Exec for debugging](ecs-exec.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/tutorial-cluster-auto-scaling-console.md:
    4  
    5: **Topics**
    6  + [Prerequisites](#console-tutorial-prereqs)

   32  
   33: 1. In the navigation pane, choose **Clusters**\.
   34  
   35: 1. On the **Clusters** page, choose **Create cluster**\.
   36  
   37: 1. Under **Cluster configuration**, for **Cluster name**, enter `ConsoleTutorial-cluster`\.
   38  
   39: 1. Add Amazon EC2 instances to your cluster, expand **Infrastructure**, and then select **Amazon EC2 instances**\. Next, configure the Auto Scaling group which acts as the capacity provider\.
   40  
   41:    1. Create a Auto Scaling group, from Auto Scaling group \(ASG\)\. Celect **Create new group**, and then provide the following details about the group:
   42:      + For **Operating system/Architecture**, choose **Amazon Linux 2**\.
   43:      + For **EC2 instance type**, choose **t3\.nano**\.
   44:      + For **Capacity**, enter **0** for the minimum number and the maximum number of instances to launch in the Auto Scaling group\. 
   45  
   46: 1. \(Optional\) To manage the cluster tags, expand **Tags**, and then perform one of the following operations:
   47  
   48:    \[Add a tag\] Choose **Add tag** and do the following:
   49:    + For **Key**, enter the key name\.
   50:    + For **Value**, enter the key value\.
   51  
   52:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
   53  
   54: 1. Choose **Create**\.
   55  

   61  
   62: 1. In the navigation pane, choose **Task definitions**\.
   63  
   64: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
   65  
   66: 1. In the **JSON editor** box, copy and paste the following contents\.
   67  

   89  
   90: 1. Choose **Create**\.
   91  

   97  
   98: 1. On the **Clusters** page, choose **ConsoleTutorial\-cluster**\.
   99  
  100: 1. From the **Tasks** tab, choose **Create**\.
  101  
  102: 1. For **Launch type**, choose **EC2**\.
  103  
  104: 1. For **Application type**, choose **Task**\.
  105  
  106: 1. For **Task definition**, choose **ConsoleTutorial\-taskdef**\.
  107  
  108: 1. Choose **Create**\.
  109  

  115  
  116: **To view the CloudWatch metrics for your cluster**
  117  

  121  
  122: 1. On the navigation pane, choose **Metrics**\.
  123  
  124: 1. On the **All metrics** tab, choose `AWS/ECS/ManagedScaling`\.
  125  
  126: 1. Choose **CapacityProviderName, ClusterName**\.
  127  
  128: 1. Choose the metric that corresponds to the **ConsoleTutorial\-capacityprovider** capacity provider\.
  129  
  130: 1. On the **Graphed metrics** tab, change **Period** to **30 seconds** and **Statistic** to **Maximum**\.
  131  

  133  
  134: 1. Steps 5 to 6 can be repeated for your **ConsoleTutorial\-capacityprovider\-burst** metric\.
  135  

  137  
  138: **To verify the Auto Scaling group scaled out**
  139  

  143  
  144: 1. On the navigation pane, under **Auto Scaling**, choose **Auto Scaling Groups**\.
  145  
  146: 1. For each of your Auto Scaling groups, view the values in the **Instances** and **Desired** columns to confirm your group scaled out to two instances for each group\.
  147  

  149  
  150: **To verify the instances in the Auto Scaling group**
  151  

  155  
  156: 1. In the navigation pane, choose **Clusters**\.
  157  
  158: 1. On the **Clusters** page, select your `ConsoleTutorial-cluster` cluster\.
  159  
  160: 1. On the **Tasks** tab, confirm you see five tasks in `RUNNING` status\.
  161  

  165  
  166: **To clean up the tutorial resources**
  167  

  169  
  170: 1. In the navigation pane, choose **Clusters**\.
  171  
  172: 1. On the **Clusters** page, choose the cluster\.
  173  
  174: 1. On the **Cluster : ConsoleTutorial\-cluster** page, choose the **Tasks** tab\. 
  175  
  176:    Choose **Stop**, **Stop all**\.
  177  
  178: 1. On the **Stop confirmation page**, enter **Stop**, and then choose **Stop**\.
  179  
  180: 1. In the navigation pane, choose **Clusters**\.
  181  
  182: 1. On the **Clusters** page, select **ConsoleTutorial\-cluster**\.
  183  
  184: 1. In the upper\-right of the page, choose **Delete Cluster**\. 
  185  

  187  
  188: 1. In the confirmation box, enter **delete **ConsoleTutorial\-cluster****\.
  189  

  195  
  196:    1. On the navigation pane, under **Auto Scaling**, choose **Auto Scaling Groups**\.
  197  
  198:    1. Select your **ConsoleTutorial\-ASG** Auto Scaling group, then from the **Actions** menu choose **Delete\.**
  199  
  200:    1. Select your **ConsoleTutorial\-ASG\-burst** Auto Scaling group, then from the **Actions** menu choose **Delete\.**

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/tutorial-deploy-fluentbit-on-windows.md:
    4  
    5: The **AWS for Fluent Bit** image is available on Amazon ECR on both the Amazon ECR Public Gallery and in an Amazon ECR repository in most Regions for high availability\. For more information, see [https://github.com/aws/aws-for-fluent-bit](https://github.com/aws/aws-for-fluent-bit) on the GitHub website\.
    6  

   41  
   42: **Topics**
   43  + [Prerequisites](#tutorial-deploy-fluentbit-on-windows-prereqs)

   63  + The steps in [Set up to use Amazon ECS](get-set-up-for-amazon-ecs.md) have been completed\.
   64: + You have a cluster\. In this tutorial, the cluster name is **FluentBit\-cluster**\.
   65  + You have a VPC with a public subnet where the EC2 instance will be launched\. You can use your default VPC\. You can also use a private subnet that allows Amazon CloudWatch endpoints to reach the subnet\. For more information about Amazon CloudWatch endpoints, see [Amazon CloudWatch endpoints and quotas](https://docs.aws.amazon.com/general/latest/gr/cw_region.html) in the *AWS General Reference*\. For information about how to use the Amazon VPC wizard to create a VPC, see [Create a virtual private cloud](get-set-up-for-amazon-ecs.md#create-a-vpc)\.

  108  
  109: **To create an Amazon ECS instance**
  110  

  118  
  119:    1. From the **EC2 Dashboard**, choose **Launch instance**\.
  120  
  121:    1. For **Name**, enter a unique name\.
  122  
  123:    1. For **Application and OS Images \(Amazon Machine Image\)**, choose the AMI that you retrieved in the first step\.
  124  
  125:    1. For **Instance type**, choose `t3.xlarge`\.
  126  
  127:    1. For **Key pair \(login\)**, choose a key pair\. 
  128  
  129:    1. Under **Network settings**, for **Security group**, choose an existing security group, or create a new one\.
  130  
  131:    1. Under **Network settings**, for **Auto\-assign Public IP**, select **Enable**\. 
  132  
  133:    1. Under **Advanced details**, for **IAM instance profile** , choose **ecsInstanceRole**\.
  134  
  135:    1. Configure your Amazon ECS container instance with the following user data\. Under **Advanced Details**, paste the following script into the **User data** field, replacing *cluster\_name* with the name of your cluster\.
  136  

  143  
  144:    1. When you are ready, select the acknowledgment field, and then choose **Launch Instances**\. 
  145  
  146:    1. A confirmation page lets you know that your instance is launching\. Choose **View Instances** to close the confirmation page and return to the console\.
  147  

  213  
  214: **Note**  
  215  This task definition exposes Fluent Bit container port 24224 to the host port 24224\. Verify that this port is not open in your EC2 instance security group to prevent access from outside\.
  216  
  217: **To register a task definition**
  218  

  283  
  284: **To run a task**
  285  
  286  1. Run the following command to start the `ecs-windows-fluent-bit:1` task definition \(registered in the previous step\) as a service\.
  287: **Note**  
  288  This task definition uses the `awslogs` logging driver, your container instance need to have the necessary permissions\.

  317  
  318: **Note**  
  319  This task uses the `default` network mode\. However, you can also use the `awsvpc` network mode with the task\.
  320  
  321: **To register a task definition**
  322  

  372  
  373: **To run a task**
  374  

  415  
  416: **To verify the Fluent Bit setup**
  417  

  419  
  420: 1. In the navigation pane, choose **Log groups**\. Make sure that you're in the Region where you deployed Fluent Bit to your containers\.
  421  

  431  
  432: **To clean up the tutorial resources**
  433  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/tutorial-ecs-web-server-cdk.md:
   14  
   15: **Note**  
   16  These instructions assume you are using AWS CDK v2\. 
   17  
   18: **Topics**
   19  + [Step 1: Set up your AWS CDK project](#ecs-web-server-cdk-step-1)

   71  
   72: Import this Maven project to your Java IDE\. For example, in Eclipse, use **File** > **Import** > **Maven** > **Existing Maven Projects**\.
   73  

   84  
   85: **Note**  
   86  The AWS CDK application template uses the name of the project directory to generate names for source files and classes\. In this example, the directory is named `hello-ecs`\. If you use a different project directory name, your app won't match these instructions\.

  139  
  140: **Note**  
  141  A stack is a unit of deployment\. All resources must be in a stack, and all the resources that are in a stack are deployed at the same time\. If a resource fails to deploy, any other resources that were already deployed are rolled back\. An AWS CDK app can contain multiple stacks, and resources in one stack can refer to resources in another stack\.

  208  
  209:     def __init__(self, scope: Construct, construct_id: str, **kwargs) -> None:
  210:         super().__init__(scope, construct_id, **kwargs)
  211  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/tutorial-efs-volumes.md:
    8  
    9: **Note**  
   10  Amazon EFS may not be available in all Regions\. For more information about which Regions support Amazon EFS, see [Amazon Elastic File System Endpoints and Quotas](https://docs.aws.amazon.com/general/latest/gr/elasticfilesystem.html) in the *AWS General Reference*\.

   15  
   16: **To create a new cluster \(Amazon ECS console\)**
   17  

   23  
   24: 1. In the navigation pane, choose **Clusters**\.
   25  
   26: 1. On the **Clusters** page, choose **Create cluster**\.
   27  
   28: 1. Under **Cluster configuration**, for **Cluster name**, enter `EFS-tutorial` for the cluster name\.
   29  
   30: 1. \(Optional\) To change the VPC and subnets where your tasks and services launch, under **Networking**, perform any of the following operations:
   31:    + To remove a subnet, under **Subnets**, choose **X** for each subnet that you want to remove\.
   32:    + To change to a VPC other than the **default** VPC, under **VPC**, choose an existing **VPC**, and then under **Subnets**, select each subnet\.
   33  
   34: 1. \(Optional\) To add Amazon EC2 instances to your cluster, expand **Infrastructure**, and then select **Amazon EC2 instances**\. Next, configure the Auto Scaling group which acts as the capacity provider:
   35  
   36:    1. To create a Auto Scaling group, from **Auto Scaling group \(ASG\)**, select **Create new group**, and then provide the following details about the group:
   37:      + For **Operating system/Architecture**, choose Amazon Linux 2\.
   38:      + For **EC2 instance type**, choose `t2.micro`\.
   39  
   40:         For **SSH key pair**, choose the pair that proves your identity when you connect to the instance\.
   41:      + For **Capacity**, enter `1`\.
   42  

   44  
   45: 1. Choose **Create**\.
   46  

   50  
   51: **To create a security group for an Amazon EFS file system**
   52  

   54  
   55: 1. In the left navigation pane, choose **Security Groups**, **Create security group**\.
   56  
   57: 1. For **Security group name**, enter a unique name for your security group\. For example, `EFS-access-for-sg-dc025fa2`\.
   58  
   59: 1. For **Description**, enter a description for your security group\.
   60  
   61: 1. For **VPC**, choose the VPC that you identified earlier for your cluster\.
   62  
   63: 1. For **Inbound rules**, choose **Add rule**\.
   64  
   65: 1. For **Type**, choose **NFS**\.
   66  
   67: 1. For **Source**, choose **Custom** and then enter the security group ID that you identified when you created the cluster\.
   68  
   69: 1. Choose **Create security group**\.
   70  

   74  
   75: **To create an Amazon EFS file system for Amazon ECS tasks\.**
   76  

   78  
   79: 1. Choose **Create file system**\.
   80  
   81: 1. On the **Configure network access** page, choose the VPC that your container instances are hosted in\. By default, each subnet in the specified VPC receives a mount target that uses the default security group for that VPC\.
   82: **Important**  
   83  Your Amazon EFS file system, your Amazon ECS cluster, container instances and tasks must be in the same VPC\.
   84  
   85: 1. Under **Create mount targets**, for **Security groups**, add the security group that you created in step 2\. Choose **Next Step**\.
   86  
   87: 1. On the **Configure file system settings** page, configure optional settings and then choose **Next Step** to proceed\.
   88  
   89:    1. \(Optional\) Add tags for your file system\. For example, you could specify a unique name for the file system by entering that name in the **Value** column next to the **Name** key\.
   90  

   92  
   93:    1. Choose a throughput mode for your file system\. The **Bursting** mode is the default, and it is recommended for most file systems\.
   94  
   95:    1. Choose a performance mode for your file system\. The **General Purpose** mode is the default, and it is recommended for most file systems\.
   96  

   98  
   99: 1. On the **Configure client access** page, choose **Next Step**\.
  100  
  101: 1. Review your file system options and choose **Create File System** to complete the process\.
  102  
  103: 1. From the file systems details screen, record the **File system ID**\. In the next step, you will reference this value in your Amazon ECS task definition\.
  104  

  108  
  109: **To create an Amazon EC2 instance and mount the Amazon EFS file system**
  110  

  112  
  113: 1. Choose **Launch Instance**\.
  114  
  115: 1. On the **Choose an Amazon Machine Image** page, select the latest **Amazon Linux 2 AMI \(HVM\)** AMI\.
  116  
  117: 1. On the **Choose an Instance Type** page, keep the default instance type, `t2.micro` and choose **Next: Configure Instance Details**\.
  118  
  119: 1. On the **Configure Instance Details** page, do the following:
  120  
  121:    1. For **Network**, select the VPC that you specified for your Amazon EFS file system and Amazon ECS cluster\.
  122  
  123:    1. For **Auto\-assign Public IP**, choose **Enable**\. Otherwise, your instances do not get public IP addresses or public DNS names\.
  124  
  125:    1. For **File systems**, select your Amazon EFS file system\. You can optionally change the mount location or leave the default value\.
  126  
  127:    1. Under **Advanced Details**, ensure that the user data script is populated automatically with the Amazon EFS file system mounting steps\.
  128  
  129: 1. Advance to step 5 of the instance wizard by choosing **Next: Add Storage**, **Next: Add Tags**, and **Next: Configure Security Group**\.
  130  
  131: 1. On the **Configure Security Group** page, choose **Select an existing security group** and select the security group that you created in step 1, and then choose **Review and Launch**\.
  132  
  133: 1. On the **Review Instance Launch** page, choose **Launch**\.
  134  
  135: 1. On the **Select an existing key pair or create a new key pair** dialog box, select **Choose an existing key pair** and choose your key pair\. Select the acknowledgment check box, and choose **Launch Instances**\.
  136  
  137: 1. On the **Launch Status** page, choose **View Instances** to see the status of your instances\. Initially, their status is `pending`\. After the status changes to `running`, your instances are ready for use\.
  138  

  140  
  141: **To connect to the Amazon EC2 instance and add content to the Amazon EFS file system**
  142  

  175  
  176: **To create a new task definition using the classic console**
  177  

  179  
  180: 1. In the navigation pane, choose **Task definitions**\.
  181  
  182: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
  183  

  221  
  222: 1. Choose **Save**, **Create**\.
  223  

  227  
  228: **To run a task and view the results using the console**
  229  

  231  
  232: 1. On the **Clusters** page, select the cluster to run the standalone task in\.
  233  

  236  
  237: 1. \(Optional\) Choose how your scheduled task is distributed across your cluster infrastructure\. Expand **Compute configuration**, and then do the following:    
  238  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/tutorial-efs-volumes.html)
  239  
  240: 1. For **Application type**, choose **Task**\.
  241  
  242: 1. For **Task definition**, choose the `efs-tutorial` task definition that you created earlier \.
  243: **Important**  
  244  The console validates the selection to ensure that the selected task definition family and revision is compatible with the defined compute configuration\.
  245  
  246: 1. For **Desired tasks**, enter `1`\.
  247  
  248: 1. Choose **Create**\.
  249  
  250: 1. On the **Cluster** page, choose **Infrastructure**\.
  251  
  252: 1. Under **Container Instances**, choose the container instance to connect to\.
  253  
  254: 1. On the **Container Instance** page, under **Networking**, record the **Public IP** for your instance\.
  255  

  261     ```
  262: **Note**  
  263  If you do not see the message, make sure that the security group for your container instance allows inbound network traffic on port 80\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/tutorial-wfsx-volumes.md:
    6  
    7: **Note**  
    8  FSx for Windows File Server might not be available in all Regions\. For more information about which Regions support FSx for Windows File Server, see [Amazon FSx Endpoints and Quotas](https://docs.aws.amazon.com/general/latest/gr/fsxn.html) in the *AWS General Reference*\.

   21  
   22: **Create a cluster with the AWS Management Console\.**
   23  

   32  
   33:    1. In the navigation pane, choose **Roles\.**
   34  

   36  
   37:    1. Choose **Permissions, Attach policies\.**\.
   38  
   39:    1. To narrow the available policies to attach, use **Filter**\.
   40  
   41:    1. Select the appropriate policy and choose **Attach policy**\.
   42  

   58  
   59:    1. Click **Store a new secret**\.
   60  
   61:    1. Select **Other type of secrets**\.
   62  
   63:    1. For **Secret key/value**, in the first row, create a key **username** with value **admin**\. Click on **\+ Add row**\.
   64  
   65:    1. In the new row, create a key **password**\. For value, type in the password you entered in Step 3 of *Create Your AWS Managed AD Directory*\.
   66  
   67:    1. Click on the **Next** button\.
   68  
   69:    1. Provide a secret name and description\. Click **Next**\.
   70  
   71:    1. Click **Next**\. Click **Store**\.
   72  
   73:    1. From the list of **Secrets** page, click on the secret you have just created\.
   74  

   82  
   83: **Verify and update security group\.**
   84  

  102  
  103: 1. Open the [EC2 console](https://console.aws.amazon.com/ec2/) and select **Security Groups** from the left\-hand menu\.
  104  

  108  
  109: 1. Edit the inbound and outbound rules by selecting the **Inbound rules** or **Outbound rules** tabs and choosing the **Edit inbound rules** or **Edit outbound rules** buttons\. Edit the rules to match those displayed in the preceding tables\. After you create your EC2 instance later on in this tutorial, edit the inbound rule RDP source with the public IP address of your EC2 instance as described in [Connect to your Windows instance](https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html) from the *Amazon EC2 User Guide for Windows Instances*\.
  110  

  114  
  115: **Create your first file system\.**
  116  

  118  
  119: 1. On the dashboard, choose **Create file system** to start the file system creation wizard\.
  120  
  121: 1. On the **Select file system type** page, choose **FSx for Windows File Server**, and then choose **Next**\. The **Create file system** page appears\.
  122  
  123: 1. In the **File system details** section, provide a name for your file system\. Naming your file systems makes it easier to find and manage your them\. You can use up to 256 Unicode characters\. Allowed characters are letters, numbers, spaces, and the special characters plus sign \(\+\)\. minus sign \(\-\), equal sign \(=\), period \(\.\), underscore \(\_\), colon \(:\), and forward slash \(/\)\.
  124  
  125: 1. For **Deployment type** choose **Single\-AZ** to deploy a file system that is deployed in a single Availability Zone\. *Single\-AZ 2* is the latest generation of single Availability Zone file systems, and it supports SSD and HDD storage\.
  126  
  127: 1. For **Storage type**, choose **HDD**\.
  128  
  129: 1. For **Storage capacity**, enter the minimum storage capacity\. 
  130  
  131: 1. Keep **Throughput capacity** at its default setting\.
  132  
  133: 1. In the **Network & security** section, choose the same Amazon VPC that you chose for your AWS Directory Service directory\.
  134  
  135: 1. For **VPC Security Groups**, choose the security group that you verified in *Step 3: Verify and update your security group*\.
  136  
  137: 1. For **Windows authentication**, choose **AWS Managed Microsoft Active Directory**, and then choose your AWS Directory Service directory from the list\.
  138  
  139: 1. For **Encryption**, keep the default **Encryption key** setting of **aws/fsx \(default\)**\.
  140  
  141: 1. Keep the default settings for **Maintenance preferences**\.
  142  
  143: 1. Click on the **Next** button\.
  144  
  145: 1. Review the file system configuration shown on the **Create file system** page\. For your reference, note which file system settings you can modify after file system is created\. Choose **Create file system**\. 
  146  

  152  
  153: **Create a cluster using the classic Amazon ECS console**
  154  

  156  
  157: 1. In the navigation pane, choose **Clusters**\.
  158  
  159: 1. On the **Clusters** page, choose **Create Cluster**\.
  160  
  161: 1. Choose **EC2 Windows \+ Networking** and choose **Next step**\.
  162  
  163: 1. For **Cluster name** enter `windows-fsx-cluster`\.
  164  
  165: 1. Click the check\-box under the name of the cluster to **create an empty cluster**\.
  166  
  167: 1. Click the **Create** button on the lower right corner\.
  168  
  169: 1. Click the **View Cluster** button when the cluster is successfully created\.
  170  

  174  
  175: **Launch an ECS Optimized Windows EC2 instance into the ECS cluster you just created using the AWS Management Console and the classic Amazon ECS console**
  176  

  182  
  183:    1. Find the latest version in the table for your Region\. Click **View AMI ID** link to a page where you'll find the AMI ID of the latest version\. Save a copy of the AMI ID for the next steps\.
  184  

  188  
  189: 1. Click on the **Launch Instance** button and select **Launch Instance**\.
  190  

  194  
  195: **Select an AMI for your EC2 instance\.**
  196  
  197:    1. Under **Quick Start**, click on **Community AMIs**\.
  198  
  199:    1. In the **search** field, enter the AMI ID that you saved from the previous step and press return\.
  200  

  204  
  205: 1. For **Instance type** page, choose t2\.medium or t2\.micro and click on **Next: Configure Instance Details**\.
  206  

  208  
  209: **Configure instance details\.**
  210  
  211:    1. On the **Configure Instance Details** page, enter 1 for **Number of Instances**\.
  212  
  213:    1. For **Network** select your VPC\.
  214  
  215:    1. For **Subnets** select a public subnet\.
  216  
  217:    1. Select **Enable** for **Auto\-assign Public IP**\.
  218  
  219:    1. For **Domain join directory**, select the ID of the Active Directory that you created\. This option domain joins your AD when the EC2 instance is launched\.
  220  
  221:    1. For **IAM role**, select your **ecsInstanceRole** from the drop\-down menu\.
  222  
  223:    1. Scroll to the bottom of the page and enter the following into the **User data** text field\.
  224  

  230  
  231:    1. Click **Next: Add Storage** button\.
  232  
  233:    1. Click **Next: Add Tags** button\.
  234  
  235:    1. Click **Next: Configure Security Group** button\.
  236  
  237: 1. On the **Configure Security Group** page, select the security group that you verified and updated in *Step 3: Verify and update your security group*\. If it doesn't already exist, add an inbound RDP TCP rule to allow traffic from your EC2 instance IP address through port 3389 if you want to be able to RDP into your instance\.
  238  
  239: 1. Click on **Review and Launch** button\.
  240  
  241: 1. On the **Review Instance Launch** page, click the **Launch** button\.
  242  
  243: 1. For **Key pair**, choose an Amazon EC2 key pair to use with your container instances for RDP access\. If you don't specify a key pair, you can't connect to your container instances with RDP\. For more information, see [Prerequisites for the tutorial](#wfsx-prerequisites)\.
  244  
  245: 1. Click on **View instance** to see the new instance status among your list of instances\.
  246  
  247: 1. Open the classic [Amazon ECS console](https://console.aws.amazon.com/ecs/) and select **Clusters**\.
  248  
  249: 1. Select your **fsx\-windows\-cluster** cluster\.
  250  
  251: 1. Select the **ECS Instances** tab and verify that your ECS instance has been registered in the **fsx\-windows\-cluster** cluster\.
  252  

  256  
  257: **Register the sample task definition with the classic Amazon ECS console**
  258  

  260  
  261: 1. In the navigation pane, choose **Task Definitions**\.
  262  
  263: 1. On the **Task Definitions** page, choose **Create new Task Definition**\.
  264  
  265: 1. On the **Select launch type compatibilities** page, choose **EC2** and then **Next step**\.
  266: **Note**  
  267  The Fargate launch type isn't compatible with Windows containers\.
  268  
  269: 1. On the **Create new Task Definition** page, scroll to the bottom of the page and choose **Configure via JSON**\.
  270  
  271: 1. Use the following sample task definition JSON\. Replace the values for your task execution role and the details about your FSx file system and then choose **Save**\.
  272  

  340  
  341: 1. Click on **container1** under **Container Definitions**\.
  342  
  343: 1. Scroll to **STORAGE AND LOGGING** and, for **Mount points*** Source volume*, select **fsx\-windows\-vol** from the drop\-down menu\.
  344  
  345: 1. For **Container path**, enter **C:\\fsx\-windows\-dir**\.
  346  
  347: 1. Click on **Update** button\.
  348  
  349: 1. Repeat the last four steps for **container2** under **Container Definitions**\.
  350  
  351: 1. For **Task execution role**, choose your **ecsTaskExecutionRole** from the drop\-down menu\.
  352  
  353: 1. Verify your information and click on **Create** button\.
  354  

  356  
  357: Before running the task, verify that the status of your FSx for Windows File Server file system is **Available**\. After it is available, you can run a task using the task definition that you created\. The task starts out by creating containers that shuffle an HTML file between them using the file system\. After the shuffle, a web server serves the simple HTML page\.
  358  
  359: **Note**  
  360  You might not be able to connect to the website from within a VPN\.
  361  
  362: **Run a task and view the results with the classic console\.**
  363  

  365  
  366: 1. Choose your **fsx\-windows\-cluster** cluster\.
  367  
  368: 1. Choose **Tasks** tab, and then **Run new task**\.
  369  
  370: 1. For **Launch Type**, select EC2\.
  371  
  372: 1. For **Task Definition**, choose the **fsx\-windows** task definition that you created, and then choose **Run Task**\.
  373  
  374: 1. Under the **Tasks** tab, choose the task that you just ran\. Your task appears in the list of tasks\.
  375  
  376: 1. When your task status is **RUNNING**, click on the task ID\.
  377  

  380  1. Scroll down and click on the external IP address that is associated with the container\. Your browser will open and display the following message\.
  381: **Note**  
  382  If you don't see this message, check that you aren't running in a VPN and make sure that the security group for your container instance allows inbound network HTTP traffic on port 8080\.

  385  
  386: **Note**  
  387  It takes 20 to 45 minutes to delete the FSx for Windows File Server file system or the AD\. You must wait until the FSx for Windows File Server file system delete operations are complete before starting the AD delete operations\.
  388  
  389: **Remove FSx for Windows File Server file system\.**
  390  

  394  
  395: 1. Click on **Actions**\.
  396  
  397: 1. Select **Delete file system**\.
  398  
  399: **Remove AD\.**
  400  

  404  
  405: 1. Click on **Actions**\.
  406  
  407: 1. Select **Delete directory**\.
  408  
  409: **Remove ECS cluster\.**
  410  

  412  
  413: 1. Select **Clusters**\.
  414  

  416  
  417: 1. Click the **Delete Cluster** button\.
  418  
  419: **Remove ECS instance\.**
  420  

  422  
  423: 1. From the left\-hand menu, select **Instances**\.
  424  

  426  
  427: 1. Click the **Instance state** and then **Terminate instance**\.
  428  
  429: **Remove secret\.**
  430  

  434  
  435: 1. Click **Actions**\.
  436  
  437: 1. Select **Delete secret**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-capacity-provider-console-v2.md:
   4  
   5: **To update a capacity provider for the cluster \(New Amazon ECS console\)**
   6  

   8  
   9: 1. In the navigation pane, choose **Clusters**\.
  10  
  11: 1. On the **Clusters** page, choose the cluster\.
  12  
  13: 1. On the **Cluster : *name*** page, choose **Infrastructure**, and then choose **Update**\.
  14  
  15: 1. On the **Create capacity providers** page, configure the following options\.
  16  
  17:    1. Under **Auto Scaling group**, under **Scaling policies**, configure the following options\.
  18:      + To have Amazon ECS manage the scale\-in and scale\-out actions, select **Turn on managed scaling**\.
  19:      + To prevent EC2 instances with running Amazon ECS tasks from being terminated, select **Turn on scaling protection**\.
  20:      + For **Set target capacity**, enter the target value for the CloudWatch metric used in the Amazon ECS\-managed target tracking scaling policy\.
  21  
  22: 1. Choose **Update**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-cluster-settings.md:
  4  
  5: **Important**  
  6  Currently, if you delete an existing cluster that does not have Container Insights enabled and then create a new cluster with the same name with Container Insights enabled, Container Insights will not actually be enabled\. If you want to preserve the same name for your existing cluster and turn on Container Insights, you must wait 7 days before you can re\-create it\.
  7  
  8: **To update the settings for a cluster \(AWS CLI\)**
  9  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-cluster-v2.md:
  13  
  14: **To update the cluster \(Amazon ECS console\)**
  15  

  17  
  18: 1. In the navigation pane, choose **Clusters**\.
  19  
  20: 1. On the **Clusters** page, choose the cluster\.
  21  
  22: 1. On the **Cluster : *name*** page, choose **Update cluster**\.
  23  
  24: 1. To set the default capacity provider, under **Default capacity provider strategy**, choose **Add more**\.
  25  
  26:    1. For **Capacity prover**, choose the capacity provider\.
  27  
  28:    1. \(Optional\) For **Base**, enter the minimum number of tasks that run on the capacity provider\. 
  29  
  30:       You can only set a **Base** value for one capacity provider\.
  31  
  32:    1. \(Optional\) For **Weight**, enter the relative percentage of the total number of launched tasks that use the specified capacity provider\.
  33  

  35  
  36: 1. To turn on or off Container Insights, expand **Monitoring**, and then turn on **Use Container Insights**\.
  37  
  38: 1. To help identify your cluster, expand **Tags**, and then configure your tags\.
  39  
  40:    \[Add a tag\] Choose **Add tag** and do the following:
  41:    + For **Key**, enter the key name\.
  42:    + For **Value**, enter the key value\.
  43  
  44:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
  45  
  46: 1. Choose **Update**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-service-console-v1.md:
   2  
   3: **Important**  
   4  Amazon ECS has provided a new console experience for updating a service\. For more information, see [Updating a service using the new console](update-service-console-v2.md)\.
   5  
   6: **To update a running service**
   7  

  11  
  12: 1. In the navigation pane, choose **Clusters**\.
  13  
  14: 1. On the **Clusters** page, select the name of the cluster in which your service resides\.
  15  
  16: 1. On the **Cluster: *name*** page, choose **Services**\.
  17  
  18: 1. Check the box to the left of the service to update and choose **Update**\.
  19  
  20: 1. On the **Configure service** page, your service information is pre\-populated\. Change the task definition, capacity provider strategy, platform version, deployment configuration, or number of desired tasks \(or any combination of these\)\. To have your service start a new deployment, which will stop and relaunch all tasks using the new configuration, select **Force new deployment**\. Choose **Next step** when finished changing the service configuration\.
  21: **Note**  
  22  A service using an Auto Scaling group capacity provider can't be updated to use a Fargate capacity provider and vice versa\.  

  24  
  25: 1. On the **Configure deployments** page, if your service is using the blue/green deployment type, the components of your service deployment is pre\-populated\. Confirm the following settings\.
  26  
  27:    1. For **Application name**, choose the CodeDeploy application of which your service is a part\.
  28  
  29:    1. For **Deployment group name**, choose the CodeDeploy deployment group of which your service is a part\.
  30  
  31     1. Select the deployment lifecycle event hooks and the associated Lambda functions to execute as part of the new revision of the service deployment\. The available lifecycle hooks are:
  32:       + **BeforeInstall** – Use this deployment lifecycle event hook to invoke a Lambda function before the replacement task set is created\. The result of the Lambda function at this lifecycle event does not trigger a rollback\.
  33:       + **AfterInstall** – Use this deployment lifecycle event hook to invoke a Lambda function after the replacement task set is created\. The result of the Lambda function at this lifecycle event can trigger a rollback\.
  34:       + **BeforeAllowTraffic** – Use this deployment lifecycle event hook to invoke a Lambda function before the production traffic has been rerouted to the replacement task set\. The result of the Lambda function at this lifecycle event can trigger a rollback\.
  35:       + **AfterAllowTraffic** – Use this deployment lifecycle event hook to invoke a Lambda function after the production traffic has been rerouted to the replacement task set\. The result of the Lambda function at this lifecycle event can trigger a rollback\.
  36  

  38  
  39: 1. Choose **Next step**\.
  40  
  41: 1. On the **Configure network** page, your network information is pre\-populated\. In the **Load balancing** section, if your service is using the blue/green deployment type, select the listeners to associate with the target groups\. Change the health check grace period \(if desired\) and choose **Next step**\.
  42  

  44  
  45:    1. Under **Optional configurations**, choose **Configure Service Auto Scaling**\.
  46  

  50  
  51: 1. Choose **Update Service** to finish and update your service\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-service-console-v2.md:
    5  Consider the following when you use the new console:
    6: + Only services using the **Rolling update** \(`ECS`\) deployment type can be updated using the new Amazon ECS experience\.
    7: + Currently, the console supports only the **Target tracking** scaling policy\. To use step scaling, switch to the classic console\.
    8: + Currently, the console supports only the **Replica** service type\. To use the Daemon service type, switch to the classic console\.
    9  + If you are changing the ports used by containers in a task definition, you might need to update the security groups for the container instances to work with the updated ports\.

   15  
   16: If you want to use an updated container image for your tasks, you can create a new task definition revision with that image and deploy it to your service by using the **force new deployment** option in the console\.
   17  

   19  
   20: If a service is using the rolling update \(`ECS`\) deployment type, the **minimum healthy percent** represents a lower limit on the number of tasks in a service that must remain in the `RUNNING` state during a deployment, as a percentage of the desired number of tasks \(rounded up to the nearest integer\)\. The parameter also applies while any container instances are in the `DRAINING` state if the service contains tasks using the EC2 launch type\. Use this parameter to deploy without using additional cluster capacity\. For example, if your service has a desired number of four tasks and a minimum healthy percent of 50 percent, the scheduler may stop two existing tasks to free up cluster capacity before starting two new tasks\. Tasks for services that do not use a load balancer are considered healthy if they are in the `RUNNING` state\. Tasks for services that do use a load balancer are considered healthy if they are in the `RUNNING` state and they are reported as healthy by the load balancer\. The default value for minimum healthy percent is 100 percent\.
   21  
   22: If a service is using the rolling update \(`ECS`\) deployment type, the **maximum percent** parameter represents an upper limit on the number of tasks in a service that are allowed in the `PENDING`, `RUNNING`, or `STOPPING` state during a deployment, as a percentage of the desired number of tasks \(rounded down to the nearest integer\)\. The parameter also applies while any container instances are in the `DRAINING` state if the service contains tasks using the EC2 launch type\. Use this parameter to define the deployment batch size\. For example, if your service has a desired number of four tasks and a maximum percent value of 200 percent, the scheduler may start four new tasks before stopping the four older tasks\. That is provided that the cluster resources required to do this are available\. The default value for the maximum percent is 200 percent\.
   23  

   25  
   26: **Important**  
   27  If you are changing the ports used by containers in a task definition, you may need to update the security groups for the container instances to work with the updated ports\.  

   31  
   32: **To update a service \(Amazon ECS console\)**
   33  

   35  
   36: 1. On the **Clusters** page, select the cluster\.
   37  
   38: 1. On the **Cluster overview** page, select the service, and then choose **Update**\.
   39  
   40: 1. To have your service start a new deployment, select **Force new deployment**\.
   41  
   42: 1. For **Task definition**, choose the task definition family and revision\.
   43: **Important**  
   44  The console validates that the selected task definition family and revision is compatible with the defined compute configuration\. If you receive a warning, verify both your task definition compatibility and the compute configuration selected\.
   45  
   46: 1. For **Desired tasks**, enter the number of tasks you want to run for the service\.
   47  
   48: 1. For **Min running tasks**, enter the lower limit on the number of tasks in the service that must remain in the `RUNNING` state during a deployment, as a percentage of the desired number of tasks \(rounded up to the nearest integer\)\. For more information, see [Deployment configuration](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html#sd-deploymentconfiguration)\.
   49  
   50: 1. For **Max running tasks**, enter the upper limit on the number of tasks in the service that are allowed in the `RUNNING` or `PENDING` state during a deployment, as a percentage of the desired number of tasks \(rounded down to the nearest integer\)\.
   51  
   52: 1. To configure how Amazon ECS detects and handles deployment failures, expand **Deployment failure detection**, and then choose your options\. 
   53  
   54:    1. To stop a deployment when the tasks cannot start, select **Use the Amazon ECS deployment circuit breaker**\.
   55  
   56:       To have the software automatically roll back the deployment to the last completed deployment state when the deployment circuit breaker sets the deployment to a failed state, select **Rollback on failure**\.
   57  
   58:    1. To stop a deployment based on application metrics\., select **Use CloudWatch alarms**\. Then, from **CloudWatch alarm names**, choose the alarms\. To create a new alarm, choose **Create new alarm**\.
   59  
   60:       To have the software automatically roll back the deployment to the last completed deployment state when a CloudWatch alarm sets the deployment to a failed state, select **Rollback on failure**\.
   61  
   62: 1. To change the compute options, expand **Deployment options**, **Compute configuration**, and then do the following: 
   63  
   64:    1. For services on AWS Fargate, for **Platform version**, choose the new version\.
   65  
   66:    1. For services that use a capacity provider strategy, for **capacity provider strategy**, do the following:
   67:       + To add an additional capacity provider, choose **Add more**\. Then, for **Capacity provider**, choose the capacity provider\.
   68:       + To remove a capacity provider, to the right of the capacity provider, choose **Remove**\.
   69  

   71  
   72: 1. To configure service auto scaling, expand **Service auto scaling**, and then specify the following parameters\.
   73  
   74:    1. To use service auto scaling, select **Service auto scaling**\.
   75  
   76:    1. For **Minimum number of tasks**, enter the lower limit of the number of tasks for Service Auto Scaling to use\. The desired count will not go below this count\.
   77  
   78:    1. For **Maximum number of tasks**, enter the upper limit of the number of tasks for Service Auto Scaling to use\. The desired count will not go above this count\.
   79  
   80:    1. For **Scaling policy type**, choose **Target tracking**\.
   81  
   82:    1. For **Policy name**, enter the policy name\.
   83  
   84:    1. For **ECS service metric**, choose one of the following metrics:
   85:       + **ECSServiceAverageCPUUtilization**: Average CPU utilization of the service\. 
   86:       + **ECSServiceAverageMemoryUtilization**: Average memory utilization of the service\. 
   87:       + **ALBRequestCountPerTarget**: Number of requests completed per target in an Application Load Balancer target group\. 
   88  

   90  
   91:    1. For **Target value**, enter the value in percent that the service maintains for the selected metric\.
   92  
   93:    1. For **Scale\-out cooldown period**, enter the number of seconds after a scale\-out activity that no other scale outs can happen\.
   94  
   95:    1. For **Scale\-in cooldown period**, enter the number of seconds after a scale\-in activity that no other scale ins can happen\.
   96  
   97:    1. To prevent the policy from performing a scale\-in activity, select **Turn off scale\-in**\.
   98  
   99: 1. \(Optional\) To help identify your service, expand the **Tags** section, and then configure your tags\.
  100:    + \[Add a tag\] Choose **Add tag** and do the following:
  101:      + For **Key**, enter the key name\.
  102:      + For **Value**, enter the key value\.
  103:    + \[Remove a tag\] Next to the tag, choose **Remove tag**\.
  104  
  105: 1. Choose **Update**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-service.md:
   2  
   3: **Important**  
   4  Amazon ECS has provided a new console experience for updating a service\. For more information, see [Updating a service using the console](update-service-console-v2.md)\.

   7  
   8: If you want to use an updated container image for your tasks, you can create a new task definition revision with that image and deploy it to your service by using the **force new deployment** option in the console\.
   9  

  11  
  12: If a service is using the rolling update \(`ECS`\) deployment type, the **minimum healthy percent** represents a lower limit on the number of tasks in a service that must remain in the `RUNNING` state during a deployment, as a percentage of the desired number of tasks \(rounded up to the nearest integer\)\. The parameter also applies while any container instances are in the `DRAINING` state if the service contains tasks using the EC2 launch type\. Use this parameter to deploy without using additional cluster capacity\. For example, if your service has a desired number of four tasks and a minimum healthy percent of 50 percent, the scheduler may stop two existing tasks to free up cluster capacity before starting two new tasks\. Tasks for services that do not use a load balancer are considered healthy if they are in the `RUNNING` state\. Tasks for services that do use a load balancer are considered healthy if they are in the `RUNNING` state and they are reported as healthy by the load balancer\. The default value for minimum healthy percent is 100 percent\.
  13  
  14: If a service is using the rolling update \(`ECS`\) deployment type, the **maximum percent** parameter represents an upper limit on the number of tasks in a service that are allowed in the `PENDING`, `RUNNING`, or `STOPPING` state during a deployment, as a percentage of the desired number of tasks \(rounded down to the nearest integer\)\. The parameter also applies while any container instances are in the `DRAINING` state if the service contains tasks using the EC2 launch type\. Use this parameter to define the deployment batch size\. For example, if your service has a desired number of four tasks and a maximum percent value of 200 percent, the scheduler may start four new tasks before stopping the four older tasks\. That is provided that the cluster resources required to do this are available\. The default value for the maximum percent is 200 percent\.
  15  
  16: If a service is using the blue/green \(`CODE_DEPLOY`\) deployment type and tasks that use the EC2 launch type, the **minimum healthy percent** and **maximum percent** values are set to the default values\. They are only used to define the lower and upper limit on the number of the tasks in the service that remain in the `RUNNING` state while the container instances are in the `DRAINING` state\. If the tasks in the service use the Fargate launch type, the minimum healthy percent and maximum percent values are not used\. They are currently visible when describing your service\.
  17  

  19  
  20: **Important**  
  21  If you are changing the ports used by containers in a task definition, you may need to update the security groups for the container instances to work with the updated ports\.  

  26  
  27: **To update a running service**
  28  

  32  
  33: 1. In the navigation pane, choose **Clusters**\.
  34  
  35: 1. On the **Clusters** page, select the name of the cluster in which your service resides\.
  36  
  37: 1. On the **Cluster: *name*** page, choose **Services**\.
  38  
  39: 1. Check the box to the left of the service to update and choose **Update**\.
  40  
  41: 1. On the **Configure service** page, your service information is pre\-populated\. Change the task definition, capacity provider strategy, platform version, deployment configuration, or number of desired tasks \(or any combination of these\)\. To have your service start a new deployment, which will stop and relaunch all tasks using the new configuration, select **Force new deployment**\. Choose **Next step** when finished changing the service configuration\.
  42: **Note**  
  43  A service using an Auto Scaling group capacity provider can't be updated to use a Fargate capacity provider and vice versa\.  

  45  
  46: 1. On the **Configure deployments** page, if your service is using the blue/green deployment type, the components of your service deployment is pre\-populated\. Confirm the following settings\.
  47  
  48:    1. For **Application name**, choose the CodeDeploy application of which your service is a part\.
  49  
  50:    1. For **Deployment group name**, choose the CodeDeploy deployment group of which your service is a part\.
  51  
  52     1. Select the deployment lifecycle event hooks and the associated Lambda functions to execute as part of the new revision of the service deployment\. The available lifecycle hooks are:
  53:       + **BeforeInstall** – Use this deployment lifecycle event hook to invoke a Lambda function before the replacement task set is created\. The result of the Lambda function at this lifecycle event does not initiate a rollback\.
  54:       + **AfterInstall** – Use this deployment lifecycle event hook to invoke a Lambda function after the replacement task set is created\. The result of the Lambda function at this lifecycle event can initiate a rollback\.
  55:       + **BeforeAllowTraffic** – Use this deployment lifecycle event hook to invoke a Lambda function before the production traffic has been rerouted to the replacement task set\. The result of the Lambda function at this lifecycle event can initiate a rollback\.
  56:       + **AfterAllowTraffic** – Use this deployment lifecycle event hook to invoke a Lambda function after the production traffic has been rerouted to the replacement task set\. The result of the Lambda function at this lifecycle event can initiate a rollback\.
  57  

  59  
  60: 1. Choose **Next step**\.
  61  
  62: 1. On the **Configure network** page, your network information is pre\-populated\. In the **Load balancing** section, if your service is using the blue/green deployment type, select the listeners to associate with the target groups\. Change the health check grace period \(if desired\) and choose **Next step**\.
  63  

  65  
  66:    1. Under **Optional configurations**, choose **Configure Service Auto Scaling**\.
  67  

  71  
  72: 1. Choose **Update Service** to finish and update your service\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-task-definition-console-v2.md:
  32  
  33: 1. In the navigation pane, choose **Task definitions**\.
  34  
  35: 1. On the **Task definitions** page, choose the task, and then choose **Create new revision**, **Create new revision**\.
  36  
  37: 1. On the **Create new task definition revision** page, make changes\. For example, to change the existing container definitions \(such as the container image, memory limits, or port mappings\), select the container, and then make the changes\.
  38  
  39: 1. Verify the information, and then choose **Create**\.
  40  

  47  
  48: 1. In the navigation pane, choose **Task definitions**\.
  49  
  50: 1. Choose **Create new revision**, **Create new revision with JSON**\.
  51  

  55  
  56: 1. Choose **Create**\.
  57  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/update-task-definition.md:
  11  
  12: **To create a task definition revision**
  13  

  17  
  18: 1. In the navigation pane, choose **task definitions**\.
  19  
  20: 1. On the **task definitions** page, select the box to the left of the task definition to revise and choose **Create new revision**\.
  21  
  22: 1. On the **Create new revision of task definition** page, make changes\. For example, to change the existing container definitions \(such as the container image, memory limits, or port mappings\), select the container, make the changes, and then choose **Update**\.
  23  
  24: 1. Verify the information and choose **Create**\.
  25  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/usage-reports.md:
  14  
  15: **Important**  
  16  The metering data is only viewable for tasks that are launched on or after November 16, 2018\. Tasks that are launched before this date don't show metering data\.

  33  
  34: After you set up *Split Cost Allocation Data*, there will be additional columns under the **splitLineItem** header in the report\. For more information see [Split line item details](https://docs.aws.amazon.com/cur/latest/userguide/split-line-item-columns.html) in the *AWS Cost and Usage Report User Guide*\.
  35  

  38  ### Prerequisites for Task\-level CURs<a name="task-cur-prereqs"></a>
  39: + To use *Split Cost Allocation Data*, you must create a report, and select **Split cost allocation data**\. For more information, see [Creating Cost and Usage Reports](https://docs.aws.amazon.com/cur/latest/userguide/cur-create.html) in the *AWS Cost and Usage Report User Guide*\.
  40  + The minimum Docker version for reliable metrics is Docker version v20\.10\.13 and newer, which is included in Amazon ECS\-optimized AMI 20220607 and newer\.

  42  
  43: **Note**  
  44  AWS Cost Management calculates the *Split Cost Allocation Data* with the task CPU and memory usage\. AWS Cost Management can use the task CPU and memory reservation instead of the usage, if the usage is unavailable\. If you see the CUR is using the reservations, check that your container instances meet the prerequisites and the task resource usage metrics appear in CloudWatch\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/using_awslogs.md:
    4  
    5: **Note**  
    6  The type of information that is logged by the containers in your task depends mostly on their `ENTRYPOINT` command\. By default, the logs that are captured show the command output that you typically might see in an interactive terminal if you ran the container locally, which are the `STDOUT` and `STDERR` I/O streams\. The `awslogs` log driver simply passes these logs from Docker to CloudWatch Logs\. For more information about how Docker logs are processed, including alternative ways to capture different file data or streams, see [View logs for a container or service](https://docs.docker.com/config/containers/logging/) in the Docker documentation\.

   15  
   16: **Note**  
   17  If you aren't using the Amazon ECS optimized AMI \(with at least version 1\.9\.0\-1 of the `ecs-init` package\) for your container instances, you also need to specify that the `awslogs` logging driver is available on the container instance when you start the agent by using the following environment variable in your docker run statement or environment variable file\. For more information, see [Installing the Amazon ECS container agent](ecs-agent-install.md)\.  

   28  
   29: **Note**  
   30  To use the `awslogs-create-group` option to have your log group created, your task execution IAM role policy or EC2 instance role policy must include the `logs:CreateLogGroup` permission\.

  175  
  176: **To view your CloudWatch Logs data for a container from the Amazon ECS console**
  177  

  179  
  180: 1. On the **Clusters** page, select the cluster that contains the task to view\.
  181  
  182: 1. On the **Cluster: *cluster\_name*** page, choose **Tasks**, and then select the task to view\.
  183  
  184: 1. On the **Task: *task\_id*** page, under **Container details**, choose **Log configuration** to view the logs\.
  185  
  186: 1. In the **Log Configuration** section, choose **View logs in CloudWatch**, which opens the associated log stream in the CloudWatch console\.
  187  
  188: **To view your CloudWatch Logs data in the CloudWatch console**
  189  

  191  
  192: 1. In the left navigation pane, choose **Logs**\.
  193  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/using_cloudwatch_logs.md:
   6  
   7: **Topics**
   8  + [CloudWatch Logs IAM Policy](#cwl_iam_policy)

  15  
  16: **To create the `ECS-CloudWatchLogs` IAM policy**
  17  

  19  
  20: 1. In the navigation pane, choose **Policies**\. 
  21  
  22: 1. Choose **Create policy**, **JSON**\.
  23  

  45  
  46: 1. Choose **Review policy**\.
  47  
  48: 1. On the **Review policy** page, enter `ECS-CloudWatchLogs` for the **Name** and choose **Create policy**\.
  49  
  50: **To attach the `ECS-CloudWatchLogs` policy to `ecsInstanceRole`**
  51  

  53  
  54: 1. In the navigation pane, choose **Roles**\. 
  55  

  57  
  58: 1. In the navigation pane, choose **Policies**\. 
  59  
  60: 1. Choose **ECS\-CloudWatchLogs**\.
  61  
  62: 1. Choose **Policy actions**, **Attach**\.
  63  
  64: 1. To narrow the available policies to attach, for **Filter**, type **ecsInstance**\.
  65  
  66: 1. Select the **ecsInstance** role and choose **Attach policy**\.
  67  

  77  
  78: **Note**  
  79  New instance launches may take a few minutes to send data to CloudWatch Logs\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/using_data_volumes.md:
  10  
  11: **Topics**
  12  + [Fargate task storage](fargate-task-storage.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/using_firelens.md:
   15  + For tasks that use the `bridge` network mode, the container with the FireLens configuration must start before any application containers that rely on it start\. To control the start order of your containers, use dependency conditions in your task definition\. For more information, see [Container dependency](task_definition_parameters.md#container_definition_dependson)\.
   16: **Note**  
   17  If you use dependency condition parameters in container definitions with a FireLens configuration, ensure that each container has a `START` or `HEALTHY` condition requirement\.

  165  
  166: **Topics**
  167  + [Using the AWS for Fluent Bit image](firelens-using-fluentbit.md)

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/using-service-linked-roles.md:
   6  
   7: For information about other services that support service\-linked roles, see [AWS services that work with IAM](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html) and look for the services that have **Yes **in the **Service\-linked roles** column\. Choose a **Yes** with a link to view the service\-linked role documentation for that service\.
   8  

  10  
  11: Amazon ECS uses the service\-linked role named **AWSServiceRoleForECS**\.
  12  

  30  
  31: **Important**  
  32  This service\-linked role can appear in your account if you completed an action in another service that uses the features supported by this role\.

  43  
  44: **Note**  
  45  If the Amazon ECS service is using the role when you try to delete the resources, then the deletion might fail\. If that happens, wait for a few minutes and try the operation again\.
  46  
  47: **To check whether the service\-linked role has an active session**
  48  

  50  
  51: 1. In the navigation pane, choose **Roles** and choose the AWSServiceRoleForECS name \(not the check box\)\.
  52  
  53: 1. On the **Summary** page, choose **Access Advisor** and review recent activity for the service\-linked role\.
  54: **Note**  
  55  If you are unsure whether Amazon ECS is using the AWSServiceRoleForECS role, you can try to delete the role\. If the service is using the role, then the deletion fails and you can view the regions where the role is being used\. If the role is being used, then you must wait for the session to end before you can delete the role\. You cannot revoke the session for a service\-linked role\. 
  56  
  57: **To remove Amazon ECS resources used by the AWSServiceRoleForECS service\-linked role**
  58  

  66  
  67: **To manually delete the service\-linked role using IAM**
  68  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/viewing_cloudwatch_metrics.md:
   4  
   5: **Topics**
   6  + [Viewing cluster metrics using the Amazon ECS console](#viewing_cluster_metrics)

  17  
  18: 1. On the **Cluster: *cluster\-name*** page, choose **Metrics**\.
  19  

  27  
  28: 1. On the **Cluster: *cluster\-name*** page, select the service\.
  29  
  30:    The metrics are available under **Health and metrics**\.
  31  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/viewing_cluster_metrics_classic.md:
  13  
  14: 1. On the **Cluster: *cluster\-name*** page, choose **Metrics**\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/vpc-endpoints.md:
  15      If your VPC doesn't have an internet gateway, you must create the gateway endpoint for Amazon S3\. For more information, see [Create the Amazon S3 gateway endpoint](https://docs.aws.amazon.com/AmazonECR/latest/userguide/vpc-endpoints.html#ecr-setting-up-s3-gateway) in the *Amazon Elastic Container Registry User Guide*\. The interface endpoints for Amazon S3 can't be used with Amazon ECR\.
  16: **Important**  
  17  If you configure Amazon ECR to use an interface VPC endpoint, you can create a task execution role that includes condition keys to restrict access to a specific VPC or VPC endpoint\. For more information, see [Optional IAM permissions for Fargate tasks pulling Amazon ECR images over interface endpoints](task_execution_IAM_role.md#task-execution-ecr-conditionkeys)\.

  41  
  42: **Note**  
  43  *region* represents the Region identifier for an AWS Region supported by Amazon ECS, such as `us-east-2` for the US East \(Ohio\) Region\.

  46  
  47: **To restart the Amazon ECS container agent**
  48  

  87  
  88: **Example: VPC endpoint policy for Amazon ECS actions**  
  89  The following is an example of an endpoint policy for Amazon ECS\. When attached to an endpoint, this policy grants access to permission to create and list clusters\. The `CreateCluster` and `ListClusters` actions do not accept any resources, so the resource definition is set to \* for all resources\. 

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/welcome-related.md:
   4  
   5: **AWS Identity and Access Management**  
   6  AWS Identity and Access Management \(IAM\) is an access management service that helps you securely control access to AWS resources\. You can use IAM to control who's authenticated \(signed in\) and authorized \(has permissions\) to view or perform specific actions on resources\. In Amazon ECS, you can use IAM to control access at the container instance level using IAM roles\. You can also use it to control access at the task level using IAM task roles\. For more information, see [Identity and Access Management for Amazon Elastic Container Service](security-iam.md)\. 
   7  
   8: **Amazon EC2 Auto Scaling**  
   9  Auto Scaling is a service that sets up automatic scaling for your tasks\. The scaling is based on user\-defined policies, health status checks, and schedules\. You can use Auto Scaling alongside a Fargate task within a service to scale in response to a number of metrics\. Or, alternatively, you can use it with an EC2 task to scale the container instances within your cluster\. For more information, see [Service auto scaling](service-auto-scaling.md)\.
  10  
  11: **Elastic Load Balancing**  
  12  The Elastic Load Balancing service automatically distributes incoming application traffic across the tasks in your Amazon ECS service\. You can use it to achieve greater levels of fault tolerance in your applications\. At the same time, you can use it to also provide the amount of load\-balancing capacity that's required to distribute application traffic\. You can use Elastic Load Balancing to create an endpoint that balances traffic across services in a cluster\. For more information, see [Service load balancing](service-load-balancing.md)\.
  13  
  14: **Amazon Elastic Container Registry**  
  15  Amazon ECR is a managed AWS Docker registry service that's secure, scalable, and reliable\. Amazon ECR supports private Docker repositories with resource\-based permissions using IAM so that specific users or tasks can access repositories and images\. Developers can use the Docker CLI to push, pull, and manage images\. For more information, see the *[Amazon Elastic Container Registry User Guide](https://docs.aws.amazon.com/AmazonECR/latest/userguide/)*\.
  16  
  17: **AWS CloudFormation**  
  18  AWS CloudFormation gives developers and systems administrators an easy way to create and manage a collection of related AWS resources\. More specifically, it makes provisioning and updating resources more predictable\. You can define clusters, task definitions, and services as entities in an AWS CloudFormation script\. For more information, see [AWS CloudFormation Template Reference](https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/)\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/Welcome.md:
  41  You can create, access, and manage your Amazon ECS resources using any of the following interfaces:
  42: + **AWS Management Console** — Provides a web interface that you can use to access your Amazon ECS resources\.
  43: + **AWS Command Line Interface \(AWS CLI\)** — Provides commands for a broad set of AWS services, including Amazon ECS\. It's supported on Windows, Mac, and Linux\. For more information, see [AWS Command Line Interface](https://aws.amazon.com/cli/)\.
  44: + **AWS SDKs** — Provides language\-specific APIs and takes care of many of the connection details\. These include calculating signatures, handling request retries, and error handling\. For more information, see [AWS SDKs](http://aws.amazon.com/tools/#SDKs)\.
  45: + **AWS Copilot** — Provides an open\-source tool for developers to build, release, and operate production ready containerized applications on Amazon ECS\. For more information, see [AWS Copilot](https://github.com/aws/copilot-cli) on the GitHub website\.
  46: + **Amazon ECS CLI** — Provides a command line interface for you to run your applications on Amazon ECS and AWS Fargate using the Docker Compose file format\. You can quickly provision resources, push and pull images using Amazon Elastic Container Registry, and monitor running applications on Amazon ECS or Fargate\. You can also test containers that are running locally along with containers in the Cloud within the CLI\. For more information, see [Amazon ECS CLI](https://github.com/aws/amazon-ecs-cli) on the GitHub website\.
  47: + **AWS CDK** — Provides an open\-source software development framework that you can use to model and provision your cloud application resources using familiar programming languages\. The AWS CDK provisions your resources in a safe, repeatable manner through AWS CloudFormation\. For more information, see [Getting started with Amazon ECS using the AWS CDK](tutorial-ecs-web-server-cdk.md)\.
  48  

  54  
  55: To view your bill, go to the **Billing and Cost Management Dashboard** in the [AWS Billing and Cost Management console](https://console.aws.amazon.com/billing/)\. Your bill contains links to usage reports that provide additional details about your bill\. To learn more about AWS account billing, see [AWS Account Billing](https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/)\.
  56  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/wfsx-volumes.md:
    4  
    5: **Note**  
    6  EC2 instances that use the Amazon ECS\-Optimized Windows Server 2016 Full AMI do not support FSx for Windows File Server ECS task volumes\.  

  130  There are two different methods of storing credentials for use with the credentials parameter\.
  131: + **AWS Secrets Manager secret**
  132  
  133    This credential can be created in the AWS Secrets Manager console by using the *Other type of secret* category\. You add a row for each key/value pair, username/admin and password/*password*\.
  134: + **Systems Manager parameter**
  135  

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/Windows_fargate-getting_started-classic-console.md:
   24  
   25: **To create a cluster with the AWS Management Console**
   26  

   28  
   29: 1. In the navigation pane, choose **Clusters**\.
   30  
   31: 1. On the **Clusters** page, choose **Create Cluster**\.
   32  
   33: 1. Choose **Networking only** and choose **Next step**\.
   34  
   35: 1. For **Cluster name** enter a name for your cluster \(in this example, `windows` is the name of the cluster\)\. Up to 255 letters \(uppercase and lowercase\), numbers, hyphens, and underscores are allowed\.
   36  
   37: 1. In the **Networking** section, configure the VPC to launch your container instances into\. By default, the cluster creation wizard creates a new VPC with two subnets in different Availability Zones, and a security group open to the internet on port 80\. This is a basic setup that works well for an HTTP service\. However, you can modify these settings by following the substeps below\.
   38  
   39:    1. To create a new VPC, select **CreateVPC**\.
   40  
   41:    1. \(Optional\) If you chose to create a new VPC, for **CIDR Block**, enter a CIDR block for your VPC\. For more information, see [Your VPC and Subnets](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html) in the *Amazon VPC User Guide*\.
   42  
   43:    1. For **Subnet 1** and **Subnet 2**, enter the CIDR range for each subnet\.
   44  
   45: 1. In the **Tags** section, specify the key and value for each tag to associate with the cluster\. For more information, see [Tagging Your Amazon ECS Resources](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html)\.
   46  
   47: 1. In the **CloudWatch Container Insights** section, choose whether to enable Container Insights for the cluster\. For more information, see [Amazon ECS CloudWatch Container Insights](cloudwatch-container-insights.md)\.
   48  
   49: 1. Choose **Create**\.
   50: **Note**  
   51  It can take up to 15 minutes for your Windows container instances to register with your cluster\.

   56  
   57: **To register the sample task definition with the AWS Management Console**
   58  

   60  
   61: 1. In the navigation pane, choose **Task Definitions**\.
   62  
   63: 1. On the **Task Definitions** page, choose **Create new Task Definition**\.
   64  
   65: 1. On the **Select launch type compatibilities** page, choose **Fargate**, **Next step**\.
   66  
   67: 1. Scroll to the bottom of the page and choose **Configure via JSON**\.
   68  
   69: 1. Paste the sample task definition JSON below into the text area \(replacing the pre\-populated JSON there\) and choose **Save**\.
   70  

  123  
  124: 1. Verify your information and choose **Create**\.
  125  
  126: **To register the sample task definition with the AWS CLI**
  127  

  132  1. Using the AWS CLI, run the following command to register the task definition with Amazon ECS\.
  133: **Note**  
  134  Make sure that your AWS CLI is configured to use the same region that your Windows cluster exists in, or add the `--region your_cluster_region` option to your command\.

  143  
  144: **To create a service from your task definition with the console**
  145  
  146: 1. On the **Task Definition: windows\_fargate\_sample\_app** registration confirmation page, choose **Actions**, **Create Service**\.
  147  
  148: 1. On the **Create Service** page, enter the following information and then choose **Create service**\.
  149:    + **Launch type:** `Fargate`
  150:    + **Platform operating system**: `WINDOWS_SERVER_2019_FULL`, `WINDOWS_SERVER_2019_CORE`, `WINDOWS_SERVER_2022_FULL`, or `WINDOWS_SERVER_2022_CORE`
  151:    + **Cluster:** windows
  152:    + **Service name:** windows\_fargate\_sample\_app
  153:    + **Service type:** `REPLICA`
  154:    + **Number of tasks:** 1
  155:    + **Deployment type:** Rolling update
  156  
  157: **To create a service from your task definition with the AWS CLI**
  158  + Using the AWS CLI, run the following command to create your service\.

  167  
  168: **Note**  
  169  It can take up to 15 minutes for your container instance to download and extract the Windows container base layers\.
  170  
  171: **To view your service**
  172  

  174  
  175: 1. On the **Clusters** page, choose the **windows** cluster\.
  176  
  177: 1. In the **Services** tab, choose the **windows\_fargate\_sample\_app** service\.
  178  
  179: 1. On the **Service: windows\_fargate\_sample\_app** page, choose the task ID for the task in your service\.
  180  
  181: 1. On the **Task** page, expand the `windows_fargate` container to view its information\.
  182  
  183: 1. In the **Network bindings** of the container, you should see an **External Link** IP address and port combination link\. Choose that link to open the IIS test page in your browser\.  
  184  ![\[Screenshot of the Amazon ECS sample application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/windows-simple-iis.png)

  193  
  194: 1. In the navigation pane, choose **Clusters**\.
  195  
  196: 1. On the **Clusters** page, select the cluster to delete\.
  197  
  198: 1. Choose **Delete Cluster**\. At the confirmation prompt, enter **delete me** and then choose **Delete**\. Deleting the cluster cleans up the associated resources that were created with the cluster, including Auto Scaling groups, VPCs, or load balancers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/Windows_fargate-getting_started.md:
   21  
   22: **To create a cluster with the AWS Management Console**
   23  

   27  
   28: 1. In the navigation pane, choose **Clusters**\.
   29  
   30: 1. On the **Clusters** page, choose **Create cluster**\.
   31  
   32: 1. Under **Cluster configuration**, for **Cluster name**, enter **windows**\.
   33  
   34: 1. \(Optional\) To turn on Container Insights, expand **Monitoring**, and then turn on **Use Container Insights**\.
   35  
   36: 1. \(Optional\) To help identify your cluster, expand **Tags**, and then configure your tags\.
   37  
   38:    \[Add a tag\] Choose **Add tag** and do the following:
   39:    + For **Key**, enter the key name\.
   40:    + For **Value**, enter the key value\.
   41  
   42:    \[Remove a tag\] Choose **Remove** to the right of the tag’s Key and Value\.
   43  
   44: 1. Choose **Create**\.
   45  

   49  
   50: **To register the sample task definition with the AWS Management Console**
   51  
   52: 1. In the navigation pane, choose **Task definitions**\.
   53  
   54: 1. Choose **Create new task definition**, **Create new task definition with JSON**\.
   55  
   56: 1. Copy and paste the following example task definition into the box and then choose **Save**\.
   57  

  104  
  105: 1. Verify your information and choose **Create**\.
  106  

  110  
  111: **To create a service from your task definition with the console**
  112  
  113: 1. In the navigation pane, choose **Clusters**, and then select the cluster you created in [Step 1: Create a cluster](#create_fargate_windows_cluster-v2)\.
  114  
  115: 1. From the **Services** tab, choose **Create**\.
  116  
  117: 1. Under **Deployment configuration**, specify how your application is deployed\.
  118  
  119:    1. For **Task definition**, choose the task definition you created in [Step 2: Create a task definition](getting-started-fargate.md#get-started-fargate-task-def)\.
  120  
  121:    1. For **Service name**, enter a name for your service\.
  122  
  123:    1. For **Desired tasks**, enter **1**\.
  124  
  125: 1. Choose **Create**\.
  126  

  130  
  131: **Note**  
  132  It can take up to 15 minutes for your container instance to download and extract the Windows container base layers\.
  133  
  134: **To view your service**
  135  
  136: 1. On the **Clusters** page, choose the **windows** cluster\.
  137  
  138: 1. In the **Services** tab, choose the **windows\_fargate\_sample\_app** service\.
  139  
  140: 1. On the **Service: windows\_fargate\_sample\_app** page, choose the task ID for the task in your service\.
  141  
  142: 1. On the **Task** page, in the **Configuration** section, under **Public IP**, choose **open address**\.  
  143  ![\[Screenshot of the Amazon ECS sample application. The output indicates that "Your application is now running on Amazon ECS".\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/windows-simple-iis.png)

  150  
  151: 1. In the navigation pane, choose **Clusters**\.
  152  
  153: 1. On the **Clusters** page, select the cluster to delete\.
  154  
  155: 1. Choose **Delete Cluster**\. At the confirmation prompt, enter **delete windows**, and then choose **Delete**\. Deleting the cluster cleans up the associated resources that were created with the cluster, including Auto Scaling groups, VPCs, or load balancers\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/windows_task_IAM_roles.md:
   2  
   3: **Important**  
   4  For Windows containers on Fargate that use task roles, no further action is necessary\. For Windows containers on EC2 that use task roles, follow these steps\.

  24  
  25: **Note**  
  26  You do not need to run this script when you use `awsvpc` network mode on Windows\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/windows-container-instance-spot.md:
  10  
  11: **Important**  
  12  Amazon ECS monitors for the Spot Instance interruption notices that have the `terminate` and `stop` instance\-actions\. If you specified either the `hibernate` instance interruption behavior when requesting your Spot Instances or Spot Fleet, then Amazon ECS Spot Instance draining is not supported for those instances\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/windows-custom-ami.md:
   7  When building your own Amazon ECS\-optimized Windows AMI using EC2 Image Builder, you create an image recipe\. Your image recipe must meet the following requirements:
   8: + The **Source image** should be based on Windows Server 2004 Core, Windows Server 2016 Full, Windows Server 2019 Core, Windows Server 2019 Full, Windows Server 2022 Core, or Windows Server 2022 Full\. Any other Windows operating system is not supported and may not be compatible with the component\.
   9: + When specifying the **Build components**, the `ecs-optimized-ami-windows` component is required\. The `update-windows` component is recommended, which ensures the image contains the latest security updates\.  
  10  ![\[The required components for building a custom Amazon ECS Windows-optimized AMI\]](http://docs.aws.amazon.com/AmazonECS/latest/developerguide/images/ecs-windows-custom-ami-component.png)
  11  
  12:   To specify a different component version, expand the **Versioning options** menu and specify the component version you want to use\. For more information, see [Listing the `ecs-optimized-ami-windows` component versions](#windows-component-list)\.
  13  

  17  
  18: **To list the available `ecs-optimized-ami-windows` component versions**
  19  

  23  
  24: 1. In the navigation pane, under the **Saved configurations** menu, choose **Components**\.
  25  
  26: 1. On the **Components** page, in the search bar type `ecs-optimized-ami-windows` and pull down the qualification menu and select **Quick start \(Amazon\-managed\)**\.
  27  
  28: 1. Use the **Description** column to determine the component version with the Amazon ECS container agent and Docker version your image requires\.

proj.aws-docs • semantic-search-aws-docs/amazon-ecs-developer-guide/doc_source/windows-gmsa.md:
   8  
   9: **Note**  
  10  This feature is not supported on Windows containers on Fargate\.
  11  
  12: **Topics**
  13  + [Considerations](#windows-gmsa-considerations)
